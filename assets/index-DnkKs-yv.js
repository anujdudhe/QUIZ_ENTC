(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},$a={},zm={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),wv=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),_v=Symbol.for("react.profiler"),Tv=Symbol.for("react.provider"),xv=Symbol.for("react.context"),Ev=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Sv=Symbol.for("react.memo"),Cv=Symbol.for("react.lazy"),wf=Symbol.iterator;function Nv(t){return t===null||typeof t!="object"?null:(t=wf&&t[wf]||t["@@iterator"],typeof t=="function"?t:null)}var Qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hm=Object.assign,$m={};function _i(t,e,n){this.props=t,this.context=e,this.refs=$m,this.updater=n||Qm}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gm(){}Gm.prototype=_i.prototype;function Oc(t,e,n){this.props=t,this.context=e,this.refs=$m,this.updater=n||Qm}var Lc=Oc.prototype=new Gm;Lc.constructor=Oc;Hm(Lc,_i.prototype);Lc.isPureReactComponent=!0;var vf=Array.isArray,Km=Object.prototype.hasOwnProperty,qc={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function Ym(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Km.call(e,r)&&!Xm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ks,type:t,key:s,ref:a,props:i,_owner:qc.current}}function Rv(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function Pv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var If=/\/+/g;function Bl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pv(""+t.key):e.toString(36)}function Fo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ks:case wv:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Bl(a,0):r,vf(i)?(n="",t!=null&&(n=t.replace(If,"$&/")+"/"),Fo(i,e,n,"",function(h){return h})):i!=null&&(jc(i)&&(i=Rv(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(If,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",vf(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Bl(s,l);a+=Fo(s,e,n,u,i)}else if(u=Nv(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Bl(s,l++),a+=Fo(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wo(t,e,n){if(t==null)return t;var r=[],i=0;return Fo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},Bo={transition:null},kv={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:qc};function Jm(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:wo,forEach:function(t,e,n){wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wo(t,function(){e++}),e},toArray:function(t){return wo(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=_i;ne.Fragment=vv;ne.Profiler=_v;ne.PureComponent=Oc;ne.StrictMode=Iv;ne.Suspense=Av;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kv;ne.act=Jm;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hm({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=qc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Km.call(e,u)&&!Xm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Ks,type:t.type,key:i,ref:s,props:r,_owner:a}};ne.createContext=function(t){return t={$$typeof:xv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tv,_context:t},t.Consumer=t};ne.createElement=Ym;ne.createFactory=function(t){var e=Ym.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Ev,render:t}};ne.isValidElement=jc;ne.lazy=function(t){return{$$typeof:Cv,_payload:{_status:-1,_result:t},_init:bv}};ne.memo=function(t,e){return{$$typeof:Sv,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Bo.transition;Bo.transition={};try{t()}finally{Bo.transition=e}};ne.unstable_act=Jm;ne.useCallback=function(t,e){return ut.current.useCallback(t,e)};ne.useContext=function(t){return ut.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ne.useEffect=function(t,e){return ut.current.useEffect(t,e)};ne.useId=function(){return ut.current.useId()};ne.useImperativeHandle=function(t,e,n){return ut.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return ut.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return ut.current.useReducer(t,e,n)};ne.useRef=function(t){return ut.current.useRef(t)};ne.useState=function(t){return ut.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return ut.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return ut.current.useTransition()};ne.version="18.3.1";zm.exports=ne;var te=zm.exports;const Dv=yv(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv=te,Mv=Symbol.for("react.element"),Uv=Symbol.for("react.fragment"),Ov=Object.prototype.hasOwnProperty,Lv=Vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qv={key:!0,ref:!0,__self:!0,__source:!0};function Zm(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ov.call(e,r)&&!qv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mv,type:t,key:s,ref:a,props:i,_owner:Lv.current}}$a.Fragment=Uv;$a.jsx=Zm;$a.jsxs=Zm;Wm.exports=$a;var p=Wm.exports,xu={},eg={exports:{}},xt={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,q){var W=z.length;z.push(q);e:for(;0<W;){var K=W-1>>>1,F=z[K];if(0<i(F,q))z[K]=q,z[W]=F,W=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var q=z[0],W=z.pop();if(W!==q){z[0]=W;e:for(var K=0,F=z.length,G=F>>>1;K<G;){var le=2*(K+1)-1,he=z[le],_e=le+1,it=z[_e];if(0>i(he,W))_e<F&&0>i(it,he)?(z[K]=it,z[_e]=W,K=_e):(z[K]=he,z[le]=W,K=le);else if(_e<F&&0>i(it,W))z[K]=it,z[_e]=W,K=_e;else break e}}return q}function i(z,q){var W=z.sortIndex-q.sortIndex;return W!==0?W:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,g=null,w=3,C=!1,b=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var q=n(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=z)r(h),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(h)}}function U(z){if(D=!1,S(z),!b)if(n(u)!==null)b=!0,nn(P);else{var q=n(h);q!==null&&At(U,q.startTime-z)}}function P(z,q){b=!1,D&&(D=!1,E(y),y=-1),C=!0;var W=w;try{for(S(q),g=n(u);g!==null&&(!(g.expirationTime>q)||z&&!A());){var K=g.callback;if(typeof K=="function"){g.callback=null,w=g.priorityLevel;var F=K(g.expirationTime<=q);q=t.unstable_now(),typeof F=="function"?g.callback=F:g===n(u)&&r(u),S(q)}else r(u);g=n(u)}if(g!==null)var G=!0;else{var le=n(h);le!==null&&At(U,le.startTime-q),G=!1}return G}finally{g=null,w=W,C=!1}}var V=!1,v=null,y=-1,I=5,x=-1;function A(){return!(t.unstable_now()-x<I)}function N(){if(v!==null){var z=t.unstable_now();x=z;var q=!0;try{q=v(!0,z)}finally{q?T():(V=!1,v=null)}}else V=!1}var T;if(typeof _=="function")T=function(){_(N)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,rt=me.port2;me.port1.onmessage=N,T=function(){rt.postMessage(null)}}else T=function(){M(N,0)};function nn(z){v=z,V||(V=!0,T())}function At(z,q){y=M(function(){z(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||C||(b=!0,nn(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var W=w;w=q;try{return z()}finally{w=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=w;w=z;try{return q()}finally{w=W}},t.unstable_scheduleCallback=function(z,q,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=W+F,z={id:f++,callback:q,priorityLevel:z,startTime:W,expirationTime:F,sortIndex:-1},W>K?(z.sortIndex=W,e(h,z),n(u)===null&&z===n(h)&&(D?(E(y),y=-1):D=!0,At(U,W-K))):(z.sortIndex=F,e(u,z),b||C||(b=!0,nn(P))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var q=w;return function(){var W=w;w=q;try{return z.apply(this,arguments)}finally{w=W}}}})(ng);tg.exports=ng;var jv=tg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=te,Tt=jv;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rg=new Set,Ts={};function Er(t,e){ai(t,e),ai(t+"Capture",e)}function ai(t,e){for(Ts[t]=e,t=0;t<e.length;t++)rg.add(e[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,Bv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_f={},Tf={};function Wv(t){return Eu.call(Tf,t)?!0:Eu.call(_f,t)?!1:Bv.test(t)?Tf[t]=!0:(_f[t]=!0,!1)}function zv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qv(t,e,n,r){if(e===null||typeof e>"u"||zv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fc=/[\-:]([a-z])/g;function Bc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fc,Bc);$e[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fc,Bc);$e[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fc,Bc);$e[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wc(t,e,n,r){var i=$e.hasOwnProperty(e)?$e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qv(e,n,i,r)&&(n=null),r||i===null?Wv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),Au=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),sg=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Cu=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),og=Symbol.for("react.offscreen"),xf=Symbol.iterator;function Hi(t){return t===null||typeof t!="object"?null:(t=xf&&t[xf]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Wl;function es(t){if(Wl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wl=e&&e[1]||""}return`
`+Wl+t}var zl=!1;function Ql(t,e){if(!t||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?es(t):""}function Hv(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=Ql(t.type,!1),t;case 11:return t=Ql(t.type.render,!1),t;case 1:return t=Ql(t.type,!0),t;default:return""}}function Nu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Lr:return"Portal";case Au:return"Profiler";case zc:return"StrictMode";case Su:return"Suspense";case Cu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sg:return(t.displayName||"Context")+".Consumer";case ig:return(t._context.displayName||"Context")+".Provider";case Qc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hc:return e=t.displayName||null,e!==null?e:Nu(t.type)||"Memo";case An:e=t._payload,t=t._init;try{return Nu(t(e))}catch{}}return null}function $v(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(e);case 8:return e===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ag(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gv(t){var e=ag(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Io(t){t._valueTracker||(t._valueTracker=Gv(t))}function lg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ag(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ru(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ef(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ug(t,e){e=e.checked,e!=null&&Wc(t,"checked",e,!1)}function Pu(t,e){ug(t,e);var n=Qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&bu(t,e.type,Qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bu(t,e,n){(e!=="number"||sa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ts=Array.isArray;function Xr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(ts(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qn(n)}}function cg(t,e){var n=Qn(e.value),r=Qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _o,dg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kv=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(t){Kv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),as[e]=as[t]})});function fg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||as.hasOwnProperty(t)&&as[t]?(""+e).trim():e+"px"}function pg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xv=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(t,e){if(e){if(Xv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=null;function $c(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ou=null,Yr=null,Jr=null;function Nf(t){if(t=Js(t)){if(typeof Ou!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Ja(e),Ou(t.stateNode,t.type,e))}}function mg(t){Yr?Jr?Jr.push(t):Jr=[t]:Yr=t}function gg(){if(Yr){var t=Yr,e=Jr;if(Jr=Yr=null,Nf(t),e)for(t=0;t<e.length;t++)Nf(e[t])}}function yg(t,e){return t(e)}function wg(){}var Hl=!1;function vg(t,e,n){if(Hl)return t(e,n);Hl=!0;try{return yg(t,e,n)}finally{Hl=!1,(Yr!==null||Jr!==null)&&(wg(),gg())}}function Es(t,e){var n=t.stateNode;if(n===null)return null;var r=Ja(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Lu=!1;if(cn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Lu=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Lu=!1}function Yv(t,e,n,r,i,s,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var ls=!1,oa=null,aa=!1,qu=null,Jv={onError:function(t){ls=!0,oa=t}};function Zv(t,e,n,r,i,s,a,l,u){ls=!1,oa=null,Yv.apply(Jv,arguments)}function e0(t,e,n,r,i,s,a,l,u){if(Zv.apply(this,arguments),ls){if(ls){var h=oa;ls=!1,oa=null}else throw Error(j(198));aa||(aa=!0,qu=h)}}function Ar(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ig(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rf(t){if(Ar(t)!==t)throw Error(j(188))}function t0(t){var e=t.alternate;if(!e){if(e=Ar(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rf(i),t;if(s===r)return Rf(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function _g(t){return t=t0(t),t!==null?Tg(t):null}function Tg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tg(t);if(e!==null)return e;t=t.sibling}return null}var xg=Tt.unstable_scheduleCallback,Pf=Tt.unstable_cancelCallback,n0=Tt.unstable_shouldYield,r0=Tt.unstable_requestPaint,Re=Tt.unstable_now,i0=Tt.unstable_getCurrentPriorityLevel,Gc=Tt.unstable_ImmediatePriority,Eg=Tt.unstable_UserBlockingPriority,la=Tt.unstable_NormalPriority,s0=Tt.unstable_LowPriority,Ag=Tt.unstable_IdlePriority,Ga=null,Kt=null;function o0(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ga,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:u0,a0=Math.log,l0=Math.LN2;function u0(t){return t>>>=0,t===0?32:31-(a0(t)/l0|0)|0}var To=64,xo=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ua(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ns(l):(s&=a,s!==0&&(r=ns(s)))}else a=n&~i,a!==0?r=ns(a):s!==0&&(r=ns(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function c0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-qt(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=c0(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sg(){var t=To;return To<<=1,!(To&4194240)&&(To=64),t}function $l(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function d0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function Cg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ng,Xc,Rg,Pg,bg,Fu=!1,Eo=[],kn=null,Dn=null,Vn=null,As=new Map,Ss=new Map,Cn=[],f0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bf(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":As.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(e.pointerId)}}function Gi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Js(e),e!==null&&Xc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function p0(t,e,n,r,i){switch(e){case"focusin":return kn=Gi(kn,t,e,n,r,i),!0;case"dragenter":return Dn=Gi(Dn,t,e,n,r,i),!0;case"mouseover":return Vn=Gi(Vn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return As.set(s,Gi(As.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ss.set(s,Gi(Ss.get(s)||null,t,e,n,r,i)),!0}return!1}function kg(t){var e=hr(t.target);if(e!==null){var n=Ar(e);if(n!==null){if(e=n.tag,e===13){if(e=Ig(n),e!==null){t.blockedOn=e,bg(t.priority,function(){Rg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uu=r,n.target.dispatchEvent(r),Uu=null}else return e=Js(n),e!==null&&Xc(e),t.blockedOn=n,!1;e.shift()}return!0}function kf(t,e,n){Wo(t)&&n.delete(e)}function m0(){Fu=!1,kn!==null&&Wo(kn)&&(kn=null),Dn!==null&&Wo(Dn)&&(Dn=null),Vn!==null&&Wo(Vn)&&(Vn=null),As.forEach(kf),Ss.forEach(kf)}function Ki(t,e){t.blockedOn===e&&(t.blockedOn=null,Fu||(Fu=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,m0)))}function Cs(t){function e(i){return Ki(i,t)}if(0<Eo.length){Ki(Eo[0],t);for(var n=1;n<Eo.length;n++){var r=Eo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&Ki(kn,t),Dn!==null&&Ki(Dn,t),Vn!==null&&Ki(Vn,t),As.forEach(e),Ss.forEach(e),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)kg(n),n.blockedOn===null&&Cn.shift()}var Zr=yn.ReactCurrentBatchConfig,ca=!0;function g0(t,e,n,r){var i=ce,s=Zr.transition;Zr.transition=null;try{ce=1,Yc(t,e,n,r)}finally{ce=i,Zr.transition=s}}function y0(t,e,n,r){var i=ce,s=Zr.transition;Zr.transition=null;try{ce=4,Yc(t,e,n,r)}finally{ce=i,Zr.transition=s}}function Yc(t,e,n,r){if(ca){var i=Bu(t,e,n,r);if(i===null)ru(t,e,r,ha,n),bf(t,r);else if(p0(i,t,e,n,r))r.stopPropagation();else if(bf(t,r),e&4&&-1<f0.indexOf(t)){for(;i!==null;){var s=Js(i);if(s!==null&&Ng(s),s=Bu(t,e,n,r),s===null&&ru(t,e,r,ha,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ru(t,e,r,null,n)}}var ha=null;function Bu(t,e,n,r){if(ha=null,t=$c(r),t=hr(t),t!==null)if(e=Ar(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ig(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ha=t,null}function Dg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i0()){case Gc:return 1;case Eg:return 4;case la:case s0:return 16;case Ag:return 536870912;default:return 16}default:return 16}}var Rn=null,Jc=null,zo=null;function Vg(){if(zo)return zo;var t,e=Jc,n=e.length,r,i="value"in Rn?Rn.value:Rn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return zo=i.slice(t,1<r?1-r:void 0)}function Qo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function Df(){return!1}function Et(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ao:Df,this.isPropagationStopped=Df,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Et(Ti),Ys=Ee({},Ti,{view:0,detail:0}),w0=Et(Ys),Gl,Kl,Xi,Ka=Ee({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xi&&(Xi&&t.type==="mousemove"?(Gl=t.screenX-Xi.screenX,Kl=t.screenY-Xi.screenY):Kl=Gl=0,Xi=t),Gl)},movementY:function(t){return"movementY"in t?t.movementY:Kl}}),Vf=Et(Ka),v0=Ee({},Ka,{dataTransfer:0}),I0=Et(v0),_0=Ee({},Ys,{relatedTarget:0}),Xl=Et(_0),T0=Ee({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=Et(T0),E0=Ee({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A0=Et(E0),S0=Ee({},Ti,{data:0}),Mf=Et(S0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R0[t])?!!e[t]:!1}function eh(){return P0}var b0=Ee({},Ys,{key:function(t){if(t.key){var e=C0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k0=Et(b0),D0=Ee({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uf=Et(D0),V0=Ee({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),M0=Et(V0),U0=Ee({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=Et(U0),L0=Ee({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=Et(L0),j0=[9,13,27,32],th=cn&&"CompositionEvent"in window,us=null;cn&&"documentMode"in document&&(us=document.documentMode);var F0=cn&&"TextEvent"in window&&!us,Mg=cn&&(!th||us&&8<us&&11>=us),Of=" ",Lf=!1;function Ug(t,e){switch(t){case"keyup":return j0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function B0(t,e){switch(t){case"compositionend":return Og(e);case"keypress":return e.which!==32?null:(Lf=!0,Of);case"textInput":return t=e.data,t===Of&&Lf?null:t;default:return null}}function W0(t,e){if(jr)return t==="compositionend"||!th&&Ug(t,e)?(t=Vg(),zo=Jc=Rn=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mg&&e.locale!=="ko"?null:e.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z0[t.type]:e==="textarea"}function Lg(t,e,n,r){mg(r),e=da(e,"onChange"),0<e.length&&(n=new Zc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cs=null,Ns=null;function Q0(t){Kg(t,0)}function Xa(t){var e=Wr(t);if(lg(e))return t}function H0(t,e){if(t==="change")return e}var qg=!1;if(cn){var Yl;if(cn){var Jl="oninput"in document;if(!Jl){var jf=document.createElement("div");jf.setAttribute("oninput","return;"),Jl=typeof jf.oninput=="function"}Yl=Jl}else Yl=!1;qg=Yl&&(!document.documentMode||9<document.documentMode)}function Ff(){cs&&(cs.detachEvent("onpropertychange",jg),Ns=cs=null)}function jg(t){if(t.propertyName==="value"&&Xa(Ns)){var e=[];Lg(e,Ns,t,$c(t)),vg(Q0,e)}}function $0(t,e,n){t==="focusin"?(Ff(),cs=e,Ns=n,cs.attachEvent("onpropertychange",jg)):t==="focusout"&&Ff()}function G0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(Ns)}function K0(t,e){if(t==="click")return Xa(e)}function X0(t,e){if(t==="input"||t==="change")return Xa(e)}function Y0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:Y0;function Rs(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(e,i)||!Ft(t[i],e[i]))return!1}return!0}function Bf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wf(t,e){var n=Bf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bf(n)}}function Fg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bg(){for(var t=window,e=sa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sa(t.document)}return e}function nh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function J0(t){var e=Bg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fg(n.ownerDocument.documentElement,n)){if(r!==null&&nh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wf(n,s);var a=Wf(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z0=cn&&"documentMode"in document&&11>=document.documentMode,Fr=null,Wu=null,hs=null,zu=!1;function zf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Fr==null||Fr!==sa(r)||(r=Fr,"selectionStart"in r&&nh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hs&&Rs(hs,r)||(hs=r,r=da(Wu,"onSelect"),0<r.length&&(e=new Zc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fr)))}function So(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Br={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},Zl={},Wg={};cn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Ya(t){if(Zl[t])return Zl[t];if(!Br[t])return t;var e=Br[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wg)return Zl[t]=e[n];return t}var zg=Ya("animationend"),Qg=Ya("animationiteration"),Hg=Ya("animationstart"),$g=Ya("transitionend"),Gg=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){Gg.set(t,e),Er(e,[t])}for(var eu=0;eu<Qf.length;eu++){var tu=Qf[eu],eI=tu.toLowerCase(),tI=tu[0].toUpperCase()+tu.slice(1);Zn(eI,"on"+tI)}Zn(zg,"onAnimationEnd");Zn(Qg,"onAnimationIteration");Zn(Hg,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn($g,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Hf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,e0(r,e,void 0,t),t.currentTarget=null}function Kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Hf(i,l,h),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Hf(i,l,h),s=u}}}if(aa)throw t=qu,aa=!1,qu=null,t}function ye(t,e){var n=e[Ku];n===void 0&&(n=e[Ku]=new Set);var r=t+"__bubble";n.has(r)||(Xg(e,t,2,!1),n.add(r))}function nu(t,e,n){var r=0;e&&(r|=4),Xg(n,t,r,e)}var Co="_reactListening"+Math.random().toString(36).slice(2);function Ps(t){if(!t[Co]){t[Co]=!0,rg.forEach(function(n){n!=="selectionchange"&&(nI.has(n)||nu(n,!1,t),nu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Co]||(e[Co]=!0,nu("selectionchange",!1,e))}}function Xg(t,e,n,r){switch(Dg(e)){case 1:var i=g0;break;case 4:i=y0;break;default:i=Yc}n=i.bind(null,e,n,t),i=void 0,!Lu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ru(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=hr(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}vg(function(){var h=s,f=$c(n),g=[];e:{var w=Gg.get(t);if(w!==void 0){var C=Zc,b=t;switch(t){case"keypress":if(Qo(n)===0)break e;case"keydown":case"keyup":C=k0;break;case"focusin":b="focus",C=Xl;break;case"focusout":b="blur",C=Xl;break;case"beforeblur":case"afterblur":C=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=M0;break;case zg:case Qg:case Hg:C=x0;break;case $g:C=O0;break;case"scroll":C=w0;break;case"wheel":C=q0;break;case"copy":case"cut":case"paste":C=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Uf}var D=(e&4)!==0,M=!D&&t==="scroll",E=D?w!==null?w+"Capture":null:w;D=[];for(var _=h,S;_!==null;){S=_;var U=S.stateNode;if(S.tag===5&&U!==null&&(S=U,E!==null&&(U=Es(_,E),U!=null&&D.push(bs(_,U,S)))),M)break;_=_.return}0<D.length&&(w=new C(w,b,null,n,f),g.push({event:w,listeners:D}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",w&&n!==Uu&&(b=n.relatedTarget||n.fromElement)&&(hr(b)||b[hn]))break e;if((C||w)&&(w=f.window===f?f:(w=f.ownerDocument)?w.defaultView||w.parentWindow:window,C?(b=n.relatedTarget||n.toElement,C=h,b=b?hr(b):null,b!==null&&(M=Ar(b),b!==M||b.tag!==5&&b.tag!==6)&&(b=null)):(C=null,b=h),C!==b)){if(D=Vf,U="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(D=Uf,U="onPointerLeave",E="onPointerEnter",_="pointer"),M=C==null?w:Wr(C),S=b==null?w:Wr(b),w=new D(U,_+"leave",C,n,f),w.target=M,w.relatedTarget=S,U=null,hr(f)===h&&(D=new D(E,_+"enter",b,n,f),D.target=S,D.relatedTarget=M,U=D),M=U,C&&b)t:{for(D=C,E=b,_=0,S=D;S;S=Dr(S))_++;for(S=0,U=E;U;U=Dr(U))S++;for(;0<_-S;)D=Dr(D),_--;for(;0<S-_;)E=Dr(E),S--;for(;_--;){if(D===E||E!==null&&D===E.alternate)break t;D=Dr(D),E=Dr(E)}D=null}else D=null;C!==null&&$f(g,w,C,D,!1),b!==null&&M!==null&&$f(g,M,b,D,!0)}}e:{if(w=h?Wr(h):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var P=H0;else if(qf(w))if(qg)P=X0;else{P=G0;var V=$0}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(P=K0);if(P&&(P=P(t,h))){Lg(g,P,n,f);break e}V&&V(t,w,h),t==="focusout"&&(V=w._wrapperState)&&V.controlled&&w.type==="number"&&bu(w,"number",w.value)}switch(V=h?Wr(h):window,t){case"focusin":(qf(V)||V.contentEditable==="true")&&(Fr=V,Wu=h,hs=null);break;case"focusout":hs=Wu=Fr=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,zf(g,n,f);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":zf(g,n,f)}var v;if(th)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jr?Ug(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Mg&&n.locale!=="ko"&&(jr||y!=="onCompositionStart"?y==="onCompositionEnd"&&jr&&(v=Vg()):(Rn=f,Jc="value"in Rn?Rn.value:Rn.textContent,jr=!0)),V=da(h,y),0<V.length&&(y=new Mf(y,t,null,n,f),g.push({event:y,listeners:V}),v?y.data=v:(v=Og(n),v!==null&&(y.data=v)))),(v=F0?B0(t,n):W0(t,n))&&(h=da(h,"onBeforeInput"),0<h.length&&(f=new Mf("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:h}),f.data=v))}Kg(g,e)})}function bs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function da(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Es(t,n),s!=null&&r.unshift(bs(t,s,i)),s=Es(t,e),s!=null&&r.push(bs(t,s,i))),t=t.return}return r}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $f(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Es(n,s),u!=null&&a.unshift(bs(n,u,l))):i||(u=Es(n,s),u!=null&&a.push(bs(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function Gf(t){return(typeof t=="string"?t:""+t).replace(rI,`
`).replace(iI,"")}function No(t,e,n){if(e=Gf(e),Gf(t)!==e&&n)throw Error(j(425))}function fa(){}var Qu=null,Hu=null;function $u(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,Kf=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof Kf<"u"?function(t){return Kf.resolve(null).then(t).catch(aI)}:Gu;function aI(t){setTimeout(function(){throw t})}function iu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cs(e)}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Gt="__reactFiber$"+xi,ks="__reactProps$"+xi,hn="__reactContainer$"+xi,Ku="__reactEvents$"+xi,lI="__reactListeners$"+xi,uI="__reactHandles$"+xi;function hr(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xf(t);t!==null;){if(n=t[Gt])return n;t=Xf(t)}return e}t=n,n=t.parentNode}return null}function Js(t){return t=t[Gt]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Ja(t){return t[ks]||null}var Xu=[],zr=-1;function er(t){return{current:t}}function ve(t){0>zr||(t.current=Xu[zr],Xu[zr]=null,zr--)}function pe(t,e){zr++,Xu[zr]=t.current,t.current=e}var Hn={},nt=er(Hn),pt=er(!1),yr=Hn;function li(t,e){var n=t.type.contextTypes;if(!n)return Hn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function pa(){ve(pt),ve(nt)}function Yf(t,e,n){if(nt.current!==Hn)throw Error(j(168));pe(nt,e),pe(pt,n)}function Yg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,$v(t)||"Unknown",i));return Ee({},n,r)}function ma(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hn,yr=nt.current,pe(nt,t),pe(pt,pt.current),!0}function Jf(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Yg(t,e,yr),r.__reactInternalMemoizedMergedChildContext=t,ve(pt),ve(nt),pe(nt,t)):ve(pt),pe(pt,n)}var sn=null,Za=!1,su=!1;function Jg(t){sn===null?sn=[t]:sn.push(t)}function cI(t){Za=!0,Jg(t)}function tr(){if(!su&&sn!==null){su=!0;var t=0,e=ce;try{var n=sn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sn=null,Za=!1}catch(i){throw sn!==null&&(sn=sn.slice(t+1)),xg(Gc,tr),i}finally{ce=e,su=!1}}return null}var Qr=[],Hr=0,ga=null,ya=0,St=[],Ct=0,wr=null,on=1,an="";function lr(t,e){Qr[Hr++]=ya,Qr[Hr++]=ga,ga=t,ya=e}function Zg(t,e,n){St[Ct++]=on,St[Ct++]=an,St[Ct++]=wr,wr=t;var r=on;t=an;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var s=32-qt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,on=1<<32-qt(e)+i|n<<i|r,an=s+t}else on=1<<s|n<<i|r,an=t}function rh(t){t.return!==null&&(lr(t,1),Zg(t,1,0))}function ih(t){for(;t===ga;)ga=Qr[--Hr],Qr[Hr]=null,ya=Qr[--Hr],Qr[Hr]=null;for(;t===wr;)wr=St[--Ct],St[Ct]=null,an=St[--Ct],St[Ct]=null,on=St[--Ct],St[Ct]=null}var _t=null,It=null,Ie=!1,Ot=null;function ey(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,It=Mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wr!==null?{id:on,overflow:an}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,It=null,!0):!1;default:return!1}}function Yu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ju(t){if(Ie){var e=It;if(e){var n=e;if(!Zf(t,e)){if(Yu(t))throw Error(j(418));e=Mn(n.nextSibling);var r=_t;e&&Zf(t,e)?ey(r,n):(t.flags=t.flags&-4097|2,Ie=!1,_t=t)}}else{if(Yu(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ie=!1,_t=t}}}function ep(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function Ro(t){if(t!==_t)return!1;if(!Ie)return ep(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$u(t.type,t.memoizedProps)),e&&(e=It)){if(Yu(t))throw ty(),Error(j(418));for(;e;)ey(t,e),e=Mn(e.nextSibling)}if(ep(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=Mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=_t?Mn(t.stateNode.nextSibling):null;return!0}function ty(){for(var t=It;t;)t=Mn(t.nextSibling)}function ui(){It=_t=null,Ie=!1}function sh(t){Ot===null?Ot=[t]:Ot.push(t)}var hI=yn.ReactCurrentBatchConfig;function Yi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Po(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tp(t){var e=t._init;return e(t._payload)}function ny(t){function e(E,_){if(t){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=qn(E,_),E.index=0,E.sibling=null,E}function s(E,_,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=2,_):S):(E.flags|=2,_)):(E.flags|=1048576,_)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,_,S,U){return _===null||_.tag!==6?(_=du(S,E.mode,U),_.return=E,_):(_=i(_,S),_.return=E,_)}function u(E,_,S,U){var P=S.type;return P===qr?f(E,_,S.props.children,U,S.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===An&&tp(P)===_.type)?(U=i(_,S.props),U.ref=Yi(E,_,S),U.return=E,U):(U=Jo(S.type,S.key,S.props,null,E.mode,U),U.ref=Yi(E,_,S),U.return=E,U)}function h(E,_,S,U){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=fu(S,E.mode,U),_.return=E,_):(_=i(_,S.children||[]),_.return=E,_)}function f(E,_,S,U,P){return _===null||_.tag!==7?(_=gr(S,E.mode,U,P),_.return=E,_):(_=i(_,S),_.return=E,_)}function g(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=du(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vo:return S=Jo(_.type,_.key,_.props,null,E.mode,S),S.ref=Yi(E,null,_),S.return=E,S;case Lr:return _=fu(_,E.mode,S),_.return=E,_;case An:var U=_._init;return g(E,U(_._payload),S)}if(ts(_)||Hi(_))return _=gr(_,E.mode,S,null),_.return=E,_;Po(E,_)}return null}function w(E,_,S,U){var P=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:l(E,_,""+S,U);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vo:return S.key===P?u(E,_,S,U):null;case Lr:return S.key===P?h(E,_,S,U):null;case An:return P=S._init,w(E,_,P(S._payload),U)}if(ts(S)||Hi(S))return P!==null?null:f(E,_,S,U,null);Po(E,S)}return null}function C(E,_,S,U,P){if(typeof U=="string"&&U!==""||typeof U=="number")return E=E.get(S)||null,l(_,E,""+U,P);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case vo:return E=E.get(U.key===null?S:U.key)||null,u(_,E,U,P);case Lr:return E=E.get(U.key===null?S:U.key)||null,h(_,E,U,P);case An:var V=U._init;return C(E,_,S,V(U._payload),P)}if(ts(U)||Hi(U))return E=E.get(S)||null,f(_,E,U,P,null);Po(_,U)}return null}function b(E,_,S,U){for(var P=null,V=null,v=_,y=_=0,I=null;v!==null&&y<S.length;y++){v.index>y?(I=v,v=null):I=v.sibling;var x=w(E,v,S[y],U);if(x===null){v===null&&(v=I);break}t&&v&&x.alternate===null&&e(E,v),_=s(x,_,y),V===null?P=x:V.sibling=x,V=x,v=I}if(y===S.length)return n(E,v),Ie&&lr(E,y),P;if(v===null){for(;y<S.length;y++)v=g(E,S[y],U),v!==null&&(_=s(v,_,y),V===null?P=v:V.sibling=v,V=v);return Ie&&lr(E,y),P}for(v=r(E,v);y<S.length;y++)I=C(v,E,y,S[y],U),I!==null&&(t&&I.alternate!==null&&v.delete(I.key===null?y:I.key),_=s(I,_,y),V===null?P=I:V.sibling=I,V=I);return t&&v.forEach(function(A){return e(E,A)}),Ie&&lr(E,y),P}function D(E,_,S,U){var P=Hi(S);if(typeof P!="function")throw Error(j(150));if(S=P.call(S),S==null)throw Error(j(151));for(var V=P=null,v=_,y=_=0,I=null,x=S.next();v!==null&&!x.done;y++,x=S.next()){v.index>y?(I=v,v=null):I=v.sibling;var A=w(E,v,x.value,U);if(A===null){v===null&&(v=I);break}t&&v&&A.alternate===null&&e(E,v),_=s(A,_,y),V===null?P=A:V.sibling=A,V=A,v=I}if(x.done)return n(E,v),Ie&&lr(E,y),P;if(v===null){for(;!x.done;y++,x=S.next())x=g(E,x.value,U),x!==null&&(_=s(x,_,y),V===null?P=x:V.sibling=x,V=x);return Ie&&lr(E,y),P}for(v=r(E,v);!x.done;y++,x=S.next())x=C(v,E,y,x.value,U),x!==null&&(t&&x.alternate!==null&&v.delete(x.key===null?y:x.key),_=s(x,_,y),V===null?P=x:V.sibling=x,V=x);return t&&v.forEach(function(N){return e(E,N)}),Ie&&lr(E,y),P}function M(E,_,S,U){if(typeof S=="object"&&S!==null&&S.type===qr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case vo:e:{for(var P=S.key,V=_;V!==null;){if(V.key===P){if(P=S.type,P===qr){if(V.tag===7){n(E,V.sibling),_=i(V,S.props.children),_.return=E,E=_;break e}}else if(V.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===An&&tp(P)===V.type){n(E,V.sibling),_=i(V,S.props),_.ref=Yi(E,V,S),_.return=E,E=_;break e}n(E,V);break}else e(E,V);V=V.sibling}S.type===qr?(_=gr(S.props.children,E.mode,U,S.key),_.return=E,E=_):(U=Jo(S.type,S.key,S.props,null,E.mode,U),U.ref=Yi(E,_,S),U.return=E,E=U)}return a(E);case Lr:e:{for(V=S.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),_=i(_,S.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=fu(S,E.mode,U),_.return=E,E=_}return a(E);case An:return V=S._init,M(E,_,V(S._payload),U)}if(ts(S))return b(E,_,S,U);if(Hi(S))return D(E,_,S,U);Po(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,S),_.return=E,E=_):(n(E,_),_=du(S,E.mode,U),_.return=E,E=_),a(E)):n(E,_)}return M}var ci=ny(!0),ry=ny(!1),wa=er(null),va=null,$r=null,oh=null;function ah(){oh=$r=va=null}function lh(t){var e=wa.current;ve(wa),t._currentValue=e}function Zu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ei(t,e){va=t,oh=$r=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(oh!==t)if(t={context:t,memoizedValue:e,next:null},$r===null){if(va===null)throw Error(j(308));$r=t,va.dependencies={lanes:0,firstContext:t}}else $r=$r.next=t;return e}var dr=null;function uh(t){dr===null?dr=[t]:dr.push(t)}function iy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uh(e)):(n.next=i.next,i.next=n),e.interleaved=n,dn(t,r)}function dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dn(t,n)}return i=r.interleaved,i===null?(e.next=e,uh(r)):(e.next=i.next,i.next=e),r.interleaved=e,dn(t,n)}function Ho(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kc(t,n)}}function np(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ia(t,e,n,r){var i=t.updateQueue;Sn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;a=0,f=h=u=null,l=s;do{var w=l.lane,C=l.eventTime;if((r&w)===w){f!==null&&(f=f.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,D=l;switch(w=e,C=n,D.tag){case 1:if(b=D.payload,typeof b=="function"){g=b.call(C,g,w);break e}g=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=D.payload,w=typeof b=="function"?b.call(C,g,w):b,w==null)break e;g=Ee({},g,w);break e;case 2:Sn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else C={eventTime:C,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=C,u=g):f=f.next=C,a|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(f===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ir|=a,t.lanes=a,t.memoizedState=g}}function rp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var Zs={},Xt=er(Zs),Ds=er(Zs),Vs=er(Zs);function fr(t){if(t===Zs)throw Error(j(174));return t}function hh(t,e){switch(pe(Vs,e),pe(Ds,t),pe(Xt,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Du(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Du(e,t)}ve(Xt),pe(Xt,e)}function hi(){ve(Xt),ve(Ds),ve(Vs)}function oy(t){fr(Vs.current);var e=fr(Xt.current),n=Du(e,t.type);e!==n&&(pe(Ds,t),pe(Xt,n))}function dh(t){Ds.current===t&&(ve(Xt),ve(Ds))}var Te=er(0);function _a(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ou=[];function fh(){for(var t=0;t<ou.length;t++)ou[t]._workInProgressVersionPrimary=null;ou.length=0}var $o=yn.ReactCurrentDispatcher,au=yn.ReactCurrentBatchConfig,vr=0,xe=null,Me=null,je=null,Ta=!1,ds=!1,Ms=0,dI=0;function Xe(){throw Error(j(321))}function ph(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function mh(t,e,n,r,i,s){if(vr=s,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$o.current=t===null||t.memoizedState===null?gI:yI,t=n(r,i),ds){s=0;do{if(ds=!1,Ms=0,25<=s)throw Error(j(301));s+=1,je=Me=null,e.updateQueue=null,$o.current=wI,t=n(r,i)}while(ds)}if($o.current=xa,e=Me!==null&&Me.next!==null,vr=0,je=Me=xe=null,Ta=!1,e)throw Error(j(300));return t}function gh(){var t=Ms!==0;return Ms=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xe.memoizedState=je=t:je=je.next=t,je}function Dt(){if(Me===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=je===null?xe.memoizedState:je.next;if(e!==null)je=e,Me=t;else{if(t===null)throw Error(j(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},je===null?xe.memoizedState=je=t:je=je.next=t}return je}function Us(t,e){return typeof e=="function"?e(t):e}function lu(t){var e=Dt(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,h=s;do{var f=h.lane;if((vr&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=g,a=r):u=u.next=g,xe.lanes|=f,Ir|=f}h=h.next}while(h!==null&&h!==s);u===null?a=r:u.next=l,Ft(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xe.lanes|=s,Ir|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uu(t){var e=Dt(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ft(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ay(){}function ly(t,e){var n=xe,r=Dt(),i=e(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,yh(hy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Os(9,cy.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(j(349));vr&30||uy(n,e,i)}return i}function uy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cy(t,e,n,r){e.value=n,e.getSnapshot=r,dy(e)&&fy(t)}function hy(t,e,n){return n(function(){dy(e)&&fy(t)})}function dy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function fy(t){var e=dn(t,1);e!==null&&jt(e,t,1,-1)}function ip(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e.queue=t,t=t.dispatch=mI.bind(null,xe,t),[e.memoizedState,t]}function Os(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function py(){return Dt().memoizedState}function Go(t,e,n,r){var i=Ht();xe.flags|=t,i.memoizedState=Os(1|e,n,void 0,r===void 0?null:r)}function el(t,e,n,r){var i=Dt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var a=Me.memoizedState;if(s=a.destroy,r!==null&&ph(r,a.deps)){i.memoizedState=Os(e,n,s,r);return}}xe.flags|=t,i.memoizedState=Os(1|e,n,s,r)}function sp(t,e){return Go(8390656,8,t,e)}function yh(t,e){return el(2048,8,t,e)}function my(t,e){return el(4,2,t,e)}function gy(t,e){return el(4,4,t,e)}function yy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wy(t,e,n){return n=n!=null?n.concat([t]):null,el(4,4,yy.bind(null,e,t),n)}function wh(){}function vy(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ph(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iy(t,e){var n=Dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ph(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _y(t,e,n){return vr&21?(Ft(n,e)||(n=Sg(),xe.lanes|=n,Ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function fI(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=au.transition;au.transition={};try{t(!1),e()}finally{ce=n,au.transition=r}}function Ty(){return Dt().memoizedState}function pI(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xy(t))Ey(e,n);else if(n=iy(t,e,n,r),n!==null){var i=lt();jt(n,t,r,i),Ay(n,e,r)}}function mI(t,e,n){var r=Ln(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(t))Ey(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Ft(l,a)){var u=e.interleaved;u===null?(i.next=i,uh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=iy(t,e,i,r),n!==null&&(i=lt(),jt(n,t,r,i),Ay(n,e,r))}}function xy(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Ey(t,e){ds=Ta=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ay(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kc(t,n)}}var xa={readContext:kt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},gI={readContext:kt,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:sp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,yy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=Ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pI.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:ip,useDebugValue:wh,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=ip(!1),e=t[0];return t=fI.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=Ht();if(Ie){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Be===null)throw Error(j(349));vr&30||uy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sp(hy.bind(null,r,s,t),[t]),r.flags|=2048,Os(9,cy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ht(),e=Be.identifierPrefix;if(Ie){var n=an,r=on;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yI={readContext:kt,useCallback:vy,useContext:kt,useEffect:yh,useImperativeHandle:wy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:Iy,useReducer:lu,useRef:py,useState:function(){return lu(Us)},useDebugValue:wh,useDeferredValue:function(t){var e=Dt();return _y(e,Me.memoizedState,t)},useTransition:function(){var t=lu(Us)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:ay,useSyncExternalStore:ly,useId:Ty,unstable_isNewReconciler:!1},wI={readContext:kt,useCallback:vy,useContext:kt,useEffect:yh,useImperativeHandle:wy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:Iy,useReducer:uu,useRef:py,useState:function(){return uu(Us)},useDebugValue:wh,useDeferredValue:function(t){var e=Dt();return Me===null?e.memoizedState=t:_y(e,Me.memoizedState,t)},useTransition:function(){var t=uu(Us)[0],e=Dt().memoizedState;return[t,e]},useMutableSource:ay,useSyncExternalStore:ly,useId:Ty,unstable_isNewReconciler:!1};function Mt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ec(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tl={isMounted:function(t){return(t=t._reactInternals)?Ar(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Ln(t),s=ln(r,i);s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(jt(e,t,i,r),Ho(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),i=Ln(t),s=ln(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Un(t,s,i),e!==null&&(jt(e,t,i,r),Ho(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=Ln(t),i=ln(n,r);i.tag=2,e!=null&&(i.callback=e),e=Un(t,i,r),e!==null&&(jt(e,t,r,n),Ho(e,t,r))}};function op(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Rs(n,r)||!Rs(i,s):!0}function Sy(t,e,n){var r=!1,i=Hn,s=e.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=mt(e)?yr:nt.current,r=e.contextTypes,s=(r=r!=null)?li(t,i):Hn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ap(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tl.enqueueReplaceState(e,e.state,null)}function tc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ch(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=mt(e)?yr:nt.current,i.context=li(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ec(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tl.enqueueReplaceState(i,i.state,null),Ia(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function di(t,e){try{var n="",r=e;do n+=Hv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vI=typeof WeakMap=="function"?WeakMap:Map;function Cy(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Aa||(Aa=!0,dc=r),nc(t,e)},n}function Ny(t,e,n){n=ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nc(t,e),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function lp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DI.bind(null,t,e,n),e.then(t,t))}function up(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,Un(n,e,1))),n.lanes|=1),t)}var II=yn.ReactCurrentOwner,ft=!1;function at(t,e,n,r){e.child=t===null?ry(e,null,n,r):ci(e,t.child,n,r)}function hp(t,e,n,r,i){n=n.render;var s=e.ref;return ei(e,i),r=mh(t,e,n,r,s,i),n=gh(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(Ie&&n&&rh(e),e.flags|=1,at(t,e,r,i),e.child)}function dp(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ry(t,e,s,r,i)):(t=Jo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rs,n(a,r)&&t.ref===e.ref)return fn(t,e,i)}return e.flags|=1,t=qn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ry(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Rs(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,fn(t,e,i)}return rc(t,e,n,r,i)}function Py(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Kr,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Kr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Kr,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(Kr,vt),vt|=r;return at(t,e,i,n),e.child}function by(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rc(t,e,n,r,i){var s=mt(n)?yr:nt.current;return s=li(e,s),ei(e,i),n=mh(t,e,n,r,s,i),r=gh(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(Ie&&r&&rh(e),e.flags|=1,at(t,e,n,i),e.child)}function fp(t,e,n,r,i){if(mt(n)){var s=!0;ma(e)}else s=!1;if(ei(e,i),e.stateNode===null)Ko(t,e),Sy(e,n,r),tc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=kt(h):(h=mt(n)?yr:nt.current,h=li(e,h));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&ap(e,a,r,h),Sn=!1;var w=e.memoizedState;a.state=w,Ia(e,r,a,i),u=e.memoizedState,l!==r||w!==u||pt.current||Sn?(typeof f=="function"&&(ec(e,n,f,r),u=e.memoizedState),(l=Sn||op(e,n,l,r,w,u,h))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Mt(e.type,l),a.props=h,g=e.pendingProps,w=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=kt(u):(u=mt(n)?yr:nt.current,u=li(e,u));var C=n.getDerivedStateFromProps;(f=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||w!==u)&&ap(e,a,r,u),Sn=!1,w=e.memoizedState,a.state=w,Ia(e,r,a,i);var b=e.memoizedState;l!==g||w!==b||pt.current||Sn?(typeof C=="function"&&(ec(e,n,C,r),b=e.memoizedState),(h=Sn||op(e,n,h,r,w,b,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return ic(t,e,n,r,s,i)}function ic(t,e,n,r,i,s){by(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Jf(e,n,!1),fn(t,e,s);r=e.stateNode,II.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ci(e,t.child,null,s),e.child=ci(e,null,l,s)):at(t,e,l,s),e.memoizedState=r.state,i&&Jf(e,n,!0),e.child}function ky(t){var e=t.stateNode;e.pendingContext?Yf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yf(t,e.context,!1),hh(t,e.containerInfo)}function pp(t,e,n,r,i){return ui(),sh(i),e.flags|=256,at(t,e,n,r),e.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function oc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dy(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Te,i&1),t===null)return Ju(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=il(a,r,0,null),t=gr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=oc(n),e.memoizedState=sc,t):vh(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _I(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=qn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=qn(l,s):(s=gr(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?oc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=sc,r}return s=t.child,t=s.sibling,r=qn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vh(t,e){return e=il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bo(t,e,n,r){return r!==null&&sh(r),ci(e,t.child,null,n),t=vh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _I(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=cu(Error(j(422))),bo(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=il({mode:"visible",children:r.children},i,0,null),s=gr(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ci(e,t.child,null,a),e.child.memoizedState=oc(a),e.memoizedState=sc,s);if(!(e.mode&1))return bo(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(j(419)),r=cu(s,r,void 0),bo(t,e,a,r)}if(l=(a&t.childLanes)!==0,ft||l){if(r=Be,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dn(t,i),jt(r,t,i,-1))}return Ah(),r=cu(Error(j(421))),bo(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,It=Mn(i.nextSibling),_t=e,Ie=!0,Ot=null,t!==null&&(St[Ct++]=on,St[Ct++]=an,St[Ct++]=wr,on=t.id,an=t.overflow,wr=e),e=vh(e,r.children),e.flags|=4096,e)}function mp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zu(t.return,e,n)}function hu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(at(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,n,e);else if(t.tag===19)mp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_a(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_a(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hu(e,!0,n,null,s);break;case"together":hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ko(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TI(t,e,n){switch(e.tag){case 3:ky(e),ui();break;case 5:oy(e);break;case 1:mt(e.type)&&ma(e);break;case 4:hh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(wa,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?Dy(t,e,n):(pe(Te,Te.current&1),t=fn(t,e,n),t!==null?t.sibling:null);pe(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,Py(t,e,n)}return fn(t,e,n)}var My,ac,Uy,Oy;My=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ac=function(){};Uy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fr(Xt.current);var s=null;switch(n){case"input":i=Ru(t,i),r=Ru(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=ku(t,i),r=ku(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fa)}Vu(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ts.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ye("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Oy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ji(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xI(t,e,n){var r=e.pendingProps;switch(ih(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return mt(e.type)&&pa(),Ye(e),null;case 3:return r=e.stateNode,hi(),ve(pt),ve(nt),fh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ro(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(mc(Ot),Ot=null))),ac(t,e),Ye(e),null;case 5:dh(e);var i=fr(Vs.current);if(n=e.type,t!==null&&e.stateNode!=null)Uy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Ye(e),null}if(t=fr(Xt.current),Ro(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gt]=e,r[ks]=s,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(i=0;i<rs.length;i++)ye(rs[i],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":Ef(r,s),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ye("invalid",r);break;case"textarea":Sf(r,s),ye("invalid",r)}Vu(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,t),i=["children",""+l]):Ts.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ye("scroll",r)}switch(n){case"input":Io(r),Af(r,s,!0);break;case"textarea":Io(r),Cf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Gt]=e,t[ks]=r,My(t,e,!1,!1),e.stateNode=t;e:{switch(a=Mu(n,r),n){case"dialog":ye("cancel",t),ye("close",t),i=r;break;case"iframe":case"object":case"embed":ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<rs.length;i++)ye(rs[i],t);i=r;break;case"source":ye("error",t),i=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=r;break;case"details":ye("toggle",t),i=r;break;case"input":Ef(t,r),i=Ru(t,r),ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ye("invalid",t);break;case"textarea":Sf(t,r),i=ku(t,r),ye("invalid",t);break;default:i=r}Vu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?pg(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dg(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xs(t,u):typeof u=="number"&&xs(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ts.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ye("scroll",t):u!=null&&Wc(t,s,u,a))}switch(n){case"input":Io(t),Af(t,r,!1);break;case"textarea":Io(t),Cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)Oy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=fr(Vs.current),fr(Xt.current),Ro(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gt]=e,(s=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:No(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=e,e.stateNode=r}return Ye(e),null;case 13:if(ve(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&It!==null&&e.mode&1&&!(e.flags&128))ty(),ui(),e.flags|=98560,s=!1;else if(s=Ro(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[Gt]=e}else ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else Ot!==null&&(mc(Ot),Ot=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):Ah())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return hi(),ac(t,e),t===null&&Ps(e.stateNode.containerInfo),Ye(e),null;case 10:return lh(e.type._context),Ye(e),null;case 17:return mt(e.type)&&pa(),Ye(e),null;case 19:if(ve(Te),s=e.memoizedState,s===null)return Ye(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ji(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=_a(t),a!==null){for(e.flags|=128,Ji(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>fi&&(e.flags|=128,r=!0,Ji(s,!1),e.lanes=4194304)}else{if(!r)if(t=_a(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ji(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ie)return Ye(e),null}else 2*Re()-s.renderingStartTime>fi&&n!==1073741824&&(e.flags|=128,r=!0,Ji(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=Te.current,pe(Te,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Eh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function EI(t,e){switch(ih(e),e.tag){case 1:return mt(e.type)&&pa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(),ve(pt),ve(nt),fh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dh(e),null;case 13:if(ve(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Te),null;case 4:return hi(),null;case 10:return lh(e.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var ko=!1,et=!1,AI=typeof WeakSet=="function"?WeakSet:Set,$=null;function Gr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function lc(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var gp=!1;function SI(t,e){if(Qu=ca,t=Bg(),nh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,f=0,g=t,w=null;t:for(;;){for(var C;g!==n||i!==0&&g.nodeType!==3||(l=a+i),g!==s||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(C=g.firstChild)!==null;)w=g,g=C;for(;;){if(g===t)break t;if(w===n&&++h===i&&(l=a),w===s&&++f===r&&(u=a),(C=g.nextSibling)!==null)break;g=w,w=g.parentNode}g=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hu={focusedElem:t,selectionRange:n},ca=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var D=b.memoizedProps,M=b.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?D:Mt(e.type,D),M);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(U){Ce(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return b=gp,gp=!1,b}function fs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lc(e,n,s)}i=i.next}while(i!==r)}}function nl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ly(t){var e=t.alternate;e!==null&&(t.alternate=null,Ly(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[ks],delete e[Ku],delete e[lI],delete e[uI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qy(t){return t.tag===5||t.tag===3||t.tag===4}function yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fa));else if(r!==4&&(t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}function hc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hc(t,e,n),t=t.sibling;t!==null;)hc(t,e,n),t=t.sibling}var We=null,Ut=!1;function En(t,e,n){for(n=n.child;n!==null;)jy(t,e,n),n=n.sibling}function jy(t,e,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:et||Gr(n,e);case 6:var r=We,i=Ut;We=null,En(t,e,n),We=r,Ut=i,We!==null&&(Ut?(t=We,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Ut?(t=We,n=n.stateNode,t.nodeType===8?iu(t.parentNode,n):t.nodeType===1&&iu(t,n),Cs(t)):iu(We,n.stateNode));break;case 4:r=We,i=Ut,We=n.stateNode.containerInfo,Ut=!0,En(t,e,n),We=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&lc(n,e,a),i=i.next}while(i!==r)}En(t,e,n);break;case 1:if(!et&&(Gr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ce(n,e,l)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,En(t,e,n),et=r):En(t,e,n);break;default:En(t,e,n)}}function wp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AI),e.forEach(function(r){var i=MI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:We=l.stateNode,Ut=!1;break e;case 3:We=l.stateNode.containerInfo,Ut=!0;break e;case 4:We=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(We===null)throw Error(j(160));jy(s,a,i),We=null,Ut=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ce(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fy(e,t),e=e.sibling}function Fy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vt(e,t),Qt(t),r&4){try{fs(3,t,t.return),nl(3,t)}catch(D){Ce(t,t.return,D)}try{fs(5,t,t.return)}catch(D){Ce(t,t.return,D)}}break;case 1:Vt(e,t),Qt(t),r&512&&n!==null&&Gr(n,n.return);break;case 5:if(Vt(e,t),Qt(t),r&512&&n!==null&&Gr(n,n.return),t.flags&32){var i=t.stateNode;try{xs(i,"")}catch(D){Ce(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ug(i,s),Mu(l,a);var h=Mu(l,s);for(a=0;a<u.length;a+=2){var f=u[a],g=u[a+1];f==="style"?pg(i,g):f==="dangerouslySetInnerHTML"?dg(i,g):f==="children"?xs(i,g):Wc(i,f,g,h)}switch(l){case"input":Pu(i,s);break;case"textarea":cg(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Xr(i,!!s.multiple,C,!1):w!==!!s.multiple&&(s.defaultValue!=null?Xr(i,!!s.multiple,s.defaultValue,!0):Xr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ks]=s}catch(D){Ce(t,t.return,D)}}break;case 6:if(Vt(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){Ce(t,t.return,D)}}break;case 3:if(Vt(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(D){Ce(t,t.return,D)}break;case 4:Vt(e,t),Qt(t);break;case 13:Vt(e,t),Qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Th=Re())),r&4&&wp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(et=(h=et)||f,Vt(e,t),et=h):Vt(e,t),Qt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for($=t,f=t.child;f!==null;){for(g=$=f;$!==null;){switch(w=$,C=w.child,w.tag){case 0:case 11:case 14:case 15:fs(4,w,w.return);break;case 1:Gr(w,w.return);var b=w.stateNode;if(typeof b.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(D){Ce(r,n,D)}}break;case 5:Gr(w,w.return);break;case 22:if(w.memoizedState!==null){Ip(g);continue}}C!==null?(C.return=w,$=C):Ip(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=fg("display",a))}catch(D){Ce(t,t.return,D)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(D){Ce(t,t.return,D)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Vt(e,t),Qt(t),r&4&&wp(t);break;case 21:break;default:Vt(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qy(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var s=yp(t);hc(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=yp(t);cc(t,l,a);break;default:throw Error(j(161))}}catch(u){Ce(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CI(t,e,n){$=t,By(t)}function By(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ko;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||et;l=ko;var h=et;if(ko=a,(et=u)&&!h)for($=i;$!==null;)a=$,u=a.child,a.tag===22&&a.memoizedState!==null?_p(i):u!==null?(u.return=a,$=u):_p(i);for(;s!==null;)$=s,By(s),s=s.sibling;$=i,ko=l,et=h}vp(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):vp(t)}}function vp(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||nl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rp(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rp(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Cs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}et||e.flags&512&&uc(e)}catch(w){Ce(e,e.return,w)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Ip(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function _p(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nl(4,e)}catch(u){Ce(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ce(e,i,u)}}var s=e.return;try{uc(e)}catch(u){Ce(e,s,u)}break;case 5:var a=e.return;try{uc(e)}catch(u){Ce(e,a,u)}}}catch(u){Ce(e,e.return,u)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var NI=Math.ceil,Ea=yn.ReactCurrentDispatcher,Ih=yn.ReactCurrentOwner,bt=yn.ReactCurrentBatchConfig,ae=0,Be=null,be=null,He=0,vt=0,Kr=er(0),Ue=0,Ls=null,Ir=0,rl=0,_h=0,ps=null,dt=null,Th=0,fi=1/0,rn=null,Aa=!1,dc=null,On=null,Do=!1,Pn=null,Sa=0,ms=0,fc=null,Xo=-1,Yo=0;function lt(){return ae&6?Re():Xo!==-1?Xo:Xo=Re()}function Ln(t){return t.mode&1?ae&2&&He!==0?He&-He:hI.transition!==null?(Yo===0&&(Yo=Sg()),Yo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Dg(t.type)),t):1}function jt(t,e,n,r){if(50<ms)throw ms=0,fc=null,Error(j(185));Xs(t,n,r),(!(ae&2)||t!==Be)&&(t===Be&&(!(ae&2)&&(rl|=n),Ue===4&&Nn(t,He)),gt(t,r),n===1&&ae===0&&!(e.mode&1)&&(fi=Re()+500,Za&&tr()))}function gt(t,e){var n=t.callbackNode;h0(t,e);var r=ua(t,t===Be?He:0);if(r===0)n!==null&&Pf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pf(n),e===1)t.tag===0?cI(Tp.bind(null,t)):Jg(Tp.bind(null,t)),oI(function(){!(ae&6)&&tr()}),n=null;else{switch(Cg(r)){case 1:n=Gc;break;case 4:n=Eg;break;case 16:n=la;break;case 536870912:n=Ag;break;default:n=la}n=Xy(n,Wy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wy(t,e){if(Xo=-1,Yo=0,ae&6)throw Error(j(327));var n=t.callbackNode;if(ti()&&t.callbackNode!==n)return null;var r=ua(t,t===Be?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ca(t,r);else{e=r;var i=ae;ae|=2;var s=Qy();(Be!==t||He!==e)&&(rn=null,fi=Re()+500,mr(t,e));do try{bI();break}catch(l){zy(t,l)}while(!0);ah(),Ea.current=s,ae=i,be!==null?e=0:(Be=null,He=0,e=Ue)}if(e!==0){if(e===2&&(i=ju(t),i!==0&&(r=i,e=pc(t,i))),e===1)throw n=Ls,mr(t,0),Nn(t,r),gt(t,Re()),n;if(e===6)Nn(t,r);else{if(i=t.current.alternate,!(r&30)&&!RI(i)&&(e=Ca(t,r),e===2&&(s=ju(t),s!==0&&(r=s,e=pc(t,s))),e===1))throw n=Ls,mr(t,0),Nn(t,r),gt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:ur(t,dt,rn);break;case 3:if(Nn(t,r),(r&130023424)===r&&(e=Th+500-Re(),10<e)){if(ua(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gu(ur.bind(null,t,dt,rn),e);break}ur(t,dt,rn);break;case 4:if(Nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-qt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NI(r/1960))-r,10<r){t.timeoutHandle=Gu(ur.bind(null,t,dt,rn),r);break}ur(t,dt,rn);break;case 5:ur(t,dt,rn);break;default:throw Error(j(329))}}}return gt(t,Re()),t.callbackNode===n?Wy.bind(null,t):null}function pc(t,e){var n=ps;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=Ca(t,e),t!==2&&(e=dt,dt=n,e!==null&&mc(e)),t}function mc(t){dt===null?dt=t:dt.push.apply(dt,t)}function RI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e){for(e&=~_h,e&=~rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function Tp(t){if(ae&6)throw Error(j(327));ti();var e=ua(t,0);if(!(e&1))return gt(t,Re()),null;var n=Ca(t,e);if(t.tag!==0&&n===2){var r=ju(t);r!==0&&(e=r,n=pc(t,r))}if(n===1)throw n=Ls,mr(t,0),Nn(t,e),gt(t,Re()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ur(t,dt,rn),gt(t,Re()),null}function xh(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(fi=Re()+500,Za&&tr())}}function _r(t){Pn!==null&&Pn.tag===0&&!(ae&6)&&ti();var e=ae;ae|=1;var n=bt.transition,r=ce;try{if(bt.transition=null,ce=1,t)return t()}finally{ce=r,bt.transition=n,ae=e,!(ae&6)&&tr()}}function Eh(){vt=Kr.current,ve(Kr)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sI(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(ih(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pa();break;case 3:hi(),ve(pt),ve(nt),fh();break;case 5:dh(r);break;case 4:hi();break;case 13:ve(Te);break;case 19:ve(Te);break;case 10:lh(r.type._context);break;case 22:case 23:Eh()}n=n.return}if(Be=t,be=t=qn(t.current,null),He=vt=e,Ue=0,Ls=null,_h=rl=Ir=0,dt=ps=null,dr!==null){for(e=0;e<dr.length;e++)if(n=dr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}dr=null}return t}function zy(t,e){do{var n=be;try{if(ah(),$o.current=xa,Ta){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ta=!1}if(vr=0,je=Me=xe=null,ds=!1,Ms=0,Ih.current=null,n===null||n.return===null){Ue=1,Ls=e,be=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=He,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var w=f.alternate;w?(f.updateQueue=w.updateQueue,f.memoizedState=w.memoizedState,f.lanes=w.lanes):(f.updateQueue=null,f.memoizedState=null)}var C=up(a);if(C!==null){C.flags&=-257,cp(C,a,l,s,e),C.mode&1&&lp(s,h,e),e=C,u=h;var b=e.updateQueue;if(b===null){var D=new Set;D.add(u),e.updateQueue=D}else b.add(u);break e}else{if(!(e&1)){lp(s,h,e),Ah();break e}u=Error(j(426))}}else if(Ie&&l.mode&1){var M=up(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),cp(M,a,l,s,e),sh(di(u,l));break e}}s=u=di(u,l),Ue!==4&&(Ue=2),ps===null?ps=[s]:ps.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Cy(s,u,e);np(s,E);break e;case 1:l=u;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(On===null||!On.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=Ny(s,l,e);np(s,U);break e}}s=s.return}while(s!==null)}$y(n)}catch(P){e=P,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Qy(){var t=Ea.current;return Ea.current=xa,t===null?xa:t}function Ah(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Be===null||!(Ir&268435455)&&!(rl&268435455)||Nn(Be,He)}function Ca(t,e){var n=ae;ae|=2;var r=Qy();(Be!==t||He!==e)&&(rn=null,mr(t,e));do try{PI();break}catch(i){zy(t,i)}while(!0);if(ah(),ae=n,Ea.current=r,be!==null)throw Error(j(261));return Be=null,He=0,Ue}function PI(){for(;be!==null;)Hy(be)}function bI(){for(;be!==null&&!n0();)Hy(be)}function Hy(t){var e=Ky(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?$y(t):be=e,Ih.current=null}function $y(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EI(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,be=null;return}}else if(n=xI(n,e,vt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Ue===0&&(Ue=5)}function ur(t,e,n){var r=ce,i=bt.transition;try{bt.transition=null,ce=1,kI(t,e,n,r)}finally{bt.transition=i,ce=r}return null}function kI(t,e,n,r){do ti();while(Pn!==null);if(ae&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(d0(t,s),t===Be&&(be=Be=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Do||(Do=!0,Xy(la,function(){return ti(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bt.transition,bt.transition=null;var a=ce;ce=1;var l=ae;ae|=4,Ih.current=null,SI(t,n),Fy(n,t),J0(Hu),ca=!!Qu,Hu=Qu=null,t.current=n,CI(n),r0(),ae=l,ce=a,bt.transition=s}else t.current=n;if(Do&&(Do=!1,Pn=t,Sa=i),s=t.pendingLanes,s===0&&(On=null),o0(n.stateNode),gt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Aa)throw Aa=!1,t=dc,dc=null,t;return Sa&1&&t.tag!==0&&ti(),s=t.pendingLanes,s&1?t===fc?ms++:(ms=0,fc=t):ms=0,tr(),null}function ti(){if(Pn!==null){var t=Cg(Sa),e=bt.transition,n=ce;try{if(bt.transition=null,ce=16>t?16:t,Pn===null)var r=!1;else{if(t=Pn,Pn=null,Sa=0,ae&6)throw Error(j(331));var i=ae;for(ae|=4,$=t.current;$!==null;){var s=$,a=s.child;if($.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for($=h;$!==null;){var f=$;switch(f.tag){case 0:case 11:case 15:fs(8,f,s)}var g=f.child;if(g!==null)g.return=f,$=g;else for(;$!==null;){f=$;var w=f.sibling,C=f.return;if(Ly(f),f===h){$=null;break}if(w!==null){w.return=C,$=w;break}$=C}}}var b=s.alternate;if(b!==null){var D=b.child;if(D!==null){b.child=null;do{var M=D.sibling;D.sibling=null,D=M}while(D!==null)}}$=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,$=a;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fs(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,$=E;break e}$=s.return}}var _=t.current;for($=_;$!==null;){a=$;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,$=S;else e:for(a=_;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(P){Ce(l,l.return,P)}if(l===a){$=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,$=U;break e}$=l.return}}if(ae=i,tr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ga,t)}catch{}r=!0}return r}finally{ce=n,bt.transition=e}}return!1}function xp(t,e,n){e=di(n,e),e=Cy(t,e,1),t=Un(t,e,1),e=lt(),t!==null&&(Xs(t,1,e),gt(t,e))}function Ce(t,e,n){if(t.tag===3)xp(t,t,n);else for(;e!==null;){if(e.tag===3){xp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){t=di(n,t),t=Ny(e,t,1),e=Un(e,t,1),t=lt(),e!==null&&(Xs(e,1,t),gt(e,t));break}}e=e.return}}function DI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(He&n)===n&&(Ue===4||Ue===3&&(He&130023424)===He&&500>Re()-Th?mr(t,0):_h|=n),gt(t,e)}function Gy(t,e){e===0&&(t.mode&1?(e=xo,xo<<=1,!(xo&130023424)&&(xo=4194304)):e=1);var n=lt();t=dn(t,e),t!==null&&(Xs(t,e,n),gt(t,n))}function VI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gy(t,n)}function MI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Gy(t,n)}var Ky;Ky=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,TI(t,e,n);ft=!!(t.flags&131072)}else ft=!1,Ie&&e.flags&1048576&&Zg(e,ya,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ko(t,e),t=e.pendingProps;var i=li(e,nt.current);ei(e,n),i=mh(null,e,r,t,i,n);var s=gh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,ma(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ch(e),i.updater=tl,e.stateNode=i,i._reactInternals=e,tc(e,r,t,n),e=ic(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&rh(e),at(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ko(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OI(r),t=Mt(r,t),i){case 0:e=rc(null,e,r,t,n);break e;case 1:e=fp(null,e,r,t,n);break e;case 11:e=hp(null,e,r,t,n);break e;case 14:e=dp(null,e,r,Mt(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),rc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),fp(t,e,r,i,n);case 3:e:{if(ky(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sy(t,e),Ia(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=di(Error(j(423)),e),e=pp(t,e,r,n,i);break e}else if(r!==i){i=di(Error(j(424)),e),e=pp(t,e,r,n,i);break e}else for(It=Mn(e.stateNode.containerInfo.firstChild),_t=e,Ie=!0,Ot=null,n=ry(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===i){e=fn(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return oy(e),t===null&&Ju(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,$u(r,i)?a=null:s!==null&&$u(r,s)&&(e.flags|=32),by(t,e),at(t,e,a,n),e.child;case 6:return t===null&&Ju(e),null;case 13:return Dy(t,e,n);case 4:return hh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ci(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),hp(t,e,r,i,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,pe(wa,r._currentValue),r._currentValue=a,s!==null)if(Ft(s.value,a)){if(s.children===i.children&&!pt.current){e=fn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ln(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Zu(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(j(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}at(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ei(e,n),i=kt(i),r=r(i),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,i=Mt(r,e.pendingProps),i=Mt(r.type,i),dp(t,e,r,i,n);case 15:return Ry(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Ko(t,e),e.tag=1,mt(r)?(t=!0,ma(e)):t=!1,ei(e,n),Sy(e,r,i),tc(e,r,i,n),ic(null,e,r,!0,t,n);case 19:return Vy(t,e,n);case 22:return Py(t,e,n)}throw Error(j(156,e.tag))};function Xy(t,e){return xg(t,e)}function UI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new UI(t,e,n,r)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OI(t){if(typeof t=="function")return Sh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qc)return 11;if(t===Hc)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jo(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Sh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qr:return gr(n.children,i,s,e);case zc:a=8,i|=8;break;case Au:return t=Pt(12,n,e,i|2),t.elementType=Au,t.lanes=s,t;case Su:return t=Pt(13,n,e,i),t.elementType=Su,t.lanes=s,t;case Cu:return t=Pt(19,n,e,i),t.elementType=Cu,t.lanes=s,t;case og:return il(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ig:a=10;break e;case sg:a=9;break e;case Qc:a=11;break e;case Hc:a=14;break e;case An:a=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Pt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gr(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function il(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=og,t.lanes=n,t.stateNode={isHidden:!1},t}function du(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function fu(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ch(t,e,n,r,i,s,a,l,u){return t=new LI(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(s),t}function qI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yy(t){if(!t)return Hn;t=t._reactInternals;e:{if(Ar(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(mt(n))return Yg(t,n,e)}return e}function Jy(t,e,n,r,i,s,a,l,u){return t=Ch(n,r,!0,t,i,s,a,l,u),t.context=Yy(null),n=t.current,r=lt(),i=Ln(n),s=ln(r,i),s.callback=e??null,Un(n,s,i),t.current.lanes=i,Xs(t,i,r),gt(t,r),t}function sl(t,e,n,r){var i=e.current,s=lt(),a=Ln(i);return n=Yy(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Un(i,e,a),t!==null&&(jt(t,i,a,s),Ho(t,i,a)),a}function Na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nh(t,e){Ep(t,e),(t=t.alternate)&&Ep(t,e)}function jI(){return null}var Zy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rh(t){this._internalRoot=t}ol.prototype.render=Rh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));sl(t,e,null,null)};ol.prototype.unmount=Rh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){sl(null,t,null,null)}),e[hn]=null}};function ol(t){this._internalRoot=t}ol.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&kg(t)}};function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ap(){}function FI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Na(a);s.call(h)}}var a=Jy(e,r,t,0,null,!1,!1,"",Ap);return t._reactRootContainer=a,t[hn]=a.current,Ps(t.nodeType===8?t.parentNode:t),_r(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Na(u);l.call(h)}}var u=Ch(t,0,!1,null,null,!1,!1,"",Ap);return t._reactRootContainer=u,t[hn]=u.current,Ps(t.nodeType===8?t.parentNode:t),_r(function(){sl(e,u,n,r)}),u}function ll(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=Na(a);l.call(u)}}sl(e,a,t,i)}else a=FI(n,e,t,i,r);return Na(a)}Ng=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(Kc(e,n|1),gt(e,Re()),!(ae&6)&&(fi=Re()+500,tr()))}break;case 13:_r(function(){var r=dn(t,1);if(r!==null){var i=lt();jt(r,t,1,i)}}),Nh(t,1)}};Xc=function(t){if(t.tag===13){var e=dn(t,134217728);if(e!==null){var n=lt();jt(e,t,134217728,n)}Nh(t,134217728)}};Rg=function(t){if(t.tag===13){var e=Ln(t),n=dn(t,e);if(n!==null){var r=lt();jt(n,t,e,r)}Nh(t,e)}};Pg=function(){return ce};bg=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Ou=function(t,e,n){switch(e){case"input":if(Pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ja(r);if(!i)throw Error(j(90));lg(r),Pu(r,i)}}}break;case"textarea":cg(t,n);break;case"select":e=n.value,e!=null&&Xr(t,!!n.multiple,e,!1)}};yg=xh;wg=_r;var BI={usingClientEntryPoint:!1,Events:[Js,Wr,Ja,mg,gg,xh]},Zi={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WI={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_g(t),t===null?null:t.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||jI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Ga=Vo.inject(WI),Kt=Vo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(e))throw Error(j(200));return qI(t,e,null,n)};xt.createRoot=function(t,e){if(!Ph(t))throw Error(j(299));var n=!1,r="",i=Zy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ch(t,1,!1,null,null,n,!1,r,i),t[hn]=e.current,Ps(t.nodeType===8?t.parentNode:t),new Rh(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=_g(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return _r(t)};xt.hydrate=function(t,e,n){if(!al(e))throw Error(j(200));return ll(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Ph(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Zy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Jy(e,null,t,1,n??null,i,!1,s,a),t[hn]=e.current,Ps(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ol(e)};xt.render=function(t,e,n){if(!al(e))throw Error(j(200));return ll(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!al(t))throw Error(j(40));return t._reactRootContainer?(_r(function(){ll(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1};xt.unstable_batchedUpdates=xh;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!al(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return ll(t,e,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function e1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e1)}catch(t){console.error(t)}}e1(),eg.exports=xt;var zI=eg.exports,Sp=zI;xu.createRoot=Sp.createRoot,xu.hydrateRoot=Sp.hydrateRoot;const QI=[{id:1,chapter:"UNIT 1",question:"A microcomputer is also commonly known as a:",options:["Mainframe computer","Minicomputer","Supercomputer","Personal Computer (PC)"],answerIndex:3},{id:2,chapter:"UNIT 1",question:"The central processing unit (CPU) in a microcomputer is typically a single integrated circuit known as:",options:["Transistor","Microprocessor","Motherboard","Register"],answerIndex:1},{id:3,chapter:"UNIT 1",question:"Which of the following is NOT a type of microcomputer?",options:["Laptop","Desktop","Supercomputer","Tablet PC"],answerIndex:2},{id:4,chapter:"UNIT 1",question:"What is the smallest unit of data that a microcomputer can process?",options:["Byte","Kilobyte","Bit","Word"],answerIndex:2},{id:5,chapter:"UNIT 1",question:"What is the main function of the Arithmetic Logic Unit (ALU) in a microcomputer's CPU?",options:["Manage memory","Store data","Perform arithmetic and logical operations","Control input and output devices"],answerIndex:2},{id:6,chapter:"UNIT 1",question:"Which is a volatile memory type?",options:["ROM","Hard Disk","RAM","SSD"],answerIndex:2},{id:7,chapter:"UNIT 1",question:"The main circuit board in a microcomputer is the:",options:["Expansion Card","Motherboard","Hard Disk Drive","Power Supply"],answerIndex:1},{id:8,chapter:"UNIT 1",question:"An early successful microcomputer was the:",options:["IBM PC","Altair 8800","Apple I","Commodore PET"],answerIndex:1},{id:9,chapter:"UNIT 1",question:"Booting a microcomputer means:",options:["Restarting the system","Deleting files","Starting up and loading the operating system","Installing new software"],answerIndex:2},{id:10,chapter:"UNIT 1",question:"Microcomputers were originally named micro because:",options:["They performed small tasks","Processors used microscopic transistors","They were physically very tiny","They were less expensive"],answerIndex:1},{id:11,chapter:"UNIT 1",question:"Who developed the first microcontroller?",options:["Intel","Texas Instruments","Atmel","Motorola"],answerIndex:0},{id:12,chapter:"UNIT 1",question:"Which of the following was the first commercially available microcontroller?",options:["Intel 8051","Intel 4004","Intel 8048","Motorola 6800"],answerIndex:2},{id:13,chapter:"UNIT 1",question:"What made the Intel 8051 microcontroller particularly popular in embedded systems?",options:["8-bit processor with integrated RAM and ROM","High clock speed","Integrated GPU","64-bit architecture"],answerIndex:0},{id:14,chapter:"UNIT 1",question:"Which company introduced the PIC microcontroller family?",options:["Atmel","Microchip Technology","Texas Instruments","Intel"],answerIndex:1},{id:15,chapter:"UNIT 1",question:"Which microcontroller family is based on the AVR architecture?",options:["PIC","ARM","MSP430","Atmel AVR"],answerIndex:3},{id:16,chapter:"UNIT 1",question:"ARM Cortex-M microcontrollers are best known for which feature?",options:["High power consumption","Complex Instruction Set Computing (CISC)","Low-power, high-efficiency performance","64-bit architecture only"],answerIndex:2},{id:17,chapter:"UNIT 1",question:"Which microcontroller is commonly used in Arduino Uno boards?",options:["PIC16F877A","ATmega328P","ARM Cortex-M0","Intel 8051"],answerIndex:1},{id:18,chapter:"UNIT 1",question:"What major advancement do 32-bit microcontrollers offer over 8-bit ones?",options:["Slower processing speed","Smaller memory size","Enhanced computing power and addressable memory","Fewer peripherals"],answerIndex:2},{id:19,chapter:"UNIT 1",question:"Which decade saw the rise of 32-bit microcontrollers in consumer devices?",options:["1970s","1980s","1990s","2000s"],answerIndex:3},{id:20,chapter:"UNIT 1",question:"What is a key feature of RISC used in modern microcontrollers?",options:["Large number of complex instructions","Simple, small number of instructions optimized for speed","Only 4-bit operation","High power consumption"],answerIndex:1},{id:21,chapter:"UNIT 1",question:"Which of the following is NOT a part of the basic block diagram of a microcomputer?",options:["Central Processing Unit (CPU)","Memory Unit","Control Bus","Printer"],answerIndex:3},{id:22,chapter:"UNIT 1",question:"In a microcomputer, the CPU is primarily responsible for:",options:["Storing data","Displaying output","Performing arithmetic and logical operations","Power supply regulation"],answerIndex:2},{id:23,chapter:"UNIT 1",question:"The ALU (Arithmetic Logic Unit) is a part of which component of a microcomputer?",options:["Memory","CPU","I/O Unit","Bus"],answerIndex:1},{id:24,chapter:"UNIT 1",question:"What is the role of the Control Unit in a microcomputer?",options:["Store data permanently","Perform calculations","Coordinate and control all operations","Manage external power"],answerIndex:2},{id:25,chapter:"UNIT 1",question:"Which of the following is an essential element of a microcomputer?",options:["Mouse","CPU","Printer","Scanner"],answerIndex:1},{id:26,chapter:"UNIT 1",question:"Which type of memory in a microcomputer is used for temporary data storage during processing?",options:["ROM","SSD","RAM","Hard Disk"],answerIndex:2},{id:27,chapter:"UNIT 1",question:"What does ROM stand for, and what is its function?",options:["Read-On Memory, stores temporary data","Read-Only Memory, stores permanent instructions","Rapid Output Module, manages display","Read-On Module, used for printing"],answerIndex:1},{id:28,chapter:"UNIT 1",question:"Input devices in a microcomputer system are used to:",options:["Process data","Display results","Provide data and instructions to the computer","Store results permanently"],answerIndex:2},{id:29,chapter:"UNIT 1",question:"The bus used to carry data between components is called the:",options:["Address bus","Data bus","Control bus","System bus"],answerIndex:1},{id:30,chapter:"UNIT 1",question:"Which bus is unidirectional in most microcomputers?",options:["Data bus","Control bus","Address bus","Power bus"],answerIndex:2},{id:31,chapter:"UNIT 1",question:"What is the main function of the control bus?",options:["Transfer of data","Address decoding","Transmission of control signals","Memory mapping"],answerIndex:2},{id:32,chapter:"UNIT 1",question:"Which of the following statements is TRUE about system buses?",options:["They connect only the CPU to the keyboard","They include the data, address, and control buses","They are used only for graphics","They do not affect system performance"],answerIndex:1},{id:33,chapter:"UNIT 1",question:"Which of the following is true about a microcontroller compared to a microprocessor?",options:["Microcontroller has higher power consumption","Microcontroller is used in general-purpose computing","Microcontroller integrates memory and I/O ports on a single chip","Microcontroller requires more external components"],answerIndex:2},{id:34,chapter:"UNIT 1",question:"Which device is more suitable for complex, general-purpose computing tasks like desktop applications?",options:["Microcontroller","Microprocessor","Digital Signal Processor","Memory Controller"],answerIndex:1},{id:35,chapter:"UNIT 1",question:"In which application would a microcontroller be most appropriate?",options:["Desktop computer","Supercomputer","Washing machine control system","Game console GPU"],answerIndex:2},{id:36,chapter:"UNIT 1",question:"What is a key difference between a microcontroller and a microprocessor?",options:["Microprocessor includes I/O ports and memory internally","Microcontroller lacks a CPU","Microcontroller is a single-chip solution","Microprocessor consumes less power"],answerIndex:2},{id:37,chapter:"UNIT 1",question:"Which component is generally not included in a typical microprocessor chip?",options:["ALU","RAM","ROM","I/O Ports"],answerIndex:2},{id:38,chapter:"UNIT 1",question:"Which one is generally more cost-effective for mass-produced embedded systems?",options:["Microprocessor","Microcontroller","GPU","FPGA"],answerIndex:1},{id:39,chapter:"UNIT 1",question:"Microcontrollers typically operate at which of the following clock speed ranges?",options:["1 GHz to 4 GHz","10 GHz to 20 GHz","1 MHz to 200 MHz","3 GHz to 5 GHz"],answerIndex:2},{id:40,chapter:"UNIT 1",question:"Which of the following is NOT an advantage of microcontrollers over microprocessors?",options:["Low power consumption","Integrated peripherals","Faster for complex calculations","Compact design"],answerIndex:2},{id:41,chapter:"UNIT 1",question:"Why are microcontrollers preferred in embedded systems?",options:["They are very expensive","They include only the CPU","They integrate CPU, memory, and I/O ports in one chip","They require complex external circuitry"],answerIndex:2},{id:42,chapter:"UNIT 1",question:"What is the main advantage of using a microcontroller in automation systems?",options:["High graphics performance","Real-time control and low power consumption","Internet browsing","Gaming capability"],answerIndex:1},{id:43,chapter:"UNIT 1",question:"Which of the following is NOT a reason to use microcontrollers in modern electronics?",options:["Cost-effectiveness","Compact size","High power consumption","On-chip peripheral integration"],answerIndex:2},{id:44,chapter:"UNIT 1",question:"In which of the following applications is the use of a microcontroller most appropriate?",options:["Web server","Microwave oven control","Data center cooling system","Supercomputer calculations"],answerIndex:1},{id:45,chapter:"UNIT 1",question:"What makes microcontrollers especially useful in portable electronic devices?",options:["They consume more power","They need external RAM and ROM","They are large in size","They are compact and power-efficient"],answerIndex:3},{id:46,chapter:"UNIT 1",question:"Microcontrollers are most commonly used in which type of systems?",options:["Cloud computing systems","Embedded systems","High-performance gaming PCs","Large-scale enterprise databases"],answerIndex:1},{id:47,chapter:"UNIT 1",question:"Which of the following best describes the primary need for microcontrollers?",options:["High-end data processing","Multi-user environment","Dedicated task execution in devices","General-purpose computing"],answerIndex:2},{id:48,chapter:"UNIT 1",question:"Why is a microcontroller considered more efficient for real-time control applications?",options:["It has more cache memory","It supports multiprocessing","It has dedicated timers and interrupts","It runs Windows OS"],answerIndex:2},{id:49,chapter:"UNIT 1",question:"How do microcontrollers help in reducing the overall system cost?",options:["By reducing speed","By eliminating external components","By requiring a separate graphics card","By increasing power usage"],answerIndex:1},{id:50,chapter:"UNIT 1",question:"Which of the following is a major reason for using microcontrollers in industrial automation?",options:["Complex gaming control","Precise and repetitive task execution","High-end graphical output","Cloud storage access"],answerIndex:1},{id:51,chapter:"UNIT 1",question:"Who originally developed the 8051 microcontroller?",options:["Atmel","Intel","Microchip","Motorola"],answerIndex:1},{id:52,chapter:"UNIT 1",question:"What is the data bus width of the standard 8051 microcontroller?",options:["4-bit","8-bit","16-bit","32-bit"],answerIndex:1},{id:53,chapter:"UNIT 1",question:"How much on-chip RAM does a typical 8051 microcontroller have?",options:["128 bytes","256 bytes","512 bytes","1 KB"],answerIndex:0},{id:54,chapter:"UNIT 1",question:"What is the size of the on-chip ROM in a standard 8051 microcontroller?",options:["256 bytes","512 bytes","1 KB","4 KB"],answerIndex:3},{id:55,chapter:"UNIT 1",question:"How many 16-bit timers/counters does the 8051 have?",options:["1","2","3","4"],answerIndex:1},{id:56,chapter:"UNIT 1",question:"How many input/output (I/O) ports are available in the standard 8051 microcontroller?",options:["2","3","4","5"],answerIndex:2},{id:57,chapter:"UNIT 1",question:"What is the maximum addressable external memory for the 8051 microcontroller?",options:["8 KB","32 KB","64 KB for ROM and 64 KB for RAM","128 KB for ROM and RAM combined"],answerIndex:2},{id:58,chapter:"UNIT 1",question:"Which of the following is a feature of the 8051 microcontroller?",options:["Built-in ADC","Built-in DAC","Full-duplex serial communication","Floating point unit"],answerIndex:2},{id:59,chapter:"UNIT 1",question:"The 8051 instruction set is based on which architecture?",options:["RISC","CISC","Harvard with RISC","VLIW"],answerIndex:1},{id:60,chapter:"UNIT 1",question:"What is the function of the SFRs in 8051 microcontrollers?",options:["Store external RAM data","Store executable code","Control and monitor internal operations","Store floating point data"],answerIndex:2},{id:61,chapter:"UNIT 1",question:"What is the bit size of the Program Counter (PC) in the 8051 microcontroller?",options:["8-bit","12-bit","16-bit","32-bit"],answerIndex:2},{id:62,chapter:"UNIT 1",question:"Which of the following is a variant in the 8051 family?",options:["8052","AT89C51","AT89S52","All of the above"],answerIndex:3},{id:63,chapter:"UNIT 1",question:"What is the difference between 8051 and 8052 microcontrollers?",options:["8052 has more I/O ports","8052 has additional timer and RAM","8051 has more ROM than 8052","8052 lacks serial communication"],answerIndex:1},{id:64,chapter:"UNIT 1",question:"Which company manufactures the AT89C51 microcontroller, a derivative of the 8051 family?",options:["Intel","Microchip","Atmel","Motorola"],answerIndex:2},{id:65,chapter:"UNIT 1",question:"Which programming language is commonly used to program 8051 microcontrollers?",options:["Java","Python","Assembly and Embedded C","HTML"],answerIndex:2},{id:66,chapter:"UNIT 1",question:"The AT89C51 microcontroller is based on which architecture?",options:["ARM","AVR","8051","RISC-V"],answerIndex:2},{id:67,chapter:"UNIT 1",question:"What is the size of flash memory in AT89C51?",options:["2 KB","4 KB","8 KB","16 KB"],answerIndex:2},{id:68,chapter:"UNIT 1",question:"Which of the following microcontrollers has the smallest number of I/O pins?",options:["AT89C51","AT89C1051","AT89C2051","AT89C4051"],answerIndex:1},{id:69,chapter:"UNIT 1",question:"What is the ROM (Flash) size of the AT89C2051 microcontroller?",options:["1 KB","2 KB","4 KB","8 KB"],answerIndex:1},{id:70,chapter:"UNIT 1",question:"Which version of 8051 microcontroller comes with a 20-pin package and has 2 timers?",options:["AT89C1051","AT89C2051","AT89C4051","AT89C51"],answerIndex:1},{id:71,chapter:"UNIT 1",question:"What is the major difference between AT89C2051 and AT89C4051?",options:["Clock speed","Package type","Flash memory size","Number of UARTs"],answerIndex:2},{id:72,chapter:"UNIT 1",question:"The AT89C1051 lacks which of the following hardware features?",options:["UART","Timer","Flash memory","CPU core"],answerIndex:0},{id:73,chapter:"UNIT 1",question:"Which of the following microcontrollers is most suitable for low-pin-count embedded applications?",options:["AT89C51","AT89C2051","AT89C4051","AT89C1051"],answerIndex:3},{id:74,chapter:"UNIT 1",question:"What is the maximum number of I/O pins available in AT89C2051?",options:["8","10","15","20"],answerIndex:2},{id:75,chapter:"UNIT 1",question:"Which microcontroller from the 8051 family variants is available in a 40-pin DIP package and includes full serial communication support?",options:["AT89C1051","AT89C2051","AT89C4051","AT89C51"],answerIndex:3},{id:76,chapter:"UNIT 1",question:"What is a shared feature among all AT89C1051, AT89C2051, and AT89C4051?",options:["40-pin DIP package","On-chip ADC","Based on 8051 core","64 KB ROM"],answerIndex:2},{id:77,chapter:"UNIT 1",question:"Which of the following is NOT true about the AT89C4051?",options:["It has 4 KB flash","It has 128 bytes RAM","It includes an 8051-compatible CPU","It has built-in ADC"],answerIndex:3},{id:78,chapter:"UNIT 1",question:"All AT89Cx051 microcontrollers typically operate at a maximum frequency of:",options:["4 MHz","12 MHz","24 MHz","40 MHz"],answerIndex:2},{id:79,chapter:"UNIT 1",question:"The AT89C4051 microcontroller is best described as:",options:["A high-end ARM processor","A 16-bit RISC microcontroller","A mid-range 8051 variant with 4 KB Flash and 20 pins","A sensor module"],answerIndex:2},{id:80,chapter:"UNIT 1",question:"What kind of memory technology is used in AT89C51 variants for program storage?",options:["EEPROM","ROM","Flash","SRAM"],answerIndex:2}],HI=[{id:101,chapter:"UNIT 2",question:"What is an embedded system?",options:["A computer that can perform any task","A software program without hardware","A combination of hardware and software designed for a specific task","A server-based system for data storage"],answerIndex:2},{id:102,chapter:"UNIT 2",question:"Which of the following is an example of an embedded system?",options:["Laptop","Washing machine","Web browser","Cloud server"],answerIndex:1},{id:103,chapter:"UNIT 2",question:"What is the main characteristic of an embedded system?",options:["General-purpose computing","High power consumption","Performs a dedicated function","Requires a large operating system"],answerIndex:2},{id:104,chapter:"UNIT 2",question:"Which of the following is NOT typically a component of an embedded system?",options:["Microcontroller or microprocessor","Sensors and actuators","Operating system like Windows 10","Embedded software"],answerIndex:2},{id:105,chapter:"UNIT 2",question:"What does real-time in real-time embedded systems mean?",options:["High data rate","Multi-user support","Response within a strict time deadline","Long-term processing"],answerIndex:2},{id:106,chapter:"UNIT 2",question:"Which of the following best represents the role of embedded software?",options:["To play music","To control and interact with the hardware","To perform graphic rendering","To surf the internet"],answerIndex:1},{id:107,chapter:"UNIT 2",question:"Which of the following is a hardware component of an embedded system?",options:["Compiler","RTOS","Sensor","Device driver"],answerIndex:2},{id:108,chapter:"UNIT 2",question:"Which microcontroller family is commonly used in embedded systems?",options:["Intel i9","AMD Ryzen","ARM Cortex-M","NVIDIA GPU"],answerIndex:2},{id:109,chapter:"UNIT 2",question:"Which of the following is NOT a typical feature of embedded systems?",options:["Low memory","Low power consumption","Complex user interface","Real-time operation"],answerIndex:2},{id:110,chapter:"UNIT 2",question:"Embedded systems are mostly built for:",options:["High-performance graphics","General-purpose multitasking","Dedicated control or monitoring","Gaming applications"],answerIndex:2},{id:111,chapter:"UNIT 2",question:"Which of the following terms is commonly associated with embedded systems?",options:["BIOS","Firmware","GPU acceleration","Compiler optimization"],answerIndex:1},{id:112,chapter:"UNIT 2",question:"In embedded systems, what is meant by resource-constrained?",options:["Limited power, memory, and processing capability","Unlimited memory usage","Excessive power consumption","High-end graphics support"],answerIndex:0},{id:113,chapter:"UNIT 2",question:"Which programming language is most commonly used in embedded systems?",options:["JavaScript","Python","C","SQL"],answerIndex:2},{id:114,chapter:"UNIT 2",question:"Which of the following is an example of a real-time embedded system?",options:["Email application","Microwave oven controller","Game console","Word processor"],answerIndex:1},{id:115,chapter:"UNIT 2",question:"Which component converts physical quantities into electrical signals in an embedded system?",options:["Actuator","Microcontroller","Sensor","Compiler"],answerIndex:2},{id:116,chapter:"UNIT 2",question:"Which is the central component in an embedded system hardware block diagram?",options:["Timer","I/O Interface","Microcontroller or Microprocessor (CPU)","Memory"],answerIndex:2},{id:117,chapter:"UNIT 2",question:"In an embedded system, what is the role of memory units like ROM and RAM?",options:["Displaying output","Performing calculations","Storing code and data","Handling communication protocols"],answerIndex:2},{id:118,chapter:"UNIT 2",question:"Which memory is typically used to store firmware in embedded systems?",options:["RAM","Cache","ROM / Flash Memory","EEPROM"],answerIndex:2},{id:119,chapter:"UNIT 2",question:"What is the function of I/O interfaces in embedded hardware?",options:["Increase processing speed","Store large data","Enable communication with external devices","Generate power"],answerIndex:2},{id:120,chapter:"UNIT 2",question:"Which block in an embedded system is responsible for timing and counting operations?",options:["RAM","Timer/Counter","UART","GPIO"],answerIndex:1},{id:121,chapter:"UNIT 2",question:"Which component in the hardware block diagram converts physical signals into electrical signals?",options:["Actuator","Sensor","DAC","Memory"],answerIndex:1},{id:122,chapter:"UNIT 2",question:"What is the function of an actuator in embedded system hardware?",options:["Convert digital signals into physical action","Store energy","Decode program instructions","Generate clock signals"],answerIndex:0},{id:123,chapter:"UNIT 2",question:"Which of the following is NOT part of the standard embedded system hardware block diagram?",options:["Power supply","Compiler","Memory","Communication Interface"],answerIndex:1},{id:124,chapter:"UNIT 2",question:"What is the purpose of communication interfaces like UART, SPI, and I2C in embedded systems?",options:["Perform arithmetic operations","Manage memory","Enable data exchange between devices","Power the sensors"],answerIndex:2},{id:125,chapter:"UNIT 2",question:"GPIO pins in embedded systems are used for:",options:["Serial communication only","High-speed data transfer","General-purpose input/output tasks","Flash memory access"],answerIndex:2},{id:126,chapter:"UNIT 2",question:"In a basic hardware block diagram of an embedded system, the power supply unit is used to:",options:["Generate software delays","Run diagnostic tests","Provide regulated voltage to all components","Connect to the internet"],answerIndex:2},{id:127,chapter:"UNIT 2",question:"A typical embedded system hardware block diagram includes which data flow path?",options:["CPU  Sensor  RAM","Sensor  CPU  Actuator","Timer  ROM  Compiler","Keyboard  Power Supply  DAC"],answerIndex:1},{id:128,chapter:"UNIT 2",question:"What does ADC (Analog to Digital Converter) do in embedded systems?",options:["Converts code into machine language","Converts physical actions into electrical signals","Converts analog input signals to digital data","Controls display devices"],answerIndex:2},{id:129,chapter:"UNIT 2",question:"Which of the following is often embedded as a hardware communication protocol in microcontrollers?",options:["Wi-Fi","I2C","PHP","Python"],answerIndex:1},{id:130,chapter:"UNIT 2",question:"What connects all the blocks (CPU, Memory, I/O, etc.) in the embedded hardware system?",options:["Compiler","System Bus","Actuator","RTOS"],answerIndex:1},{id:131,chapter:"UNIT 2",question:"Which of the following is a major advantage of an embedded system?",options:["High power consumption","High cost and low speed","Real-time performance and reliability","Requires frequent user intervention"],answerIndex:2},{id:132,chapter:"UNIT 2",question:"Embedded systems are often preferred because they are:",options:["Flexible and reprogrammable for all applications","Dedicated and optimized for a specific task","Very large and general-purpose","Designed for multitasking operating systems"],answerIndex:1},{id:133,chapter:"UNIT 2",question:"Which of the following is NOT an advantage of embedded systems?",options:["Low power consumption","Compact size","Expensive hardware requirement","High reliability"],answerIndex:2},{id:134,chapter:"UNIT 2",question:"What makes embedded systems ideal for real-time applications?",options:["General-purpose architecture","Predictable and deterministic behavior","Slow response time","Non-dedicated software"],answerIndex:1},{id:135,chapter:"UNIT 2",question:"Which of the following is an application of embedded systems?",options:["Washing machines","Digital cameras","Automotive control systems","All of the above"],answerIndex:3},{id:136,chapter:"UNIT 2",question:"In which domain are embedded systems widely used for safety-critical operations?",options:["Gaming","Aerospace and medical devices","Web applications","Word processing"],answerIndex:1},{id:137,chapter:"UNIT 2",question:"What is the main benefit of low power consumption in embedded systems?",options:["Allows for portable, battery-operated devices","Increases processing delay","Makes system bulky","Reduces reliability"],answerIndex:0},{id:138,chapter:"UNIT 2",question:"Which of the following devices contains an embedded system?",options:["Smartwatch","Laptop","Server","Supercomputer"],answerIndex:0},{id:139,chapter:"UNIT 2",question:"What is the role of embedded systems in automotive applications?",options:["To control engine functions and safety features","To run cloud-based databases","To perform text editing","To browse the internet"],answerIndex:0},{id:140,chapter:"UNIT 2",question:"One key advantage of embedded systems over general-purpose systems is:",options:["Better at multitasking unrelated programs","Lower cost and higher efficiency for specific tasks","Requires complex OS support","Requires more maintenance"],answerIndex:1},{id:141,chapter:"UNIT 2",question:"Which of the following best describes an embedded system?",options:["A system designed for general-purpose computing","A computer designed to perform a dedicated function","A high-speed computer used in data centers","A desktop used for gaming and office work"],answerIndex:1},{id:142,chapter:"UNIT 2",question:"What is a key difference between embedded systems and general-purpose computers?",options:["Embedded systems cannot use memory","Embedded systems are smaller and task-specific","General-purpose computers are always portable","Embedded systems are slower than PCs"],answerIndex:1},{id:143,chapter:"UNIT 2",question:"In terms of user interaction, embedded systems generally:",options:["Have high user interaction","Have little or no direct user interface","Always use graphical interfaces","Are controlled through keyboard and mouse"],answerIndex:1},{id:144,chapter:"UNIT 2",question:"Which of the following is an example of an embedded system?",options:["Laptop computer","Smart TV remote control","Supercomputer","Tablet PC"],answerIndex:1},{id:145,chapter:"UNIT 2",question:"The operating system used in embedded systems is typically:",options:["General-purpose OS like Windows or Linux","No operating system","Real-Time Operating System (RTOS) or bare metal","Cloud-based OS"],answerIndex:2},{id:146,chapter:"UNIT 2",question:"Which of the following statements about general-purpose systems is TRUE?",options:["They are designed for one specific function","They have limited memory and processing power","They can execute multiple types of applications","They always run without an operating system"],answerIndex:2},{id:147,chapter:"UNIT 2",question:"Which of the following characteristics is NOT typical of embedded systems?",options:["Dedicated functionality","High reliability","Wide range of user-installed applications","Real-time operation"],answerIndex:2},{id:148,chapter:"UNIT 2",question:"Embedded systems are often used in:",options:["Banking and stock trading only","Industrial machines, medical devices, and home appliances","Office computing and gaming","None of the above"],answerIndex:1},{id:149,chapter:"UNIT 2",question:"Which of the following microcontrollers belongs to the 8051 family?",options:["PIC16F877A","AT89C51","ATmega328","ARM7TDMI"],answerIndex:1},{id:150,chapter:"UNIT 2",question:"The AT89C51 microcontroller has how much on-chip Flash memory?",options:["1 KB","4 KB","8 KB","16 KB"],answerIndex:2},{id:151,chapter:"UNIT 2",question:"The instruction set of the 89C51 microcontroller is of which type?",options:["RISC","CISC","Harvard","Reduced pipeline"],answerIndex:1},{id:152,chapter:"UNIT 2",question:"Which of the following microcontrollers uses RISC architecture?",options:["89C51","AVR","PIC","Both AVR and PIC"],answerIndex:3},{id:153,chapter:"UNIT 2",question:"The PIC microcontroller family is developed by:",options:["Intel","Microchip Technology","Atmel","ARM Holdings"],answerIndex:1},{id:154,chapter:"UNIT 2",question:"Which of the following microcontrollers is based on Harvard architecture?",options:["PIC","89C51","AVR","Both PIC and AVR"],answerIndex:3},{id:155,chapter:"UNIT 2",question:"AVR microcontrollers are developed by:",options:["ARM","Atmel","Intel","Texas Instruments"],answerIndex:1},{id:156,chapter:"UNIT 2",question:"Which AVR microcontroller is used in Arduino Uno boards?",options:["ATmega8","ATmega16","ATmega32","ATmega328"],answerIndex:3},{id:157,chapter:"UNIT 2",question:"Which of the following is NOT a feature of ARM microcontrollers?",options:["16-bit/32-bit RISC architecture","High performance and low power","Complex instruction set (CISC)","Used in smartphones and embedded systems"],answerIndex:2},{id:158,chapter:"UNIT 2",question:"The ARM microcontroller cores are developed by:",options:["Atmel","Microchip","ARM Holdings","Intel"],answerIndex:2},{id:159,chapter:"UNIT 2",question:"Which of the following microcontrollers supports both 8-bit and 32-bit variants?",options:["89C51","PIC","AVR","ARM"],answerIndex:1},{id:160,chapter:"UNIT 2",question:"The ARM7TDMI core supports which type of instruction sets?",options:["Only ARM (32-bit)","Only Thumb (16-bit)","Both ARM and Thumb instruction sets","None of the above"],answerIndex:2},{id:161,chapter:"UNIT 2",question:"The operating frequency of a typical 89C51 microcontroller is:",options:["4 MHz","12 MHz","24 MHz","40 MHz"],answerIndex:1},{id:162,chapter:"UNIT 2",question:"Which microcontroller is widely used for robotics and IoT projects due to its performance and power efficiency?",options:["89C51","PIC16F84A","AVR ATmega328","ARM Cortex-M"],answerIndex:3},{id:163,chapter:"UNIT 2",question:"Which microcontroller among the following has in-built ADC (Analog to Digital Converter)?",options:["89C51","PIC16F877A","ATmega328","Both PIC16F877A and ATmega328"],answerIndex:3},{id:164,chapter:"UNIT 2",question:"Which of the following microcontrollers is based on CISC architecture?",options:["PIC","AVR","89C51","ARM"],answerIndex:2},{id:165,chapter:"UNIT 2",question:"Which of the following microcontrollers supports 32-bit processing?",options:["89C51","PIC16F877A","ATmega328","ARM Cortex-M3"],answerIndex:3},{id:166,chapter:"UNIT 2",question:"Which microcontroller is commonly used in Arduino Uno boards?",options:["89C51","PIC16F877A","ATmega328","ARM7TDMI"],answerIndex:2},{id:167,chapter:"UNIT 2",question:"Which microcontroller has the lowest speed and simplest architecture?",options:["89C51","PIC16","AVR ATmega16","ARM Cortex-M4"],answerIndex:0},{id:168,chapter:"UNIT 2",question:"The PIC microcontroller series is developed by:",options:["Atmel","Microchip Technology","Intel","ARM Holdings"],answerIndex:1},{id:169,chapter:"UNIT 2",question:"The 89C51 microcontroller has how many I/O ports?",options:["2 ports","3 ports","4 ports","5 ports"],answerIndex:2},{id:170,chapter:"UNIT 2",question:"Which of the following microcontrollers supports both 8-bit and 32-bit families?",options:["89C51","AVR","PIC","ARM"],answerIndex:2},{id:171,chapter:"UNIT 2",question:"Which of the following microcontrollers has built-in ADC?",options:["89C51","PIC16F877A","ATmega328","Both PIC16F877A and ATmega328"],answerIndex:3},{id:172,chapter:"UNIT 2",question:"The ARM microcontroller is most suitable for:",options:["Basic control applications","High-performance and IoT applications","Simple LED blinking tasks","Only educational use"],answerIndex:1},{id:173,chapter:"UNIT 2",question:"Which architecture is used by AVR and PIC microcontrollers?",options:["Von Neumann","Harvard","CISC","Multi-core"],answerIndex:1},{id:174,chapter:"UNIT 2",question:"Which microcontroller has both ARM and Thumb instruction sets?",options:["ARM7TDMI","ATmega328","PIC18F452","89C51"],answerIndex:0},{id:175,chapter:"UNIT 2",question:"The main advantage of ARM microcontrollers over 8-bit controllers is:",options:["Higher cost only","Low power and high performance","Slower speed","Larger size"],answerIndex:1},{id:176,chapter:"UNIT 2",question:"Which microcontroller uses RISC architecture and is developed by Atmel?",options:["89C51","PIC","AVR","ARM"],answerIndex:2},{id:177,chapter:"UNIT 2",question:"The 89C51 microcontroller belongs to which family?",options:["PIC","8051","AVR","ARM"],answerIndex:1},{id:178,chapter:"UNIT 2",question:"Which of the following microcontrollers is widely used in smartphones and tablets?",options:["AVR","89C51","PIC","ARM"],answerIndex:3},{id:179,chapter:"UNIT 2",question:"ATmega328 belongs to which microcontroller family?",options:["8051","AVR","PIC","ARM"],answerIndex:1},{id:180,chapter:"UNIT 2",question:"What is the architecture type of ATmega328?",options:["Von Neumann","Harvard","CISC","ARM"],answerIndex:1},{id:181,chapter:"UNIT 2",question:"How much Flash memory is available in ATmega328?",options:["2 KB","8 KB","16 KB","32 KB"],answerIndex:3},{id:182,chapter:"UNIT 2",question:"What is the size of SRAM in ATmega328?",options:["512 bytes","1 KB","2 KB","4 KB"],answerIndex:2},{id:183,chapter:"UNIT 2",question:"How many general-purpose I/O pins does ATmega328 have?",options:["14","20","23","28"],answerIndex:2},{id:184,chapter:"UNIT 2",question:"How many analog input channels are available in ATmega328?",options:["4","6","8","10"],answerIndex:1},{id:185,chapter:"UNIT 2",question:"The ATmega328 microcontroller operates typically at which clock frequency?",options:["1 MHz","8 MHz","16 MHz","20 MHz"],answerIndex:2},{id:186,chapter:"UNIT 2",question:"What is the operating voltage range of ATmega328?",options:["1.8V  3.3V","2.7V  5.5V","5.5V  12V","9V  24V"],answerIndex:1},{id:187,chapter:"UNIT 2",question:"What is the resolution of the ADC in ATmega328?",options:["8-bit","10-bit","12-bit","16-bit"],answerIndex:1},{id:188,chapter:"UNIT 2",question:"How many timers/counters are available in ATmega328?",options:["1","2","3","4"],answerIndex:2},{id:189,chapter:"UNIT 2",question:"Which communication interfaces are supported by ATmega328?",options:["USART","SPI","I2C (TWI)","All of the above"],answerIndex:3},{id:190,chapter:"UNIT 2",question:"How much EEPROM memory does ATmega328 contain?",options:["256 bytes","512 bytes","1 KB","2 KB"],answerIndex:2},{id:191,chapter:"UNIT 2",question:"How many interrupt sources are available in ATmega328?",options:["10","14","21","24"],answerIndex:2},{id:192,chapter:"UNIT 2",question:"Which feature enables power saving in ATmega328?",options:["Sleep modes","Brown-out detection","Watchdog timer","All of the above"],answerIndex:3},{id:193,chapter:"UNIT 2",question:"The ATmega328 used in Arduino Uno is housed in which type of package?",options:["QFP","DIP","PLCC","BGA"],answerIndex:1},{id:194,chapter:"UNIT 2",question:"The instruction set of ATmega328 is:",options:["CISC","RISC","ARM","VLIW"],answerIndex:1},{id:195,chapter:"UNIT 2",question:"Which feature of ATmega328 allows it to run code directly from Flash memory?",options:["Self-programming","Bootloader support","ISP (In-System Programming)","All of the above"],answerIndex:3},{id:196,chapter:"UNIT 2",question:"How many PWM channels are available in ATmega328?",options:["2","4","6","8"],answerIndex:2},{id:197,chapter:"UNIT 2",question:"Which oscillator sources are available in ATmega328?",options:["Internal RC oscillator","External crystal/resonator","External clock input","All of the above"],answerIndex:3},{id:198,chapter:"UNIT 2",question:"ATmega328 is widely used in:",options:["Smartphones","Arduino boards and robotics","Laptops","High-speed servers"],answerIndex:1},{id:199,chapter:"UNIT 2",question:"How many total pins does the ATmega328 microcontroller have in its DIP package?",options:["20","28","32","40"],answerIndex:1},{id:200,chapter:"UNIT 2",question:"Which pins of ATmega328 are used for power supply (VCC and GND)?",options:["Pins 1, 7, 20, 22","Pins 7 (VCC) and 8 & 22 (GND), also 20 (AVCC)","Pins 9 and 10","Pins 2 and 3"],answerIndex:1},{id:201,chapter:"UNIT 2",question:"What is the function of pin 1 (PC6/RESET) in ATmega328?",options:["Digital input","Analog input","System Reset input","Clock output"],answerIndex:2},{id:202,chapter:"UNIT 2",question:"Which pins of ATmega328 are used as analog input pins (ADC channels)?",options:["PC0PC5 (pins 2328)","PD0PD7 (pins 29)","PB0PB5 (pins 1419)","PB6PB7 (pins 910)"],answerIndex:0},{id:203,chapter:"UNIT 2",question:"Which pin of ATmega328 is used for TX (transmit) in serial communication?",options:["PD1 (pin 3)","PD0 (pin 2)","PB0 (pin 14)","PC6 (pin 1)"],answerIndex:0},{id:204,chapter:"UNIT 2",question:"Which pin of ATmega328 is used for RX (receive) in serial communication?",options:["PD1 (pin 3)","PD0 (pin 2)","PB1 (pin 15)","PC0 (pin 23)"],answerIndex:1},{id:205,chapter:"UNIT 2",question:"Which pins of ATmega328 are used for crystal oscillator connection?",options:["PB6 (pin 9) and PB7 (pin 10)","PD6 and PD7","PC4 and PC5","PB0 and PB1"],answerIndex:0},{id:206,chapter:"UNIT 2",question:"Which pin is used as the Analog Reference (AREF) in ATmega328?",options:["Pin 20","Pin 21","Pin 22","Pin 23"],answerIndex:1},{id:207,chapter:"UNIT 2",question:"Which port pins of ATmega328 are used for SPI communication?",options:["PB3 (MOSI), PB4 (MISO), PB5 (SCK), PB2 (SS)","PD2, PD3, PD4, PD5","PC0, PC1, PC2, PC3","PB0PB3"],answerIndex:0},{id:208,chapter:"UNIT 2",question:"Which port pins are used for IC (TWI) communication in ATmega328?",options:["PC0 (SDA), PC1 (SCL)","PC4 (SDA), PC5 (SCL)","PD0 (SDA), PD1 (SCL)","PB0 (SDA), PB1 (SCL)"],answerIndex:1},{id:209,chapter:"UNIT 2",question:"How many total I/O pins does ATmega328 have?",options:["20","23","25","28"],answerIndex:1},{id:210,chapter:"UNIT 2",question:"What is the function of AVCC (pin 20) in ATmega328?",options:["Power supply for analog and ADC section","External clock input","Reset signal","Digital I/O pin"],answerIndex:0},{id:211,chapter:"UNIT 2",question:"Which pin is used for the external interrupt INT0 in ATmega328?",options:["PD0","PD2","PD3","PB0"],answerIndex:1},{id:212,chapter:"UNIT 2",question:"Which pin is used for the external interrupt INT1 in ATmega328?",options:["PD3 (pin 5)","PD4 (pin 6)","PD7 (pin 13)","PB0 (pin 14)"],answerIndex:0},{id:213,chapter:"UNIT 2",question:"Which port of ATmega328 acts as the analog input port?",options:["PORTB","PORTC","PORTD","PORTA"],answerIndex:1},{id:214,chapter:"UNIT 2",question:"Which pins are used for PWM outputs in ATmega328?",options:["PD5, PD6, PB1, PB2, PB3","PC0PC5","PD0PD3","PB6, PB7"],answerIndex:0},{id:215,chapter:"UNIT 2",question:"What is the function of pin 22 (GND) in ATmega328?",options:["Analog output","Digital I/O","Ground reference for the circuit","Clock signal"],answerIndex:2},{id:216,chapter:"UNIT 2",question:"Which pins belong to PORTD in ATmega328?",options:["Pins 29","Pins 1419","Pins 2328","Pins 18"],answerIndex:0},{id:217,chapter:"UNIT 2",question:"Which port pins are part of PORTB in ATmega328?",options:["Pins 1419","Pins 29","Pins 2328","Pins 16"],answerIndex:0},{id:218,chapter:"UNIT 2",question:"Which pin provides reference voltage to the ADC subsystem in ATmega328?",options:["AVCC","AREF","VCC","GND"],answerIndex:1},{id:219,chapter:"UNIT 2",question:"Which pins are used for UART communication in ATmega328?",options:["PD0 (RX) and PD1 (TX)","PB0 and PB1","PC4 and PC5","PB6 and PB7"],answerIndex:0},{id:220,chapter:"UNIT 2",question:"Which port of ATmega328 supports IC (TWI) communication?",options:["PORTB","PORTC","PORTD","PORTA"],answerIndex:1}],$I=[{id:300,chapter:"UNIT 3",question:"What is Arduino?",options:["A type of operating system","A microprocessor chip","An open-source electronics prototyping platform","A software development IDE only"],answerIndex:2},{id:301,chapter:"UNIT 3",question:"Arduino boards are based on which type of microcontroller?",options:["Intel 8085","ATMega series (AVR)","ARM Cortex-A series","PIC16F877A"],answerIndex:1},{id:302,chapter:"UNIT 3",question:"The Arduino IDE is primarily written in which programming language?",options:["Python","Java","C#","Kotlin"],answerIndex:1},{id:303,chapter:"UNIT 3",question:"Arduino is termed as an open-source platform because:",options:["It is free only for education","Its hardware and software are freely available to modify and share","It does not require a microcontroller","It works only with paid libraries"],answerIndex:1},{id:304,chapter:"UNIT 3",question:"What is the main purpose of an Arduino board?",options:["To run computer operating systems","To store large amounts of data","To control electronic circuits and sensors","To perform heavy graphics processing"],answerIndex:2},{id:305,chapter:"UNIT 3",question:"The programming language used in Arduino IDE is mainly based on:",options:["Python","Assembly language","C and C++","JavaScript"],answerIndex:2},{id:306,chapter:"UNIT 3",question:"Which of the following is NOT a common Arduino board?",options:["Arduino Uno","Arduino Mega","Arduino Nano","Raspberry Pi"],answerIndex:3},{id:307,chapter:"UNIT 3",question:"The USB port in Arduino Uno is mainly used for:",options:["Power supply only","Uploading code and serial communication","Internet connectivity","Video output"],answerIndex:1},{id:308,chapter:"UNIT 3",question:"Which feature makes Arduino ideal for beginners?",options:["Complex programming","Low power consumption only","Easy-to-use hardware and software","Assembly language coding"],answerIndex:2},{id:309,chapter:"UNIT 3",question:"What is the default clock frequency of Arduino Uno (ATMega328P)?",options:["8 MHz","12 MHz","16 MHz","20 MHz"],answerIndex:2},{id:310,chapter:"UNIT 3",question:"Which Arduino board is most commonly used by beginners?",options:["Arduino Mega 2560","Arduino Uno","Arduino Due","Arduino Leonardo"],answerIndex:1},{id:311,chapter:"UNIT 3",question:"Arduino Mega 2560 is best suited for applications requiring:",options:["Low memory","Fewer I/O pins","Large number of I/O pins and more memory","Battery operation only"],answerIndex:2},{id:312,chapter:"UNIT 3",question:"Which Arduino board is smallest in size?",options:["Arduino Uno","Arduino Mega","Arduino Nano","Arduino Leonardo"],answerIndex:2},{id:313,chapter:"UNIT 3",question:"Which microcontroller is used in Arduino Leonardo?",options:["ATMega328P","ATMega32U4","ATMega2560","SAM3X8E"],answerIndex:1},{id:314,chapter:"UNIT 3",question:"Arduino Due is based on which microcontroller architecture?",options:["8-bit AVR","32-bit ARM Cortex-M3","16-bit PIC","64-bit RISC-V"],answerIndex:1},{id:315,chapter:"UNIT 3",question:"Which Arduino board operates at 3.3V logic level?",options:["Arduino Uno","Arduino Mega","Arduino Nano","Arduino Due"],answerIndex:3},{id:316,chapter:"UNIT 3",question:"Which Arduino board is best suited for wearable electronics?",options:["Arduino Uno","Arduino LilyPad","Arduino Mega","Arduino Due"],answerIndex:1},{id:317,chapter:"UNIT 3",question:"Which Arduino board has built-in Wi-Fi support?",options:["Arduino Uno","Arduino Mega","Arduino Uno WiFi / MKR1000","Arduino Nano"],answerIndex:2},{id:318,chapter:"UNIT 3",question:"Which microcontroller is used in Arduino Mega 2560?",options:["ATMega328P","ATMega32U4","ATMega2560","SAMD21"],answerIndex:2},{id:319,chapter:"UNIT 3",question:"Arduino boards are mainly used in:",options:["Gaming PCs","Robotics, IoT, and automation projects","Web servers","Office applications"],answerIndex:1},{id:320,chapter:"UNIT 3",question:"The Arduino UNO R3 board is based on which microcontroller?",options:["ATMega32","ATMega2560","ATMega328P","PIC16F877A"],answerIndex:2},{id:321,chapter:"UNIT 3",question:"What is the clock frequency of the Arduino UNO R3?",options:["8 MHz","12 MHz","16 MHz","20 MHz"],answerIndex:2},{id:322,chapter:"UNIT 3",question:"How many digital I/O pins are available on the Arduino UNO R3 board?",options:["8","10","14","16"],answerIndex:2},{id:323,chapter:"UNIT 3",question:"How many analog input pins are available on the Arduino UNO R3?",options:["4","6","8","10"],answerIndex:1},{id:324,chapter:"UNIT 3",question:"What is the operating voltage of the Arduino UNO R3?",options:["12V","9V","5V","3.3V"],answerIndex:2},{id:325,chapter:"UNIT 3",question:"Which interface is used to program the Arduino UNO R3?",options:["RS-232","USB Type-B port","Ethernet","Wi-Fi"],answerIndex:1},{id:326,chapter:"UNIT 3",question:"What is the flash memory capacity of Arduino UNO R3?",options:["8 KB","16 KB","32 KB","64 KB"],answerIndex:2},{id:327,chapter:"UNIT 3",question:"What is the function of the ATmega16U2 chip on Arduino UNO R3?",options:["Power regulation","USB-to-serial conversion","Extra analog inputs","PWM generation"],answerIndex:1},{id:328,chapter:"UNIT 3",question:"What is the recommended input voltage range for Arduino UNO R3?",options:["3V5V","7V12V","5V9V","10V15V"],answerIndex:1},{id:329,chapter:"UNIT 3",question:"How many PWM pins are available on Arduino UNO R3?",options:["2","4","6","8"],answerIndex:2},{id:330,chapter:"UNIT 3",question:"Which communication interfaces are supported by Arduino UNO R3?",options:["Only UART","Only SPI","Only I2C","UART, SPI, and I2C"],answerIndex:3},{id:331,chapter:"UNIT 3",question:"What is the EEPROM size of Arduino UNO R3?",options:["512 Bytes","1 KB","2 KB","4 KB"],answerIndex:2},{id:332,chapter:"UNIT 3",question:"Which component acts as the main microcontroller on Arduino UNO R3?",options:["ATmega16U2","ATmega328P","ATmega2560","PIC16F877A"],answerIndex:1},{id:333,chapter:"UNIT 3",question:"Which component provides voltage regulation on Arduino UNO R3?",options:["ATmega328P","Crystal oscillator","5V and 3.3V voltage regulators","ATmega16U2"],answerIndex:2},{id:334,chapter:"UNIT 3",question:"Which component determines the clock frequency of Arduino UNO R3?",options:["Reset button","USB connector","16 MHz crystal oscillator","ATmega16U2"],answerIndex:2},{id:335,chapter:"UNIT 3",question:"Which component is used for manual reset of Arduino UNO R3?",options:["Power LED","TX LED","RESET button","USB port"],answerIndex:2},{id:336,chapter:"UNIT 3",question:"What is the function of the power LED on Arduino UNO R3?",options:["Shows serial activity","Indicates board is powered ON","Indicates PWM output","Shows reset status"],answerIndex:1},{id:337,chapter:"UNIT 3",question:"What do TX and RX LEDs indicate on Arduino UNO R3?",options:["Power supply","Analog read","Serial data transmission and reception","PWM output"],answerIndex:2},{id:338,chapter:"UNIT 3",question:"Which memory stores the uploaded program on Arduino UNO R3?",options:["SRAM","EEPROM","Flash memory","Cache"],answerIndex:2},{id:339,chapter:"UNIT 3",question:"Which memory provides non-volatile storage for user data on Arduino UNO R3?",options:["SRAM","Flash","EEPROM","ROM"],answerIndex:2},{id:340,chapter:"UNIT 3",question:"Which Arduino UNO R3 pins are used as digital input/output pins?",options:["A0A5","D0D13","VCC and GND","RESET and AREF"],answerIndex:1},{id:341,chapter:"UNIT 3",question:"Which digital pins on Arduino UNO R3 are used for serial communication?",options:["D2 and D3","D0 (RX) and D1 (TX)","D10 and D11","A4 and A5"],answerIndex:1},{id:342,chapter:"UNIT 3",question:"Which Arduino UNO R3 pins support PWM functionality?",options:["D0, D1, D2","D3, D5, D6, D9, D10, D11","A0A5","D12 and D13"],answerIndex:1},{id:343,chapter:"UNIT 3",question:"Which analog pins are available on Arduino UNO R3?",options:["A0A3","A0A5","A1A6","A2A7"],answerIndex:1},{id:344,chapter:"UNIT 3",question:"Which pin on Arduino UNO R3 is connected to the onboard LED?",options:["D12","D13","D11","D10"],answerIndex:1},{id:345,chapter:"UNIT 3",question:"Which pin provides a reference voltage for analog inputs?",options:["RESET","VIN","AREF","IOREF"],answerIndex:2},{id:346,chapter:"UNIT 3",question:"Which Arduino UNO R3 pin is used to supply external power input?",options:["5V","3.3V","VIN","AREF"],answerIndex:2},{id:347,chapter:"UNIT 3",question:"Which pins are used for I2C communication on Arduino UNO R3?",options:["D2 and D3","D10 and D11","A4 (SDA) and A5 (SCL)","D0 and D1"],answerIndex:2},{id:348,chapter:"UNIT 3",question:"Which pins are used for SPI communication on Arduino UNO R3?",options:["D0D3","D4D7","D10 (SS), D11 (MOSI), D12 (MISO), D13 (SCK)","A0A3"],answerIndex:2},{id:349,chapter:"UNIT 3",question:"What is the function of the RESET pin on Arduino UNO R3?",options:["Power supply","Analog reference","Resets the microcontroller","Serial communication"],answerIndex:2},{id:350,chapter:"UNIT 3",question:"Which pin supplies regulated 5V output on Arduino UNO R3?",options:["VIN","AREF","5V","IOREF"],answerIndex:2},{id:351,chapter:"UNIT 3",question:"Which pin supplies 3.3V output on Arduino UNO R3?",options:["5V","VIN","3.3V","RESET"],answerIndex:2},{id:352,chapter:"UNIT 3",question:"Which pin indicates the reference voltage level of the board?",options:["VIN","AREF","IOREF","RESET"],answerIndex:2},{id:353,chapter:"UNIT 3",question:"Which pin is commonly used to connect external interrupts on Arduino UNO R3?",options:["D0 and D1","D2 and D3","D4 and D5","A0 and A1"],answerIndex:1},{id:354,chapter:"UNIT 3",question:"Which Arduino UNO R3 pin can be used as both analog input and digital I/O?",options:["D13","RESET","A0","VIN"],answerIndex:2},{id:355,chapter:"UNIT 3",question:"Which pin is connected to the onboard LED through a resistor?",options:["D12","D13","D9","D8"],answerIndex:1},{id:356,chapter:"UNIT 3",question:"Which pins are reserved for USB serial communication?",options:["D0 and D1","A4 and A5","D10 and D11","VIN and GND"],answerIndex:0},{id:357,chapter:"UNIT 3",question:"Which Arduino UNO R3 pin is used to connect external power via barrel jack?",options:["VIN","5V","AREF","IOREF"],answerIndex:0},{id:358,chapter:"UNIT 3",question:"Which pin group provides ground reference on Arduino UNO R3?",options:["VIN","AREF","GND","IOREF"],answerIndex:2},{id:359,chapter:"UNIT 3",question:"Which Arduino UNO R3 pins are multiplexed for multiple functions?",options:["Only analog pins","Only digital pins","Both analog and digital pins","Power pins only"],answerIndex:2},{id:360,chapter:"UNIT 3",question:"Which pin on Arduino UNO R3 is used to reset the microcontroller?",options:["D13","RESET","A0","TX"],answerIndex:1},{id:361,chapter:"UNIT 3",question:"How many digital pins are available on Arduino UNO R3?",options:["12","14","16","20"],answerIndex:1},{id:362,chapter:"UNIT 3",question:"Which digital pins support PWM output on Arduino UNO R3?",options:["D0, D1, D2, D3","D3, D5, D6, D9, D10, D11","D4, D7, D8, D12","D0D7"],answerIndex:1},{id:363,chapter:"UNIT 3",question:"How many analog input pins are available on Arduino UNO R3?",options:["4 (A0A3)","6 (A0A5)","8 (A0A7)","10 (A0A9)"],answerIndex:1},{id:364,chapter:"UNIT 3",question:"Which pin is used for UART serial communication TX?",options:["D0","D1","D2","D13"],answerIndex:1},{id:365,chapter:"UNIT 3",question:"Which pin is used for UART serial communication RX?",options:["D0","D1","D2","D13"],answerIndex:0},{id:366,chapter:"UNIT 3",question:"Which pins are used for I2C communication on Arduino UNO R3?",options:["D2 (SDA), D3 (SCL)","A4 (SDA), A5 (SCL)","D10 (SDA), D11 (SCL)","D8 (SDA), D9 (SCL)"],answerIndex:1},{id:367,chapter:"UNIT 3",question:"Which pins are used for SPI communication on Arduino UNO R3?",options:["D0D3","A0A3","D10 (SS), D11 (MOSI), D12 (MISO), D13 (SCK)","D4D7"],answerIndex:2},{id:368,chapter:"UNIT 3",question:"What is the function of the VIN pin on Arduino UNO R3?",options:["Output regulated 5V","Input voltage from external power supply","Ground reference","USB power input"],answerIndex:1},{id:369,chapter:"UNIT 3",question:"What is the function of the 5V pin on Arduino UNO R3?",options:["Input voltage for the board","PWM output","Provides regulated 5V output","Analog reference"],answerIndex:2},{id:370,chapter:"UNIT 3",question:"What is the function of the 3.3V pin on Arduino UNO R3?",options:["Input voltage","PWM output","Provides regulated 3.3V output","Reset signal"],answerIndex:2},{id:371,chapter:"UNIT 3",question:"What is the function of the GND pins on Arduino UNO R3?",options:["Digital output","Serial communication","Ground reference","Analog input"],answerIndex:2},{id:372,chapter:"UNIT 3",question:"Which pin can be used as an external interrupt INT0?",options:["D2","D3","D4","D5"],answerIndex:0},{id:373,chapter:"UNIT 3",question:"Which pin can be used as an external interrupt INT1?",options:["D2","D3","D4","D5"],answerIndex:1},{id:374,chapter:"UNIT 3",question:"Which pin has a built-in LED connected for testing?",options:["D12","D13","A0","D0"],answerIndex:1},{id:375,chapter:"UNIT 3",question:"What is the function of the RESET pin header?",options:["Serial communication","Manual board reset","Analog input","Power supply"],answerIndex:1},{id:376,chapter:"UNIT 3",question:"Which pins are used for PWM output on Arduino UNO R3?",options:["D0D5","D1, D2, D4","D3, D5, D6, D9, D10, D11","A0A5"],answerIndex:2},{id:377,chapter:"UNIT 3",question:"Which pins are analog inputs on Arduino UNO R3?",options:["A0A5","D0D5","D10D13","A6A11"],answerIndex:0},{id:378,chapter:"UNIT 3",question:"Which pins provide power from the USB supply?",options:["VIN and GND","5V, 3.3V, and GND","A0A5","D0D13"],answerIndex:1},{id:379,chapter:"UNIT 3",question:"Which pin group is used for in-circuit serial programming?",options:["D0D3","RESET pin","ICSP header","D13"],answerIndex:2}],GI=[{id:400,chapter:"UNIT 4",question:"Which pin mode is required to control an LED?",options:["INPUT","OUTPUT","ANALOG","PWM"],answerIndex:1},{id:401,chapter:"UNIT 4",question:"Which function is used to turn ON an LED?",options:["turnOn()","light()","digitalWrite(pin, HIGH)","pinHigh(pin)"],answerIndex:2},{id:402,chapter:"UNIT 4",question:"A relay is mainly used to control:",options:["Only LEDs","Low-power circuits","High-power devices using low-power signals","Serial communication"],answerIndex:2},{id:403,chapter:"UNIT 4",question:"A relay module is normally triggered by:",options:["Analog voltage","Digital output pin","PWM only","Wi-Fi"],answerIndex:1},{id:404,chapter:"UNIT 4",question:"Which pin mode is used to read a switch input?",options:["OUTPUT","INPUT","ANALOG","PWM"],answerIndex:1},{id:405,chapter:"UNIT 4",question:"Which function reads the state of a switch?",options:["readPin()","analogRead()","digitalRead()","switchRead()"],answerIndex:2},{id:406,chapter:"UNIT 4",question:"Why is a current-limiting resistor used with an LED?",options:["To increase brightness","To protect the LED from high current","To generate heat","To reduce voltage for Arduino"],answerIndex:1},{id:407,chapter:"UNIT 4",question:"If an LED connected to pin 9 glows dim, the reason may be:",options:["Pin is in INPUT mode","Poor wiring","Incorrect resistor value","All of the above"],answerIndex:3},{id:408,chapter:"UNIT 4",question:"Why should a relay be driven through a transistor/module instead of directly from Arduino?",options:["Arduino pins supply high current","Relays work at low current","Arduino cannot supply enough current for relay coil","Relay does not need isolation"],answerIndex:2},{id:409,chapter:"UNIT 4",question:"If a relay is OFF and load should remain disconnected, which terminal is used?",options:["NC","COM only","NO","Both NC and NO"],answerIndex:2},{id:410,chapter:"UNIT 4",question:"What is the purpose of a pull-up resistor with a switch?",options:["Reduce voltage","Avoid floating input","Increase current","Delay switching"],answerIndex:1},{id:411,chapter:"UNIT 4",question:"If digitalRead() gives random HIGH/LOW values, the cause is:",options:["Short circuit","Pull-up/pull-down not used","Wrong board selection","Power issue"],answerIndex:1},{id:412,chapter:"UNIT 4",question:"What is the output of blinking LED code with 500 ms delay?",options:["LED stays OFF","LED stays ON","LED blinks every 1 second","LED blinks every 0.5 second"],answerIndex:3},{id:413,chapter:"UNIT 4",question:"If a relay module is active LOW, what happens when digitalWrite(pin, LOW) is used?",options:["Relay OFF","Relay ON","Board resets","Relay damaged"],answerIndex:1},{id:414,chapter:"UNIT 4",question:"Controlling a bulb using a relay depends on:",options:["Always HIGH logic","Always LOW logic","Relay type (active HIGH/LOW)","Bulb rating"],answerIndex:2},{id:415,chapter:"UNIT 4",question:"What does this code do? If switch HIGH  LED HIGH",options:["LED turns ON when switch pressed","LED blinks","LED turns OFF when pressed","LED random"],answerIndex:0},{id:416,chapter:"UNIT 4",question:"What happens when INPUT_PULLUP is used?",options:["Pin floats","Pin reads HIGH when switch not pressed","Pin reads LOW when not pressed","Pin becomes OUTPUT"],answerIndex:1},{id:417,chapter:"UNIT 4",question:"With INPUT_PULLUP, relay turns ON when:",options:["Switch pressed","Switch not pressed","Relay blinks","Relay OFF always"],answerIndex:0},{id:418,chapter:"UNIT 4",question:"To toggle a relay on each button press, what is required?",options:["delay()","digitalWrite() only","State-change (debounce) logic","INPUT pin mode"],answerIndex:2},{id:419,chapter:"UNIT 4",question:"If a switch is connected without ground reference, Arduino reads:",options:["Correct values","Constant HIGH","Random values","Program crashes"],answerIndex:2},{id:420,chapter:"UNIT 4",question:"How many segments are present in a standard seven-segment display excluding the decimal point?",options:["5","6","7","8"],answerIndex:2},{id:421,chapter:"UNIT 4",question:"In a common-cathode seven-segment display, which segment lights up when driven HIGH?",options:["Common terminal","None","The specific segment","All segments"],answerIndex:2},{id:422,chapter:"UNIT 4",question:"Which Arduino function is used to set a pin as output?",options:["setPin()","pinMode()","mode()","analogMode()"],answerIndex:1},{id:423,chapter:"UNIT 4",question:"Which library is required to interface a 162 LCD with Arduino?",options:["LCD.h","Serial.h","LiquidCrystal.h","Lcd1602.h"],answerIndex:2},{id:424,chapter:"UNIT 4",question:"How many characters are available in one row of a 162 LCD?",options:["8","10","12","16"],answerIndex:3},{id:425,chapter:"UNIT 4",question:"Which Arduino function sends data or characters to an LCD?",options:["lcd.write()","lcd.send()","lcd.print()","lcd.char()"],answerIndex:2},{id:426,chapter:"UNIT 4",question:"Why are current-limiting resistors used for seven-segment LEDs?",options:["Increase brightness","Prevent excessive current damage","Power Arduino","Reduce relay voltage"],answerIndex:1},{id:427,chapter:"UNIT 4",question:"In a common-anode seven-segment display, segments glow when:",options:["Segment pins are LOW","Segment pins are HIGH","All pins are disconnected","Arduino resets"],answerIndex:0},{id:428,chapter:"UNIT 4",question:"What does lcd.begin(16, 2) do?",options:["Clears LCD","Sets cursor home","Initializes LCD with 16 columns and 2 rows","Positions LCD on breadboard"],answerIndex:2},{id:429,chapter:"UNIT 4",question:"Why must RS, E, D4D7 pins be specified while creating LCD object?",options:["Identify LCD brand","Tell Arduino which pins control LCD","Set brightness","Reset LCD"],answerIndex:1},{id:430,chapter:"UNIT 4",question:"If characters appear garbled on LCD, the main cause is:",options:["Wrong contrast (V0) setting","Wrong font","Wrong power supply","Too many delays"],answerIndex:0},{id:431,chapter:"UNIT 4",question:"Which digit is displayed when segments af are HIGH and g is LOW?",options:["8","0","1","6"],answerIndex:1},{id:432,chapter:"UNIT 4",question:"If a common-cathode display shows all segments OFF, the likely cause is:",options:["Cathode not connected to GND","Wrong resistor","Analog pin usage","Excess brightness"],answerIndex:0},{id:433,chapter:"UNIT 4",question:"If only segments b and c are ON, which digit is displayed?",options:["1","7","0","Nothing"],answerIndex:0},{id:434,chapter:"UNIT 4",question:'What will the LCD show if "Hello" is printed on row 1 and "Arduino" on row 2?',options:["Only Hello","Only Arduino","Hello on line 1 and Arduino on line 2","Garbage characters"],answerIndex:2},{id:435,chapter:"UNIT 4",question:'What happens after executing lcd.clear(); lcd.print("LCD Test"); delay(2000); lcd.clear();?',options:["Prints continuously","Prints for 2 seconds then clears","LCD stays blank","Random characters"],answerIndex:1},{id:436,chapter:"UNIT 4",question:"Which LiquidCrystal object creation is correct for RS7, E6, D4D75,4,3,2?",options:["LiquidCrystal lcd(7,6,5,4,3,2);","LiquidCrystal lcd(6,7,2,3,4,5);","LiquidCrystal lcd(5,4,3,2,7,6);","LiquidCrystal lcd(7,6);"],answerIndex:0},{id:437,chapter:"UNIT 4",question:'What will lcd.print("1234567890123456") show on a 162 LCD?',options:["Overflow","Line 1 full with numbers","Nothing","Random output"],answerIndex:1},{id:438,chapter:"UNIT 4",question:"To display the same number on seven-segment and LCD, what is required?",options:["analogRead()","Use same variable for both","Only lcd.print()","Remove resistors"],answerIndex:1},{id:439,chapter:"UNIT 4",question:"If seven-segment works but LCD shows no output, the most likely issue is:",options:["Incorrect LCD contrast (V0)","Wrong board","Wrong delay","Too many segments powered"],answerIndex:0}],KI=[{id:500,chapter:"UNIT 5",question:"Which of the following best defines the Internet of Things (IoT)?",options:["A network of computers connected to the internet","A system where physical devices are connected to the internet to collect and exchange data","A virtual computer network","A software development method"],answerIndex:1},{id:501,chapter:"UNIT 5",question:"Which of the following is a feature of IoT?",options:["Manual data entry","Interconnectivity","No need for sensors","High power consumption"],answerIndex:1},{id:502,chapter:"UNIT 5",question:"Which layer of IoT architecture is responsible for sensing the environment?",options:["Application layer","Network layer","Perception layer","Middleware layer"],answerIndex:2},{id:503,chapter:"UNIT 5",question:"Which device is commonly used as an embedded system in IoT?",options:["CPU tower","Arduino board","Printer","Keyboard"],answerIndex:1},{id:504,chapter:"UNIT 5",question:"Which of the following is an application of IoT?",options:["Word processing","Smart homes","Gaming","File compression"],answerIndex:1},{id:505,chapter:"UNIT 5",question:"Why are sensors important in IoT devices?",options:["They provide device storage","They enable devices to collect data from the environment","They increase device speed","They allow wireless charging"],answerIndex:1},{id:506,chapter:"UNIT 5",question:"Which of the following describes a disadvantage of IoT?",options:["Increased automation","Real-time monitoring","Privacy and security concerns","Improved energy efficiency"],answerIndex:2},{id:507,chapter:"UNIT 5",question:"In IoT architecture, what is the main function of the network layer?",options:["Data sensing","Data storage","Data transmission between devices and servers","Displaying data to the user"],answerIndex:2},{id:508,chapter:"UNIT 5",question:"Why are embedded systems suitable for IoT?",options:["They consume high power","They are large and require cooling","They are small, efficient, and task-specific","They require complex operating systems"],answerIndex:2},{id:509,chapter:"UNIT 5",question:'What makes IoT devices "smart"?',options:["Ability to install any software","Ability to operate without electrical power","Ability to sense, compute, and communicate data","Ability to be physically large"],answerIndex:2},{id:510,chapter:"UNIT 5",question:"A company wants to track the temperature of food items during transport to ensure safety. Which IoT component should they primarily use?",options:["Smart displays","Temperature sensors connected to cloud storage","Social media apps","Barcode scanners"],answerIndex:1},{id:511,chapter:"UNIT 5",question:"A homeowner wants to automatically turn off lights when no one is in the room. Which IoT technology is most suitable?",options:["Sound system","Motion sensor + automation system","Smart TV","Keyboard input"],answerIndex:1},{id:512,chapter:"UNIT 5",question:"A city wants to reduce traffic congestion by monitoring vehicle movement and adjusting traffic signals. This is an example of:",options:["Smart agriculture","Smart grid","Smart transportation","Smart home application"],answerIndex:2},{id:513,chapter:"UNIT 5",question:"A manufacturing plant wants machines to send alerts before they fail. Which IoT feature is used here?",options:["Batch processing","Remote configuration","Predictive maintenance","Manual control"],answerIndex:2},{id:514,chapter:"UNIT 5",question:"A farmer uses soil moisture sensors to automatically operate irrigation pumps. This represents which IoT advantage?",options:["Increased energy consumption","Automation and improved efficiency","No need for internet","Higher manual workload"],answerIndex:1},{id:515,chapter:"UNIT 5",question:"Which IoT board is a full single-board computer capable of running an operating system?",options:["Arduino","ESP8266","Raspberry Pi","HC-05"],answerIndex:2},{id:516,chapter:"UNIT 5",question:"Which of the following is a Bluetooth communication module?",options:["ESP8266","Sense HAT","Arduino UNO","HC-05"],answerIndex:3},{id:517,chapter:"UNIT 5",question:"ESP8266 is mainly used for:",options:["Sound recording","Wi-Fi connectivity","Bluetooth connectivity","Camera interface"],answerIndex:1},{id:518,chapter:"UNIT 5",question:"What does the Sense HAT contain in addition to sensors?",options:["7-segment display","88 RGB LED matrix","Touchscreen","Keypad"],answerIndex:1},{id:519,chapter:"UNIT 5",question:"Which IoT board typically uses the ATmega328 microcontroller?",options:["Raspberry Pi","Arduino UNO","ESP8266","HC-05"],answerIndex:1},{id:520,chapter:"UNIT 5",question:"Why is Arduino widely used in IoT prototyping?",options:["It requires a high-end processor","It is simple to program and has many I/O pins","It supports full desktop applications","It has built-in Wi-Fi always"],answerIndex:1},{id:521,chapter:"UNIT 5",question:"What makes Raspberry Pi suitable for advanced IoT projects?",options:["No operating system support","Ability to run Linux OS and perform multitasking","Requires no power supply","Only works with sensors"],answerIndex:1},{id:522,chapter:"UNIT 5",question:"Which statement best describes the ESP8266 module?",options:["A microcontroller without networking features","A Wi-Fi module with built-in microcontroller capabilities","A camera processing unit","A Bluetooth-only module"],answerIndex:1},{id:523,chapter:"UNIT 5",question:"How does the HC-05 module typically communicate with microcontrollers?",options:["HDMI","USB","UART (TX/RX)","SPI"],answerIndex:2},{id:524,chapter:"UNIT 5",question:"Sense HAT is mostly used in educational and space projects because:",options:["It has a built-in Wi-Fi module","It provides environmental sensors and a programmable LED matrix","It is cheaper than Arduino","It contains a built-in camera"],answerIndex:1},{id:525,chapter:"UNIT 5",question:"A student wants to build a home automation system with Wi-Fi control using a low cost board. Which device is most suitable?",options:["HC-05","Arduino UNO","ESP8266","Sense HAT"],answerIndex:2},{id:526,chapter:"UNIT 5",question:"A developer wants to monitor room temperature and display the readings visually using colorful lights. Which combination is best?",options:["Arduino + HC-05","Raspberry Pi + Sense HAT","ESP8266 only","Arduino only"],answerIndex:1},{id:527,chapter:"UNIT 5",question:"A robotics project requires Bluetooth control from a smartphone. Which setup is ideal?",options:["Arduino + HC-05","Raspberry Pi + Sense HAT","ESP8266 only","Raspberry Pi only"],answerIndex:0},{id:528,chapter:"UNIT 5",question:"A user wants to stream live video and perform face detection using Python. Which IoT board should they use?",options:["Arduino UNO","ESP8266","Raspberry Pi","HC-05"],answerIndex:2},{id:529,chapter:"UNIT 5",question:"A project needs simple sensor reading and controlling LEDs without requiring an operating system. Which board is best?",options:["Raspberry Pi","Arduino UNO","Sense HAT","HC-05"],answerIndex:1},{id:530,chapter:"UNIT 5",question:"Which IoT platform is developed by MathWorks?",options:["ThingWorx","Blynk","ThingSpeak","Firebase"],answerIndex:2},{id:531,chapter:"UNIT 5",question:"Which IoT platform is known for mobile appbased device control?",options:["ThingWorx","Blynk","ThingSpeak","AWS IoT"],answerIndex:1},{id:532,chapter:"UNIT 5",question:"ThingWorx is primarily used for:",options:["Industrial IoT applications","Chat messaging","Mobile gaming","File compression"],answerIndex:0},{id:533,chapter:"UNIT 5",question:"NodeMCU is built using which Wi-Fi module?",options:["HC-05","ESP32","ESP8266","SIM800"],answerIndex:2},{id:534,chapter:"UNIT 5",question:"A relay module is used to control:",options:["Sensors","High-voltage devices like lights and fans","Wi-Fi signals","Battery voltage"],answerIndex:1},{id:535,chapter:"UNIT 5",question:"Why is ThingSpeak popular in student IoT projects?",options:["It requires no internet","It supports data visualization with charts easily","It only works with Bluetooth","It only supports hardware devices"],answerIndex:1},{id:536,chapter:"UNIT 5",question:"Blynk helps users control devices mainly through:",options:["Desktop applications","Mobile apps (iOS/Android)","Printed circuit boards","Cloud-only dashboards"],answerIndex:1},{id:537,chapter:"UNIT 5",question:"Why is NodeMCU suitable for home automation projects?",options:["It has no digital pins","It uses Wi-Fi to control devices remotely","It works only offline","It cannot connect to IoT platforms"],answerIndex:1},{id:538,chapter:"UNIT 5",question:"In a NodeMCU + Relay system, why is a relay needed?",options:["It reduces internet delay","It isolates low-voltage control signals from high-voltage appliances","It provides built-in Wi-Fi","It increases sensor accuracy"],answerIndex:1},{id:539,chapter:"UNIT 5",question:"ThingWorx is preferred in industries because:",options:["It only works with mobile apps","It provides tools for analytics, dashboards, and industrial device management","It does not support cloud storage","It is the simplest platform"],answerIndex:1},{id:540,chapter:"UNIT 5",question:"A student wants to send temperature sensor data to the cloud and visualize it with graphs in real time. Which platform should be chosen?",options:["Blynk","ThingSpeak","Photoshop","HC-05"],answerIndex:1},{id:541,chapter:"UNIT 5",question:"A user wants to create a mobile app interface to turn ON/OFF a home light via NodeMCU. Which platform is best suited?",options:["ThingSpeak","ThingWorx","Blynk","MATLAB"],answerIndex:2},{id:542,chapter:"UNIT 5",question:"An industry wants predictive maintenance and dashboard monitoring for machinery. Which IoT platform should be used?",options:["ThingWorx","Blynk","ThingSpeak","NodeMCU"],answerIndex:0},{id:543,chapter:"UNIT 5",question:"A developer wants to control a home light using a phone app and NodeMCU. Which hardware connection is correct?",options:["NodeMCU digital pin  Light bulb directly","NodeMCU digital pin  Relay module input  Light on AC supply","NodeMCU Wi-Fi antenna  AC bulb","Relay module output  USB port"],answerIndex:1},{id:544,chapter:"UNIT 5",question:"A user created a dashboard on ThingSpeak but wants to remotely control a device, not just visualize data. What must they do?",options:["Use ThingWorx instead","Use Blynk for device control","Delete the ThingSpeak channel","Disable the Wi-Fi"],answerIndex:1}],XI=[{id:1001,chapter:"Question Solving",question:"Which of the following best defines a microcontroller?",options:["A central processing unit that requires external memory and I/O to function.","A single chip containing a CPU, memory, and I/O peripherals.","A device used solely for amplifying analog signals.","A type of permanent storage memory."],answerIndex:1},{id:1002,chapter:"Question Solving",question:"In a microcomputer block diagram, which bus is responsible for selecting a specific memory location?",options:["Data Bus","Control Bus","Address Bus","Power Bus"],answerIndex:2},{id:1003,chapter:"Question Solving",question:"Which of the following is a key element of a microcomputer system?",options:["CPU (Central Processing Unit)","Combustion Engine","Hydraulic Pump","Gearbox"],answerIndex:0},{id:1004,chapter:"Question Solving",question:"The data bus in a standard 8-bit microcontroller is typically:",options:["Unidirectional","Bidirectional","Tridirectional","Non-existent"],answerIndex:1},{id:1005,chapter:"Question Solving",question:"Which bus carries the read/write signals in a microcomputer?",options:["Address Bus","Data Bus","Control Bus","System Bus"],answerIndex:2},{id:1006,chapter:"Question Solving",question:"What is the primary difference between a microprocessor and a microcontroller regarding memory?",options:["Microprocessors have large on-chip memory.","Microcontrollers have on-chip RAM and ROM.","Microcontrollers cannot access memory.","Microprocessors do not use memory."],answerIndex:1},{id:1007,chapter:"Question Solving",question:"Which device is generally optimized for general-purpose computing tasks (like a desktop PC)?",options:["Microcontroller","Microprocessor","Sensor","Actuator"],answerIndex:1},{id:1008,chapter:"Question Solving",question:"Which system is typically more cost-effective for a dedicated application like a washing machine?",options:["Microprocessor-based system","Microcontroller-based system","Mainframe","Supercomputer"],answerIndex:1},{id:1009,chapter:"Question Solving",question:"The 8051 is an ___ bit microcontroller.",options:["4","8","16","32"],answerIndex:1},{id:1010,chapter:"Question Solving",question:"What is the size of the on-chip RAM in the standard 8051?",options:["64 Bytes","128 Bytes","256 Bytes","512 Bytes"],answerIndex:1},{id:1011,chapter:"Question Solving",question:"How much on-chip ROM (Program Memory) does the standard 89C51 have?",options:["1 KB","2 KB","4 KB","8 KB"],answerIndex:2},{id:1012,chapter:"Question Solving",question:"How many I/O ports does the standard 89C51 have?",options:["2","3","4","5"],answerIndex:2},{id:1013,chapter:"Question Solving",question:"The 89C51 has how many 16-bit timers?",options:["1","2","3","4"],answerIndex:1},{id:1014,chapter:"Question Solving",question:"The 'C' in 89C51 stands for:",options:["Complex","CMOS","Control","Code"],answerIndex:1},{id:1015,chapter:"Question Solving",question:"The 89C1051 is a ___-pin package microcontroller.",options:["40","20","28","32"],answerIndex:1},{id:1016,chapter:"Question Solving",question:"How much Flash memory does the 89C1051 contain?",options:["1 KB","2 KB","4 KB","8 KB"],answerIndex:0},{id:1017,chapter:"Question Solving",question:"The 89C2051 has ___ KB of Flash memory.",options:["1","2","4","8"],answerIndex:1},{id:1018,chapter:"Question Solving",question:"Which of the following features is NOT present in the 89C2051 compared to the 89C51?",options:["Internal RAM","Timers","Port 0 and Port 2","CPU"],answerIndex:2},{id:1019,chapter:"Question Solving",question:"The 89C4051 has ___ pins and ___ KB of Flash memory.",options:["40 pins; 4 KB","20 pins; 2 KB","20 pins; 4 KB","40 pins; 8 KB"],answerIndex:2},{id:1020,chapter:"Question Solving",question:"The 8051 address bus is ___ bits wide.",options:["8","12","16","32"],answerIndex:2},{id:1021,chapter:"Question Solving",question:"What is the maximum external memory the 8051 can address?",options:["32 KB","64 KB","1 MB","4 GB"],answerIndex:1},{id:1022,chapter:"Question Solving",question:"Which register holds the current instruction to be executed?",options:["Accumulator","Program Counter (PC)","Instruction Register","DPTR"],answerIndex:2},{id:1023,chapter:"Question Solving",question:"Which 8051 port requires external pull-up resistors to function as an output?",options:["Port 0","Port 1","Port 2","Port 3"],answerIndex:0},{id:1024,chapter:"Question Solving",question:"Which pin must be High to Reset the 8051?",options:["RST","EA","ALE","PSEN"],answerIndex:0},{id:1025,chapter:"Question Solving",question:"Which of the following is an example of an input device in a microcomputer system?",options:["LED","Switch","Motor","Relay"],answerIndex:1},{id:1026,chapter:"Question Solving",question:"Which bus allows the CPU to identify which I/O device it wants to communicate with?",options:["Address Bus","Data Bus","Control Bus","Power Bus"],answerIndex:0},{id:1027,chapter:"Question Solving",question:"The specification '4 KB ROM' for an 89C51 refers to:",options:["Data Memory","Program Memory","Cache Memory","Virtual Memory"],answerIndex:1},{id:1028,chapter:"Question Solving",question:"Which of the following versions is most suitable for a battery-operated toy requiring very little space and simple logic?",options:["89C51","89C1051","Pentium Processor","Supercomputer"],answerIndex:1},{id:1029,chapter:"Question Solving",question:"The 89C2051 is chemically compatible with which logic voltage family?",options:["HVAC","TTL / CMOS (5V)","110V AC","12V DC only"],answerIndex:1},{id:1030,chapter:"Question Solving",question:"Which component in a microcomputer block diagram connects the CPU to the outside world?",options:["ALU","I/O Ports","Registers","Cache"],answerIndex:1},{id:1031,chapter:"Question Solving",question:"A bus in a computer system is best described as:",options:["A vehicle for transportation.","A group of wires that transfer data/signals between components.","A specific type of memory.","A power supply unit."],answerIndex:1},{id:1032,chapter:"Question Solving",question:"Which 8051 specification dictates how many distinct instructions it can support?",options:["RAM size","Instruction Set Architecture (ISA)","Power consumption","Package type"],answerIndex:1},{id:1033,chapter:"Question Solving",question:"Why is the 8051 family referred to as '8-bit'?",options:["It has 8 pins.","Its ALU and Data Bus are 8 bits wide.","It runs at 8 MHz.","It costs 8 dollars."],answerIndex:1},{id:1034,chapter:"Question Solving",question:"In the 89C51, the EA pin stands for:",options:["External Access","Enable Address","Energy Activate","Error Accumulator"],answerIndex:0},{id:1035,chapter:"Question Solving",question:"Which of the following is a specification of the 89C4051?",options:["40 Pins","4 KB Flash Memory","No Timers","No I/O"],answerIndex:1},{id:1036,chapter:"Question Solving",question:"Microcontrollers are often used in real-time applications. What does this mean?",options:["They tell the time of day.","They respond to inputs within a guaranteed time constraint.","They run very slowly.","They only work when the user is watching."],answerIndex:1},{id:1037,chapter:"Question Solving",question:"The program memory in the 89Cxxx series is Flash type. What is the main advantage of Flash?",options:["It is faster than RAM.","It is electrically erasable and reprogrammable.","It deletes itself when power is lost.","It cannot be changed."],answerIndex:1},{id:1038,chapter:"Question Solving",question:"Which element of a microcomputer provides temporary storage for data being processed?",options:["ROM","RAM","Hard Disk","EEPROM"],answerIndex:1},{id:1039,chapter:"Question Solving",question:"The 89C2051 is often used instead of the 89C51 when:",options:["More I/O pins are needed.","PCB space is limited and fewer I/O pins are required.","Higher processing speed is required.","More memory is required."],answerIndex:1},{id:1040,chapter:"Question Solving",question:"Which bus is bidirectional?",options:["Address Bus","Data Bus","Power Line","Clock Signal"],answerIndex:1},{id:1041,chapter:"Question Solving",question:"What is the function of the Crystal Oscillator in the block diagram?",options:["To provide power.","To provide the clock signal for timing.","To store data.","To reset the device."],answerIndex:1},{id:1042,chapter:"Question Solving",question:"Which of the following is NOT a member of the 89C series?",options:["89C51","89C1051","89C2051","Core i7"],answerIndex:3},{id:1043,chapter:"Question Solving",question:"The number '51' in 89C51 indicates it is compatible with which architecture?",options:["MCS-51 (Intel 8051)","x86","ARM","AVR"],answerIndex:0},{id:1044,chapter:"Question Solving",question:"In a block diagram, arrows on the Address Bus typically point:",options:["From Memory to CPU","From CPU to Memory/Peripherals","Both ways","Nowhere"],answerIndex:1},{id:1045,chapter:"Question Solving",question:"The 89C1051 has 1KB memory. What does KB stand for?",options:["Kilo Bits","Kilo Bytes","Kernel Base","Key Board"],answerIndex:1},{id:1046,chapter:"Question Solving",question:"A microcontroller is best described as a system on a:",options:["Board","Chip","Disk","Cloud"],answerIndex:1},{id:1047,chapter:"Question Solving",question:"Which of these is a disadvantage of a microcontroller compared to a microprocessor?",options:["Higher cost.","Lower computing power/speed.","Larger size.","Higher power consumption."],answerIndex:1},{id:1048,chapter:"Question Solving",question:"The 89C51 generally uses which type of package?",options:["DIP (Dual Inline Package)","BGA (Ball Grid Array)","LGA","Socket 775"],answerIndex:0},{id:1049,chapter:"Question Solving",question:"Which version is the 'full featured' standard among the list?",options:["89C51","89C1051","89C2051","89C4051"],answerIndex:0},{id:1050,chapter:"Question Solving",question:"The primary role of the Control Bus is to:",options:["Store data.","Synchronize and control operations.","Supply 5V.","Calculate math."],answerIndex:1},{id:1051,chapter:"Question Solving",question:"In a microcomputer, the CPU is primarily responsible for:",options:["Storing data","Displaying output","Performing arithmetic and logical operations","Power supply regulation"],answerIndex:2},{id:1052,chapter:"Question Solving",question:"Booting a microcomputer means:",options:["Restarting the system","Deleting files","Starting up and loading the operating system","Installing new software"],answerIndex:2},{id:1053,chapter:"Question Solving",question:"ARM Cortex-M microcontrollers are best known for which feature?",options:["High-power consumption","Complex Instruction Set Computing (CISC)","Low-power, high-efficiency performance","64-bit architecture only"],answerIndex:2},{id:1054,chapter:"Question Solving",question:"What is the main characteristic of an embedded system?",options:["General-purpose computing","High power consumption","Performs a dedicated function","Requires a large operating system"],answerIndex:2},{id:1055,chapter:"Question Solving",question:"What does real-time in real-time embedded systems mean?",options:["High data rate","Multi-user support","Response within a strict time deadline","Long-term processing"],answerIndex:2},{id:1056,chapter:"Question Solving",question:"Which term is commonly associated with embedded systems?",options:["BIOS","Firmware","GPU acceleration","Compiler optimization"],answerIndex:1},{id:1057,chapter:"Question Solving",question:"What is the function of I/O interfaces in embedded hardware?",options:["Increase processing speed","Store large data","Enable communication with external devices","Generate power"],answerIndex:2},{id:1058,chapter:"Question Solving",question:"Arduino boards are based on which type of microcontroller?",options:["Intel 8085","ATMega series (AVR)","ARM Cortex-A series","PIC16F877A"],answerIndex:1},{id:1059,chapter:"Question Solving",question:"Arduino is termed as an open-source platform because:",options:["It is free for educational use only","Its hardware design and software code are freely available","It does not require a microcontroller","It works only with paid libraries"],answerIndex:1},{id:1060,chapter:"Question Solving",question:"Which interface is used to program the Arduino UNO R3?",options:["RS-232","USB Type-B port","Ethernet","Wi-Fi"],answerIndex:1},{id:1061,chapter:"Question Solving",question:"The ICSP header is used for:",options:["Uploading sketches via USB","Programming the ATmega328P directly","Connecting sensors","Power supply input"],answerIndex:1},{id:1062,chapter:"Question Solving",question:"Which Arduino function combination is best to read analog value from A1?",options:["digitalRead(A1)","analogRead(A1) followed by scaling","pinMode(A1, INPUT_PULLUP)","analogWrite(A1)"],answerIndex:1},{id:1063,chapter:"Question Solving",question:"Which is the best declaration to protect a constant threshold value?",options:["int threshold = 500;","static int threshold = 500;","const int threshold = 500;","float threshold = 500.0;"],answerIndex:2},{id:1064,chapter:"Question Solving",question:"Which mode keeps a pushbutton HIGH unless pressed?",options:["pinMode(pin, INPUT);","pinMode(pin, INPUT_PULLUP);","pinMode(pin, OUTPUT);","pinMode(pin, ANALOG);"],answerIndex:1},{id:1065,chapter:"Question Solving",question:"A function that turns ON an LED and returns nothing should be:",options:["int turnOnLED()","float turnOnLED()","void turnOnLED()","bool turnOnLED()"],answerIndex:2},{id:1066,chapter:"Question Solving",question:"Which Arduino function configures a pin as input or output?",options:["digitalWrite()","pinMode()","digitalRead()","analogWrite()"],answerIndex:1},{id:1067,chapter:"Question Solving",question:"The value returned by digitalRead() is:",options:["Any integer","0 or 1023","HIGH or LOW","True only"],answerIndex:2},{id:1068,chapter:"Question Solving",question:"A push button connected to Arduino is classified as:",options:["Output Device","Memory Device","Input Device","Communication Device"],answerIndex:2},{id:1069,chapter:"Question Solving",question:"Why is a current-limiting resistor required for an LED?",options:["Increase brightness","Reduce voltage","Prevent excess current damage","Make LED blink"],answerIndex:2},{id:1070,chapter:"Question Solving",question:"When using INPUT_PULLUP, what is the logic?",options:["Pressed  HIGH","Pressed  LOW","Always HIGH","Always LOW"],answerIndex:1},{id:1071,chapter:"Question Solving",question:"Why is a relay module used for high-voltage AC loads?",options:["Reduce AC voltage","Increase Arduino current","Provide electrical isolation","Convert DC to AC"],answerIndex:2},{id:1072,chapter:"Question Solving",question:"How do you blink an LED every second?",options:["digitalRead() in setup()","digitalWrite() with delay(1000)","analogRead()","pinMode(INPUT)"],answerIndex:1},{id:1073,chapter:"Question Solving",question:"Can an Arduino pin supply 300mA directly to a DC motor?",options:["Yes","No, use transistor or motor driver","Yes, with PWM","No, use resistor"],answerIndex:1},{id:1074,chapter:"Question Solving",question:"Correct sequence to display temperature on 16x2 LCD:",options:["pinMode  digitalRead","LiquidCrystal.begin  lcd.print","analogWrite  lcd.print","delay  digitalWrite"],answerIndex:1},{id:1075,chapter:"Question Solving",question:"What happens in the Stepper motor program?",options:["Motor rotates 100 steps forward, pauses 1s","Motor rotates continuously","Motor does not move","Motor rotates backward"],answerIndex:0},{id:1076,chapter:"Question Solving",question:"What happens to LED on pin 13?",options:["LED blinks","LED stays ON","LED stays OFF","LED toggles"],answerIndex:1},{id:1077,chapter:"Question Solving",question:"What happens to the relay?",options:["Always OFF","ON 2s, OFF 2s","Always ON","Trips immediately"],answerIndex:1},{id:1078,chapter:"Question Solving",question:"Which is an example of an IoT device?",options:["Smart thermostat","Traditional light switch","Desktop computer without network","Printed book"],answerIndex:0},{id:1079,chapter:"Question Solving",question:"Which is a key feature of IoT?",options:["Manual operation","Interconnection and communication","Standalone only","No sensors"],answerIndex:1},{id:1080,chapter:"Question Solving",question:"Which IoT layer processes and analyzes data?",options:["Perception Layer","Network Layer","Application Layer","Edge/Processing Layer"],answerIndex:3},{id:1081,chapter:"Question Solving",question:"Role of Network Layer in IoT:",options:["Collect sensor data","Provide connectivity and data transfer","Run analytics","Display data"],answerIndex:1},{id:1082,chapter:"Question Solving",question:"Why are actuators essential in IoT?",options:["Sense environment","Take action","Store data","Provide internet"],answerIndex:1},{id:1083,chapter:"Question Solving",question:"If NodeMCU loses WiFi, relay behavior is:",options:["Remains last state","Turns OFF","Blinks","Resets"],answerIndex:0},{id:1084,chapter:"Question Solving",question:"What happens if AC bulb is switched directly via NodeMCU GPIO?",options:["NodeMCU burns","Bulb works","NodeMCU blinks","Nothing happens"],answerIndex:0},{id:1085,chapter:"Question Solving",question:"Smart agriculture system detects dry soil. What happens next?",options:["Cloud opens irrigation valve automatically","Cloud stores data only","Farmer checks manually","Sensor shuts down"],answerIndex:0},{id:1086,chapter:"Question Solving",question:"Which bus in a microcomputer is bidirectional?",options:["Address Bus","Data Bus","Control Bus","Power Bus"],answerIndex:1},{id:1087,chapter:"Question Solving",question:"The 89C51 microcontroller has ______ of internal RAM.",options:["64 Bytes","128 Bytes","256 Bytes","512 Bytes"],answerIndex:1},{id:1088,chapter:"Question Solving",question:"Which version of the 8051 family comes in a 20-pin package and has 2KB of Flash memory?",options:["89C51","89C1051","89C2051","89C52"],answerIndex:2},{id:1089,chapter:"Question Solving",question:"A key difference between a Microprocessor and a Microcontroller is:",options:["Microprocessors have built-in RAM/ROM.","Microcontrollers have built-in RAM/ROM and I/O.","Microcontrollers act as the brain of a desktop computer.","Microprocessors are used for specific embedded tasks."],answerIndex:1},{id:1090,chapter:"Question Solving",question:"How much On-chip Flash Memory does the standard 89C51 have?",options:["1 KB","2 KB","4 KB","8 KB"],answerIndex:2},{id:1091,chapter:"Question Solving",question:"Which of the following is an example of an Embedded System?",options:["A Washing Machine","A Laptop","A Web Server","A Desktop PC"],answerIndex:0},{id:1092,chapter:"Question Solving",question:"The ATMega328 microcontroller is most famously used in which development board?",options:["NodeMCU","Raspberry Pi","Arduino UNO","BeagleBone"],answerIndex:2},{id:1093,chapter:"Question Solving",question:"Advanced microcontrollers like ARM are typically based on which architecture?",options:["CISC","RISC","Analog Logic","4-bit Logic"],answerIndex:1},{id:1094,chapter:"Question Solving",question:"Which microcontroller is generally used for high-end mobile applications?",options:["8051","PIC16","ARM","AVR"],answerIndex:2},{id:1095,chapter:"Question Solving",question:"How many pins does the standard DIP package of ATMega328 have?",options:["20","28","40","64"],answerIndex:1},{id:1096,chapter:"Question Solving",question:"Which is a disadvantage of an embedded system?",options:["High cost","Large size","Difficult to upgrade for different tasks","High power consumption"],answerIndex:2},{id:1097,chapter:"Question Solving",question:"The Arduino UNO R3 operates at what logic voltage?",options:["3.3V","5V","9V","12V"],answerIndex:1},{id:1098,chapter:"Question Solving",question:"Which function runs continuously in Arduino?",options:["setup()","main()","loop()","start()"],answerIndex:2},{id:1099,chapter:"Question Solving",question:"Correct syntax to configure pin 13 as output?",options:["pinMode(13, OUTPUT);","PinMode(13, output);","setPin(13, OUT);","configPin(13, 1);"],answerIndex:0},{id:1100,chapter:"Question Solving",question:"Which component enables Arduino UNO to communicate via USB?",options:["Power Jack","Voltage Regulator","USB-to-Serial converter","Reset Button"],answerIndex:2},{id:1101,chapter:"Question Solving",question:"Which function writes HIGH to a digital pin?",options:["digitalRead()","digitalWrite()","analogWrite()","Serial.print()"],answerIndex:1},{id:1102,chapter:"Question Solving",question:"Blinking Inbuilt LED refers to:",options:["Drawing LED diagram","Writing program to toggle onboard LED","Installing driver","Measuring voltage"],answerIndex:1},{id:1103,chapter:"Question Solving",question:"Which data type stores a single character?",options:["int","float","char","long"],answerIndex:2},{id:1104,chapter:"Question Solving",question:"How many Analog Input pins does Arduino UNO have?",options:["4","6","14","20"],answerIndex:1},{id:1105,chapter:"Question Solving",question:"// symbol is used for:",options:["Division","Single-line comments","Multiplication","Declaring function"],answerIndex:1},{id:1106,chapter:"Question Solving",question:"Which pins support PWM on Arduino UNO?",options:["A0A2","0,1","3,5,6,9,10,11","13"],answerIndex:2},{id:1107,chapter:"Question Solving",question:"Serial.begin(9600) is placed inside:",options:["loop()","setup()","Outside all functions","end()"],answerIndex:1},{id:1108,chapter:"Question Solving",question:"Why is a resistor used with an LED?",options:["Increase brightness","Limit current","Change color","Make it blink"],answerIndex:1},{id:1109,chapter:"Question Solving",question:"To control AC bulb with Arduino, use:",options:["Relay Module","Capacitor","Resistor","Potentiometer"],answerIndex:0},{id:1110,chapter:"Question Solving",question:"7-segment display uses how many pins (excluding DP)?",options:["5","7","10","16"],answerIndex:1},{id:1111,chapter:"Question Solving",question:"Which library is used for 16x2 LCD?",options:["Servo.h","LiquidCrystal.h","Stepper.h","WiFi.h"],answerIndex:1},{id:1112,chapter:"Question Solving",question:"Which function displays text on LCD?",options:["lcd.show()","lcd.print()","lcd.write()","Serial.println()"],answerIndex:1},{id:1113,chapter:"Question Solving",question:"A 4x4 matrix keypad needs how many pins?",options:["4","8","16","22"],answerIndex:1},{id:1114,chapter:"Question Solving",question:"Which motor moves in discrete steps?",options:["DC Motor","Stepper Motor","Servo Motor","Induction Motor"],answerIndex:1},{id:1115,chapter:"Question Solving",question:"IR sensor is used for:",options:["Temperature","Obstacle detection","Sound","Time"],answerIndex:1},{id:1116,chapter:"Question Solving",question:"Which component generates sound?",options:["Relay","Buzzer","LED","LCD"],answerIndex:1},{id:1117,chapter:"Question Solving",question:"delay(1000) means:",options:["1000 seconds","1000 microseconds","1000 milliseconds","1 minute"],answerIndex:2},{id:1118,chapter:"Question Solving",question:"Which is an INPUT device?",options:["LED","Relay","Switch","Motor"],answerIndex:2},{id:1119,chapter:"Question Solving",question:"digitalRead() returns:",options:["01023","HIGH or LOW","Voltage","Character"],answerIndex:1},{id:1120,chapter:"Question Solving",question:"Stepper motor driver IC:",options:["ULN2003","555 Timer","741 OpAmp","LM35"],answerIndex:0},{id:1121,chapter:"Question Solving",question:"Potentiometer at V0 of LCD is used for:",options:["Backlight","Contrast control","Power","Font selection"],answerIndex:1},{id:1122,chapter:"Question Solving",question:"Temperature sensor commonly used:",options:["IR Sensor","LM35/DHT11","Ultrasonic","PIR"],answerIndex:1},{id:1123,chapter:"Question Solving",question:"Keypad library is used for:",options:["Motor control","Scanning matrix keyboard","WiFi connection","Playing music"],answerIndex:1},{id:1124,chapter:"Question Solving",question:"NO pin in relay means:",options:["Not Open","Normally Open","New Output","Negative Output"],answerIndex:1},{id:1125,chapter:"Question Solving",question:"IoT stands for:",options:["Input of Technology","Internet of Things","Internet of Tools","Interconnected Things"],answerIndex:1},{id:1126,chapter:"Question Solving",question:"IoT layer with sensors & actuators:",options:["Application","Network","Perception","Cloud"],answerIndex:2},{id:1127,chapter:"Question Solving",question:"Board with built-in WiFi:",options:["Arduino UNO","NodeMCU","8051","ATmega328"],answerIndex:1},{id:1128,chapter:"Question Solving",question:"HC-05 module provides:",options:["WiFi","Bluetooth","GSM","GPS"],answerIndex:1},{id:1129,chapter:"Question Solving",question:"IoT platform for data visualization:",options:["MS Paint","ThingSpeak","Notepad","VLC"],answerIndex:1},{id:1130,chapter:"Question Solving",question:"Sense HAT LED matrix is:",options:["16x2","8x8 RGB","7-segment","4x4"],answerIndex:1},{id:1131,chapter:"Question Solving",question:"Raspberry Pi differs from Arduino because:",options:["It is 8-bit","It is an SBC running OS","It has no pins","No internet"],answerIndex:1},{id:1132,chapter:"Question Solving",question:"In home light control, AC bulb is switched by:",options:["NodeMCU directly","Relay Module","Resistor","Capacitor"],answerIndex:1},{id:1133,chapter:"Question Solving",question:"Blynk is used for:",options:["Mobile apps for IoT control","Writing C code","PCB design","Offline calculations"],answerIndex:0},{id:1134,chapter:"Question Solving",question:"Advantage of IoT in industry:",options:["Manual data entry","Real-time monitoring","More wiring","Slower production"],answerIndex:1},{id:1135,chapter:"Question Solving",question:"NodeMCU connects to internet using:",options:["Ethernet","WiFi Router","USB Cable","Bluetooth Speaker"],answerIndex:1},{id:1136,chapter:"Question Solving",question:"Which of the following best describes the main difference between a Microprocessor and a Microcontroller?",options:["Microprocessors have built-in RAM and ROM, while Microcontrollers do not.","Microcontrollers have a CPU, RAM, ROM, and I/O peripherals on a single chip.","Microcontrollers are used for general-purpose computing like laptops.","Microprocessors operate on analog signals only."],answerIndex:1},{id:1137,chapter:"Question Solving",question:"The standard 8051 microcontroller has an _______ data bus.",options:["4-bit","8-bit","16-bit","32-bit"],answerIndex:1},{id:1138,chapter:"Question Solving",question:"Which bus in a microcomputer is typically bidirectional?",options:["Address Bus","Data Bus","Control Bus","Power Bus"],answerIndex:1},{id:1139,chapter:"Question Solving",question:"What is the size of the internal RAM in a standard 8051 microcontroller?",options:["64 Bytes","128 Bytes","256 Bytes","4 KB"],answerIndex:1},{id:1140,chapter:"Question Solving",question:"Which version of the 8051 family comes in a 20-pin package?",options:["89C51","89C52","89C2051","8031"],answerIndex:2},{id:1141,chapter:"Question Solving",question:"An Embedded System is best defined as:",options:["A general-purpose computer like a laptop.","A computing system designed for a specific, dedicated function.","A purely mechanical system.","A system connected to the internet."],answerIndex:1},{id:1142,chapter:"Question Solving",question:"The ATMega328 microcontroller is the core of which development board?",options:["NodeMCU","Raspberry Pi","Arduino UNO R3","8051 Development Board"],answerIndex:2},{id:1143,chapter:"Question Solving",question:"Which architecture uses separate memory paths for program and data?",options:["Von Neumann","Harvard","CISC","RISC"],answerIndex:1},{id:1144,chapter:"Question Solving",question:"The Arduino UNO R3 operates at a logic voltage level of:",options:["12V","3.3V","5V","24V"],answerIndex:2},{id:1145,chapter:"Question Solving",question:"Which software is used to write and upload code to Arduino boards?",options:["Keil uVision","Arduino IDE","Python IDLE","Visual Studio Code only"],answerIndex:1},{id:1146,chapter:"Question Solving",question:"In an Arduino sketch, the setup() function runs:",options:["Continuously","Once, when powered on or reset","Every time a button is pressed","Never"],answerIndex:1},{id:1147,chapter:"Question Solving",question:"What is the correct syntax to define a pin as an Output in Arduino?",options:["pinMode(13, OUTPUT);","setPin(13, OUT);","PinMode(13, output);","output(13);"],answerIndex:0},{id:1148,chapter:"Question Solving",question:"Which function is used to turn a digital pin ON (5V)?",options:["digitalRead()","analogWrite()","digitalWrite(pin, HIGH);","digitalWrite(pin, LOW);"],answerIndex:2},{id:1149,chapter:"Question Solving",question:"The delay(1000) function pauses execution for:",options:["1000 seconds","1000 microseconds","1000 milliseconds (1 second)","1 minute"],answerIndex:2},{id:1150,chapter:"Question Solving",question:"Which variable type is best for storing a whole number like 100?",options:["float","char","int","boolean"],answerIndex:2},{id:1151,chapter:"Question Solving",question:"How many Analog Input pins does the Arduino UNO R3 have?",options:["4","6","14","8"],answerIndex:1},{id:1152,chapter:"Question Solving",question:"To start Serial communication with a PC, which command is used?",options:["Serial.start()","Serial.begin(9600);","Serial.init()","Serial.print()"],answerIndex:1},{id:1153,chapter:"Question Solving",question:"Why is a resistor placed in series with an LED?",options:["To increase voltage","To limit current and protect the LED","To make the LED blink","To change the color"],answerIndex:1},{id:1154,chapter:"Question Solving",question:"Which component is used to switch a 230V AC appliance using Arduino?",options:["Resistor","Relay Module","Capacitor","Diode"],answerIndex:1},{id:1155,chapter:"Question Solving",question:"The Arduino UNO USB port is used for:",options:["Power Supply","Uploading Code","Serial Communication","All of the above"],answerIndex:3},{id:1156,chapter:"Question Solving",question:"A standard 7-segment display uses how many LEDs to form the number 8?",options:["5","7","9","10"],answerIndex:1},{id:1157,chapter:"Question Solving",question:"Which library is commonly used to interface a 16x2 LCD with Arduino?",options:["Servo.h","LiquidCrystal.h","WiFi.h","Stepper.h"],answerIndex:1},{id:1158,chapter:"Question Solving",question:"Which function prints text to the LCD?",options:["lcd.print()","lcd.scan()","lcd.read()","Serial.print()"],answerIndex:0},{id:1159,chapter:"Question Solving",question:"A 4x4 Keypad has how many total keys?",options:["8","12","16","20"],answerIndex:2},{id:1160,chapter:"Question Solving",question:"Which motor is best suited for precise angular positioning?",options:["DC Motor","Stepper Motor","Fan","Vibration Motor"],answerIndex:1},{id:1161,chapter:"Question Solving",question:"The ULN2003 IC is often used as a _______ for stepper motors.",options:["Microcontroller","Driver","Sensor","Power Supply"],answerIndex:1},{id:1162,chapter:"Question Solving",question:"An IR Sensor detects obstacles by using:",options:["Sound waves","Infrared Light","Radio waves","Magnetic fields"],answerIndex:1},{id:1163,chapter:"Question Solving",question:"Which device is an audio output device?",options:["Microphone","Buzzer","LDR","Potentiometer"],answerIndex:1},{id:1164,chapter:"Question Solving",question:"IoT stands for:",options:["Input of Technology","Internet of Things","Internet of Tools","Interface of Things"],answerIndex:1},{id:1165,chapter:"Question Solving",question:"Which IoT layer includes sensors and actuators?",options:["Perception / Sensing Layer","Network Layer","Application Layer","Cloud Layer"],answerIndex:0},{id:1166,chapter:"Question Solving",question:"The NodeMCU is based on which WiFi chip?",options:["ATmega328","ESP8266","8051","ARM Cortex"],answerIndex:1},{id:1167,chapter:"Question Solving",question:"What voltage does the NodeMCU operate at?",options:["5V","3.3V","12V","9V"],answerIndex:1},{id:1168,chapter:"Question Solving",question:"Raspberry Pi is different from Arduino because it is a:",options:["Microcontroller","Single Board Computer (SBC)","Sensor","WiFi Module"],answerIndex:1},{id:1169,chapter:"Question Solving",question:"ThingSpeak is primarily used for:",options:["Graphic Design","Data Visualization and Analytics","Writing Documents","Playing Music"],answerIndex:1},{id:1170,chapter:"Question Solving",question:"Blynk is an IoT platform known for:",options:["Mobile app builder for IoT control","Manufacturing chips","Offline text editing","Operating Systems"],answerIndex:0},{id:1171,chapter:"Question Solving",question:"HC-05 is a module for which communication?",options:["WiFi","Bluetooth","Zigbee","LoRa"],answerIndex:1},{id:1172,chapter:"Question Solving",question:"The Sense HAT features an LED matrix of size:",options:["16x2","8x8 RGB","4x4","128x64"],answerIndex:1},{id:1173,chapter:"Question Solving",question:"To detect an object using an IR sensor, which function is used?",options:["analogWrite()","digitalRead()","Serial.print()","delay()"],answerIndex:1},{id:1174,chapter:"Question Solving",question:"analogRead() returns a value between:",options:["0 and 1","0 and 255","0 and 1023","0 and 100"],answerIndex:2},{id:1175,chapter:"Question Solving",question:"Which of these is an Input Device?",options:["LED","Push Button / Switch","Motor","Relay"],answerIndex:1},{id:1176,chapter:"Question Solving",question:"The Reset pin on the 8051 is active:",options:["Low","High","Floating","Negative"],answerIndex:1},{id:1177,chapter:"Question Solving",question:"How many bits is the Address Bus of the 8051?",options:["8","16","20","32"],answerIndex:1},{id:1178,chapter:"Question Solving",question:"In the 89C51, 'C' stands for:",options:["CMOS","Control","Computer","Core"],answerIndex:0},{id:1179,chapter:"Question Solving",question:"Which component is internal in a microcontroller but external in a microprocessor?",options:["ALU","RAM / ROM","Registers","Buses"],answerIndex:1},{id:1180,chapter:"Question Solving",question:"The maximum external memory the 8051 can address is:",options:["32 KB","64 KB","1 MB","4 GB"],answerIndex:1},{id:1181,chapter:"Question Solving",question:"Which pin on Arduino UNO has a built-in LED?",options:["Pin 10","Pin 13","Pin 0","Pin 5"],answerIndex:1},{id:1182,chapter:"Question Solving",question:"A Sketch in Arduino is:",options:["A drawing","The program code","The hardware board","The USB cable"],answerIndex:1},{id:1183,chapter:"Question Solving",question:"Which command sets the cursor position on an LCD?",options:["lcd.home()","lcd.setCursor(col, row)","lcd.move()","lcd.print()"],answerIndex:1},{id:1184,chapter:"Question Solving",question:"Stepper motors are commonly used in:",options:["Ceiling Fans","3D Printers / CNC Machines","Electric Cars","Blenders"],answerIndex:1},{id:1185,chapter:"Question Solving",question:"Home Automation using IoT often uses a _______ to control AC lights.",options:["Relay","LED","Resistor","Buzzer"],answerIndex:0}],YI=[...QI,...HI,...$I,...GI,...KI,...XI],Cp={"UNIT 1":"Microcontroller Fundamentals","UNIT 2":"Embedded Systems and Advance Microcontrollers","UNIT 3":"Introduction to Arduino","UNIT 4":"Interfacing of Input and Output Devices with Arduino","UNIT 5":"Introduction to Internet of Things  IOT","Question Solving":"Mixed Practice Questions"},JI={"UNIT 1":"Unit 1 introduces the basics of microcomputers and microcontrollers, their architecture, differences, and the role of the 8051 microcontroller in embedded systems.","UNIT 2":"UNIT 2 introduces embedded systems and advanced microcontrollers, focusing on their architecture, components, and applications.","UNIT 3":"UNIT 3 focuses on Arduino as an open-source development board, covering Arduino basics, types of boards, and programming using the Arduino IDE. ","UNIT 4":"UNIT 4 focuses on interfacing basic electronic components with Arduino, including LEDs, switches, relays, seven-segment displays, and 162 LCDs.","UNIT 5":"UNIT 5 introduces the Internet of Things (IoT), covering IoT architecture, components, and communication modules.","Question Solving":"A mixed collection of practice questions covering all topics from microcontrollers, Arduino programming, interfacing, and IoT concepts."},ZI=({chapters:t,onSelectChapter:e})=>{const[n,r]=te.useState(null),[i,s]=te.useState(!1),a=u=>{r(u),s(!0)},l=()=>{n&&e(n),s(!1)};return p.jsxs("div",{className:"chapter-selector-container",children:[p.jsxs("div",{className:"chapter-header",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white mb-2 drop-shadow-md",children:" ENTC Unit-wise MCQ Examination System"}),p.jsx("p",{className:"text-indigo-100 text-sm sm:text-base",children:"Designed for focused practice & self-evaluation"})]}),p.jsx("div",{className:"chapters-grid",children:["UNIT 1","UNIT 2","UNIT 3","UNIT 4","UNIT 5","Question Solving"].map(u=>{const h=t.find(f=>f.name===u);return p.jsxs("button",{className:"chapter-card hover:shadow-lg transition-shadow duration-200",onClick:()=>a(u),children:[p.jsx("div",{className:"chapter-number text-2xl font-bold",children:u}),Cp[u]&&p.jsx("p",{className:"chapter-title text-sm font-semibold text-gray-800 mt-1",children:Cp[u]}),(h==null?void 0:h.description)&&p.jsx("p",{className:"chapter-description",children:h.description}),!h&&p.jsx("p",{className:"chapter-description",children:"0 questions"})]},u)})}),p.jsxs("section",{className:"mt-8 bg-white rounded-xl shadow p-6 max-w-2xl mx-auto",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:"How This Quiz Works"}),p.jsxs("ol",{className:"space-y-2 text-gray-700 text-sm list-decimal list-inside",children:[p.jsx("li",{children:"Select a unit from the cards above."}),p.jsx("li",{children:"Answer multiple-choice questions one by one."}),p.jsx("li",{children:"Use the skip option to move ahead and revisit questions later."}),p.jsx("li",{children:"Submit and view your instant results & score at the end."})]})]}),p.jsxs("div",{className:"mt-12 flex justify-center items-center gap-2 text-white/80",children:[p.jsx("span",{className:"text-sm",children:"Created by"}),p.jsxs("a",{href:"https://github.com/anujdudhe",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 font-semibold text-white hover:underline",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M12 0.5C5.73 0.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.55-3.88-1.55-.53-1.36-1.29-1.72-1.29-1.72-1.05-.72.08-.71.08-.71 1.16.08 1.77 1.19 1.77 1.19 1.03 1.77 2.7 1.26 3.36.96.1-.75.4-1.26.72-1.55-2.55-.29-5.23-1.28-5.23-5.68 0-1.26.45-2.29 1.19-3.1-.12-.29-.52-1.45.11-3.02 0 0 .97-.31 3.18 1.18a11.1 11.1 0 0 1 2.9-.39c.99 0 1.99.13 2.9.39 2.2-1.49 3.17-1.18 3.17-1.18.63 1.57.23 2.73.11 3.02.74.81 1.19 1.84 1.19 3.1 0 4.41-2.69 5.38-5.25 5.67.41.36.77 1.07.77 2.15 0 1.55-.01 2.8-.01 3.18 0 .31.21.67.8.56 4.56-1.53 7.85-5.87 7.85-10.98C23.5 5.74 18.27.5 12 .5z"})}),"Anuj Dudhe"]})]}),i&&n&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:n}),p.jsx("p",{className:"text-gray-700 mb-6",children:JI[n]||"No description available for this unit."}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Start Quiz"})]})]})})]})},e_=({question:t,questionNumber:e,totalQuestions:n,onSubmitAnswer:r,onNext:i,onPrevious:s,onSkip:a,isAnswered:l})=>{const[u,h]=te.useState(null),[f,g]=te.useState(!1),[w,C]=te.useState(null);te.useEffect(()=>{l?g(!0):(h(null),g(!1),C(null))},[t.id,l]),te.useEffect(()=>{const D=M=>{if(f){M.key==="Enter"&&i();return}if(["1","2","3","4"].includes(M.key)){const E=parseInt(M.key,10)-1;E<t.options.length&&h(E)}(M.key==="ArrowDown"||M.key==="ArrowUp")&&(M.preventDefault(),h(E=>E===null?0:M.key==="ArrowDown"?Math.min(E+1,t.options.length-1):Math.max(E-1,0))),M.key==="Enter"&&u!==null&&b(),(M.key==="s"||M.key==="S")&&a(),M.key==="ArrowLeft"&&s(),M.key==="ArrowRight"&&f&&i()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[u,f,t.options.length,i,s,a]);const b=()=>{if(u===null||f)return;const D=u===t.answerIndex;C(D),g(!0),r(u,D)};return p.jsxs("div",{className:"max-w-2xl w-full mx-auto p-6 bg-white rounded-xl shadow-md overflow-hidden relative",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Question ",e," of ",n]}),p.jsx("div",{className:"text-sm text-gray-500",children:f&&p.jsx("span",{className:`px-3 py-1 rounded-full ${w?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w?"Correct!":"Incorrect"})})]}),p.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:t.question}),p.jsx("div",{className:"space-y-3 mb-6",children:t.options.map((D,M)=>{const E=u===M,_=M===t.answerIndex;let S="w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ";return f?_?S+="border-green-500 bg-green-50 text-green-900":E&&!w?S+="border-red-500 bg-red-50 text-red-900":S+="border-gray-300 bg-gray-50 text-gray-600":S+=E?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-300 hover:border-blue-300 hover:bg-gray-50",p.jsx("button",{onClick:()=>!f&&h(M),disabled:f,className:S,"aria-label":`Option ${M+1}: ${D}`,"aria-pressed":E,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsxs("span",{className:"font-bold text-lg flex-shrink-0",children:[String.fromCharCode(65+M),"."]}),p.jsx("span",{className:"flex-1 text-left",children:D}),f&&_&&p.jsx("span",{className:"text-green-600 font-bold","aria-label":"Correct answer",children:""}),f&&E&&!w&&p.jsx("span",{className:"text-red-600 font-bold","aria-label":"Wrong answer",children:""})]})},M)})}),f&&p.jsxs("div",{className:`mb-6 p-4 rounded-lg ${w?"bg-green-100 border border-green-400 text-green-800":"bg-red-100 border border-red-400 text-red-800"}`,role:"alert",children:[p.jsx("div",{className:"flex items-center gap-2",children:p.jsx("span",{className:"font-bold text-lg",children:w?" Correct!":" Wrong!"})}),!w&&p.jsxs("p",{className:"mt-2 text-sm",children:["The correct answer is: ",p.jsx("strong",{children:t.options[t.answerIndex]})]})]}),p.jsxs("div",{className:"flex justify-between gap-3",children:[p.jsx("button",{onClick:s,disabled:e<=1,className:`px-4 py-2 rounded-lg font-semibold transition-all ${e<=1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300"}`,"aria-label":"Previous question",children:" Previous"}),p.jsxs("div",{className:"flex gap-3",children:[!f&&p.jsx("button",{onClick:a,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2","aria-label":"Skip question",children:"Skip"}),!f&&u!==null&&p.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Submit answer",children:"Submit"}),f&&p.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":e===n?"Finish quiz":"Next question",children:e===n?"Finish":"Next"})]})]})]})},t_=({current:t,total:e,correct:n,wrong:r})=>{const i=t/e*100;return p.jsxs("div",{className:"w-full mb-6",children:[p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3 overflow-hidden",children:p.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300 ease-out",style:{width:`${i}%`},role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":e,"aria-label":`Progress: ${t} of ${e} questions`})}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsxs("span",{className:"text-gray-600 font-medium",children:["Question ",t," of ",e]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("span",{className:"text-green-600 font-semibold","aria-label":`Correct answers: ${n}`,children:[" ",n]}),p.jsxs("span",{className:"text-red-600 font-semibold","aria-label":`Wrong answers: ${r}`,children:[" ",r]})]})]})]})},n_=({results:t,onRestart:e})=>{const{totalQuestions:n,correctAnswers:r,wrongAnswers:i,percentage:s}=t,a=()=>{const h=JSON.stringify(t,null,2),f=new Blob([h],{type:"application/json"}),g=URL.createObjectURL(f),w=document.createElement("a");w.href=g,w.download=`exam-results-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(g)},u=s>=90?{text:"Excellent! ",color:"text-green-600"}:s>=75?{text:"Great Job! ",color:"text-blue-600"}:s>=60?{text:"Good Effort! ",color:"text-yellow-600"}:s>=40?{text:"Keep Practicing! ",color:"text-orange-600"}:{text:"Need More Practice ",color:"text-red-600"};return p.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 sm:p-10 w-full max-w-2xl",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-2",children:"Exam Completed!"}),p.jsx("p",{className:`text-2xl font-semibold ${u.color}`,children:u.text})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-6 sm:p-8 mb-6",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsxs("div",{className:"text-6xl sm:text-7xl font-bold text-blue-600 mb-2",children:[s.toFixed(1),"%"]}),p.jsx("div",{className:"text-gray-600 font-medium",children:"Your Score"})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[p.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:n}),p.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Total"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[p.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:r}),p.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Correct"})]}),p.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[p.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-red-600",children:i}),p.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"Wrong"})]})]})]}),p.jsxs("div",{className:"text-center text-sm text-gray-500 mb-6",children:["Completed on: ",new Date(t.completedAt).toLocaleString()]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("button",{onClick:e,className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Restart the exam",children:" Restart Exam"}),p.jsx("div",{className:"space-y-3",children:p.jsx("button",{onClick:a,className:" w-full px-6 py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2","aria-label":"Download results as JSON",children:" Download Results"})})]}),p.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Made with  by ",p.jsx("span",{className:"font-semibold",children:"ANUJ DUDHE"})]})]})},r_=({onConfirm:t,onCancel:e})=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",role:"dialog","aria-labelledby":"quit-modal-title","aria-modal":"true",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full p-6 sm:p-8",children:[p.jsx("h2",{id:"quit-modal-title",className:"text-2xl font-bold text-gray-800 mb-4",children:"Quit Exam?"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to quit the exam? Your progress will be saved and you'll see your current score."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[p.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2","aria-label":"Cancel and continue exam",children:"Cancel"}),p.jsx("button",{onClick:t,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Confirm quit exam",children:"Quit Exam"})]})]})}),i_=({questionStates:t,currentQuestionIndex:e,onNavigateToQuestion:n,userAnswers:r})=>{const i=(s,a)=>{const l=a===e,u=r.find(h=>h.questionId===s.questionId);return l?"bg-gradient-to-br from-blue-400 to-blue-600 text-white ring-2 ring-blue-300":s.status==="skipped"?"bg-gradient-to-br from-amber-400 to-amber-500 text-white":s.status==="answered"&&u?u.isCorrect?"bg-gradient-to-br from-emerald-400 to-emerald-600 text-white":"bg-gradient-to-br from-rose-500 to-rose-600 text-white":s.status==="marked"?"bg-gradient-to-br from-violet-500 to-violet-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"};return p.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-xl p-5 mb-6 border border-gray-200/50",children:[p.jsx("h3",{className:"text-base font-semibold text-slate-800 mb-4",children:"Question Navigator"}),p.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-emerald-400 to-emerald-600"}),p.jsx("span",{className:"text-slate-700",children:"Correct"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-rose-500 to-rose-600"}),p.jsx("span",{className:"text-slate-700",children:"Wrong"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-gradient-to-br from-amber-400 to-amber-500"}),p.jsx("span",{className:"text-slate-700",children:"Skipped"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-gray-200"}),p.jsx("span",{className:"text-slate-700",children:"Unanswered"})]})]}),p.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 md:grid-cols-12 gap-2 max-h-80 overflow-y-auto p-1",children:t.map((s,a)=>p.jsx("button",{onClick:()=>n(a),className:`
              w-9 h-9 sm:w-10 sm:h-10 rounded-lg font-medium text-sm sm:text-base
              transition-all duration-200 flex items-center justify-center
              focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-1
              shadow-sm hover:shadow-md hover:-translate-y-0.5
              ${i(s,a)}
            `,"aria-label":`Go to question ${a+1}, status: ${s.status}`,title:`Question ${a+1} - ${s.status}`,children:a+1},s.questionId))}),p.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200/50 flex flex-wrap gap-4 text-sm text-slate-700",children:[p.jsxs("span",{children:[p.jsx("strong",{children:"Total:"})," ",t.length]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Correct:"})," ",r.filter(s=>s.isCorrect).length]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Wrong:"})," ",r.filter(s=>!s.isCorrect&&!s.isSkipped).length]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Skipped:"})," ",r.filter(s=>s.isSkipped).length]})]})]})},s_=()=>{const t=te.useCallback(async()=>{try{return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.log("This browser does not support desktop notifications"),!1)}catch(n){return console.error("Error requesting notification permission:",n),!1}},[]),e=te.useCallback(async(n,r)=>{if(await t())try{const s=new Notification(n,{icon:"/favicon.ico",badge:"/favicon.ico",...r});return setTimeout(()=>{s.close()},5e3),s}catch(s){console.error("Error showing notification:",s)}},[t]);return te.useEffect(()=>{t()},[t]),{requestNotificationPermission:t,showNotification:e}},o_=({onStart:t})=>{const[e,n]=te.useState(!1),[r,i]=te.useState(!1),[s,a]=te.useState(!1),{showNotification:l}=s_();te.useEffect(()=>{n(!0);const h=setTimeout(()=>{i(!0)},50);return()=>clearTimeout(h)},[]);const u=te.useCallback(async()=>{i(!1),a(!0);try{await l("Welcome to ENTC MCQ Practice!",{body:"Get ready to test your knowledge!",icon:"/logo192.png"})}catch(h){console.error("Failed to show notification:",h)}setTimeout(()=>{n(!1),t()},300)},[t,l]);return e?p.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-300 ${s?"bg-black/0":"bg-black/90"}`,onClick:h=>h.target===h.currentTarget&&u(),children:p.jsx("div",{className:`bg-white dark:bg-gray-100 rounded-2xl max-w-md w-full mx-4 transform transition-all duration-300 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${s?"opacity-0 -translate-y-4":""}`,children:p.jsxs("div",{className:"p-6 sm:p-8",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to ENTC MCQ Practice"}),p.jsx("p",{className:"text-gray-600",children:"Master your Electronics concepts with our comprehensive MCQ practice platform."})]}),p.jsxs("div",{className:"space-y-4 mb-6 text-left",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),p.jsx("p",{className:"text-gray-700",children:"Practice with topic-wise questions"})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),p.jsx("p",{className:"text-gray-700",children:"Track your progress and improve"})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1",children:p.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),p.jsx("p",{className:"text-gray-700",children:"Perfect for exam preparation"})]})]}),p.jsx("div",{className:"mt-8 mb-6 text-center",children:p.jsxs("div",{className:"inline-flex items-center justify-center px-4 py-2 bg-gray-50 dark:bg-gray-800/100 rounded-full",children:[p.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Created by"}),p.jsxs("a",{href:"https://github.com/anujdudhe",target:"_blank",rel:"noopener noreferrer",className:"ml-2 flex items-center gap-2 font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"inline-block",children:p.jsx("path",{d:"M12 0.5C5.73 0.5.5 5.74.5 12.02c0 5.11 3.29 9.45 7.86 10.98.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.55-3.88-1.55-.53-1.36-1.29-1.72-1.29-1.72-1.05-.72.08-.71.08-.71 1.16.08 1.77 1.19 1.77 1.19 1.03 1.77 2.7 1.26 3.36.96.1-.75.4-1.26.72-1.55-2.55-.29-5.23-1.28-5.23-5.68 0-1.26.45-2.29 1.19-3.1-.12-.29-.52-1.45.11-3.02 0 0 .97-.31 3.18 1.18a11.1 11.1 0 0 1 2.9-.39c.99 0 1.99.13 2.9.39 2.2-1.49 3.17-1.18 3.17-1.18.63 1.57.23 2.73.11 3.02.74.81 1.19 1.84 1.19 3.1 0 4.41-2.69 5.38-5.25 5.67.41.36.77 1.07.77 2.15 0 1.55-.01 2.8-.01 3.18 0 .31.21.67.8.56 4.56-1.53 7.85-5.87 7.85-10.98C23.5 5.74 18.27.5 12 .5z"})}),"Anuj Dudhe"]})]})}),p.jsx("button",{onClick:u,className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-700 dark:hover:bg-blue-600 dark:focus:ring-blue-600",children:"Start Practicing"})]})})}):null},a_=()=>{};var Np={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|l>>4;let w=(l&15)<<2|h>>6,C=h&63;u||(C=64,a||(w=64)),r.push(n[f],n[g],n[w],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||g==null)throw new u_;const w=s<<2|l>>4;if(r.push(w),h!==64){const C=l<<4&240|h>>2;if(r.push(C),g!==64){const b=h<<6&192|g;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c_=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},Ra=function(t){return c_(t).replace(/\./g,"")},h_=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=()=>d_().__FIREBASE_DEFAULTS__,p_=()=>{if(typeof process>"u"||typeof Np>"u")return;const t=Np.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&h_(t[1]);return e&&JSON.parse(e)},bh=()=>{try{return a_()||f_()||p_()||m_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g_=t=>{var e,n;return(n=(e=bh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y_=t=>{const e=g_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r1=()=>{var t;return(t=bh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ra(JSON.stringify(n)),Ra(JSON.stringify(a)),""].join(".")}const gs={};function __(){const t={prod:[],emulator:[]};for(const e of Object.keys(gs))gs[e]?t.emulator.push(e):t.prod.push(e);return t}function T_(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rp=!1;function x_(t,e){if(typeof window>"u"||typeof document>"u"||!kh(window.location.host)||gs[t]===e||gs[t]||Rp)return;gs[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",s=__().prod.length>0;function a(){const w=document.getElementById(r);w&&w.remove()}function l(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function u(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Rp=!0,a()},w}function f(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){const w=T_(r),C=n("text"),b=document.getElementById(C)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const S=w.element;l(S),f(M,D);const U=h();u(_,E),S.append(_,b,M,U),document.body.appendChild(S)}s?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A_(){var e;const t=(e=bh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S_(){return!A_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C_(){try{return typeof indexedDB=="object"}catch{return!1}}function N_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R_,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i1.prototype.create)}}class i1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?P_(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ei(i,l,r)}}function P_(t,e){return t.replace(b_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const b_=/\{\$([^}]+)}/g;function Pa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Pp(s)&&Pp(a)){if(!Pa(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t){return t&&t._delegate?t._delegate:t}class qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V_(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D_(t){return t===cr?void 0:t}function V_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const U_={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},O_=oe.INFO,L_={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},q_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=L_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s1{constructor(e){this.name=e,this._logLevel=O_,this._logHandler=q_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const j_=(t,e)=>e.some(n=>t instanceof n);let bp,kp;function F_(){return bp||(bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B_(){return kp||(kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,gc=new WeakMap,a1=new WeakMap,pu=new WeakMap,Dh=new WeakMap;function W_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(jn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&o1.set(n,t)}).catch(()=>{}),Dh.set(e,t),e}function z_(t){if(gc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});gc.set(t,e)}let yc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q_(t){yc=t(yc)}function H_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mu(this),e,...n);return a1.set(r,e.sort?e.sort():[e]),jn(r)}:B_().includes(t)?function(...e){return t.apply(mu(this),e),jn(o1.get(this))}:function(...e){return jn(t.apply(mu(this),e))}}function $_(t){return typeof t=="function"?H_(t):(t instanceof IDBTransaction&&z_(t),j_(t,F_())?new Proxy(t,yc):t)}function jn(t){if(t instanceof IDBRequest)return W_(t);if(pu.has(t))return pu.get(t);const e=$_(t);return e!==t&&(pu.set(t,e),Dh.set(e,t)),e}const mu=t=>Dh.get(t);function G_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=jn(a);return r&&a.addEventListener("upgradeneeded",u=>{r(jn(a.result),u.oldVersion,u.newVersion,jn(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const K_=["get","getKey","getAll","getAllKeys","count"],X_=["put","add","delete","clear"],gu=new Map;function Dp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gu.get(e))return gu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=X_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K_.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return gu.set(e,s),s}Q_(t=>({...t,get:(e,n,r)=>Dp(e,n)||t.get(e,n,r),has:(e,n)=>!!Dp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function J_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wc="@firebase/app",Vp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new s1("@firebase/app"),Z_="@firebase/app-compat",eT="@firebase/analytics-compat",tT="@firebase/analytics",nT="@firebase/app-check-compat",rT="@firebase/app-check",iT="@firebase/auth",sT="@firebase/auth-compat",oT="@firebase/database",aT="@firebase/data-connect",lT="@firebase/database-compat",uT="@firebase/functions",cT="@firebase/functions-compat",hT="@firebase/installations",dT="@firebase/installations-compat",fT="@firebase/messaging",pT="@firebase/messaging-compat",mT="@firebase/performance",gT="@firebase/performance-compat",yT="@firebase/remote-config",wT="@firebase/remote-config-compat",vT="@firebase/storage",IT="@firebase/storage-compat",_T="@firebase/firestore",TT="@firebase/ai",xT="@firebase/firestore-compat",ET="firebase",AT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="[DEFAULT]",ST={[wc]:"fire-core",[Z_]:"fire-core-compat",[tT]:"fire-analytics",[eT]:"fire-analytics-compat",[rT]:"fire-app-check",[nT]:"fire-app-check-compat",[iT]:"fire-auth",[sT]:"fire-auth-compat",[oT]:"fire-rtdb",[aT]:"fire-data-connect",[lT]:"fire-rtdb-compat",[uT]:"fire-fn",[cT]:"fire-fn-compat",[hT]:"fire-iid",[dT]:"fire-iid-compat",[fT]:"fire-fcm",[pT]:"fire-fcm-compat",[mT]:"fire-perf",[gT]:"fire-perf-compat",[yT]:"fire-rc",[wT]:"fire-rc-compat",[vT]:"fire-gcs",[IT]:"fire-gcs-compat",[_T]:"fire-fst",[xT]:"fire-fst-compat",[TT]:"fire-vertex","fire-js":"fire-js",[ET]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Map,CT=new Map,Ic=new Map;function Mp(t,e){try{t.container.addComponent(e)}catch(n){pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ka(t){const e=t.name;if(Ic.has(e))return pn.debug(`There were multiple attempts to register component ${e}.`),!1;Ic.set(e,t);for(const n of ba.values())Mp(n,t);for(const n of CT.values())Mp(n,t);return!0}function NT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function RT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new i1("app","Firebase",PT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=AT;function l1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fn.create("bad-app-name",{appName:String(i)});if(n||(n=r1()),!n)throw Fn.create("no-options");const s=ba.get(i);if(s){if(Pa(n,s.options)&&Pa(r,s.config))return s;throw Fn.create("duplicate-app",{appName:i})}const a=new M_(i);for(const u of Ic.values())a.addComponent(u);const l=new bT(n,r,a);return ba.set(i,l),l}function DT(t=vc){const e=ba.get(t);if(!e&&t===vc&&r1())return l1();if(!e)throw Fn.create("no-app",{appName:t});return e}function ni(t,e,n){let r=ST[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pn.warn(a.join(" "));return}ka(new qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebase-heartbeat-database",MT=1,js="firebase-heartbeat-store";let yu=null;function u1(){return yu||(yu=G_(VT,MT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(js)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fn.create("idb-open",{originalErrorMessage:t.message})})),yu}async function UT(t){try{const n=(await u1()).transaction(js),r=await n.objectStore(js).get(c1(t));return await n.done,r}catch(e){if(e instanceof Ei)pn.warn(e.message);else{const n=Fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pn.warn(n.message)}}}async function Up(t,e){try{const r=(await u1()).transaction(js,"readwrite");await r.objectStore(js).put(e,c1(t)),await r.done}catch(n){if(n instanceof Ei)pn.warn(n.message);else{const r=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pn.warn(r.message)}}}function c1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=1024,LT=30;class qT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Op();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>LT){const a=BT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Op(),{heartbeatsToSend:r,unsentEntries:i}=jT(this._heartbeatsCache.heartbeats),s=Ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pn.warn(n),""}}}function Op(){return new Date().toISOString().substring(0,10)}function jT(t,e=OT){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Lp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C_()?N_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Up(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lp(t){return Ra(JSON.stringify({version:2,heartbeats:t})).length}function BT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){ka(new qs("platform-logger",e=>new Y_(e),"PRIVATE")),ka(new qs("heartbeat",e=>new qT(e),"PRIVATE")),ni(wc,Vp,t),ni(wc,Vp,"esm2020"),ni("fire-js","")}WT("");var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bn,h1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function I(){}I.prototype=y.prototype,v.F=y.prototype,v.prototype=new I,v.prototype.constructor=v,v.D=function(x,A,N){for(var T=Array(arguments.length-2),me=2;me<arguments.length;me++)T[me-2]=arguments[me];return y.prototype[A].apply(x,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,I){I||(I=0);const x=Array(16);if(typeof y=="string")for(var A=0;A<16;++A)x[A]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(A=0;A<16;++A)x[A]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=v.g[0],I=v.g[1],A=v.g[2];let N=v.g[3],T;T=y+(N^I&(A^N))+x[0]+3614090360&4294967295,y=I+(T<<7&4294967295|T>>>25),T=N+(A^y&(I^A))+x[1]+3905402710&4294967295,N=y+(T<<12&4294967295|T>>>20),T=A+(I^N&(y^I))+x[2]+606105819&4294967295,A=N+(T<<17&4294967295|T>>>15),T=I+(y^A&(N^y))+x[3]+3250441966&4294967295,I=A+(T<<22&4294967295|T>>>10),T=y+(N^I&(A^N))+x[4]+4118548399&4294967295,y=I+(T<<7&4294967295|T>>>25),T=N+(A^y&(I^A))+x[5]+1200080426&4294967295,N=y+(T<<12&4294967295|T>>>20),T=A+(I^N&(y^I))+x[6]+2821735955&4294967295,A=N+(T<<17&4294967295|T>>>15),T=I+(y^A&(N^y))+x[7]+4249261313&4294967295,I=A+(T<<22&4294967295|T>>>10),T=y+(N^I&(A^N))+x[8]+1770035416&4294967295,y=I+(T<<7&4294967295|T>>>25),T=N+(A^y&(I^A))+x[9]+2336552879&4294967295,N=y+(T<<12&4294967295|T>>>20),T=A+(I^N&(y^I))+x[10]+4294925233&4294967295,A=N+(T<<17&4294967295|T>>>15),T=I+(y^A&(N^y))+x[11]+2304563134&4294967295,I=A+(T<<22&4294967295|T>>>10),T=y+(N^I&(A^N))+x[12]+1804603682&4294967295,y=I+(T<<7&4294967295|T>>>25),T=N+(A^y&(I^A))+x[13]+4254626195&4294967295,N=y+(T<<12&4294967295|T>>>20),T=A+(I^N&(y^I))+x[14]+2792965006&4294967295,A=N+(T<<17&4294967295|T>>>15),T=I+(y^A&(N^y))+x[15]+1236535329&4294967295,I=A+(T<<22&4294967295|T>>>10),T=y+(A^N&(I^A))+x[1]+4129170786&4294967295,y=I+(T<<5&4294967295|T>>>27),T=N+(I^A&(y^I))+x[6]+3225465664&4294967295,N=y+(T<<9&4294967295|T>>>23),T=A+(y^I&(N^y))+x[11]+643717713&4294967295,A=N+(T<<14&4294967295|T>>>18),T=I+(N^y&(A^N))+x[0]+3921069994&4294967295,I=A+(T<<20&4294967295|T>>>12),T=y+(A^N&(I^A))+x[5]+3593408605&4294967295,y=I+(T<<5&4294967295|T>>>27),T=N+(I^A&(y^I))+x[10]+38016083&4294967295,N=y+(T<<9&4294967295|T>>>23),T=A+(y^I&(N^y))+x[15]+3634488961&4294967295,A=N+(T<<14&4294967295|T>>>18),T=I+(N^y&(A^N))+x[4]+3889429448&4294967295,I=A+(T<<20&4294967295|T>>>12),T=y+(A^N&(I^A))+x[9]+568446438&4294967295,y=I+(T<<5&4294967295|T>>>27),T=N+(I^A&(y^I))+x[14]+3275163606&4294967295,N=y+(T<<9&4294967295|T>>>23),T=A+(y^I&(N^y))+x[3]+4107603335&4294967295,A=N+(T<<14&4294967295|T>>>18),T=I+(N^y&(A^N))+x[8]+1163531501&4294967295,I=A+(T<<20&4294967295|T>>>12),T=y+(A^N&(I^A))+x[13]+2850285829&4294967295,y=I+(T<<5&4294967295|T>>>27),T=N+(I^A&(y^I))+x[2]+4243563512&4294967295,N=y+(T<<9&4294967295|T>>>23),T=A+(y^I&(N^y))+x[7]+1735328473&4294967295,A=N+(T<<14&4294967295|T>>>18),T=I+(N^y&(A^N))+x[12]+2368359562&4294967295,I=A+(T<<20&4294967295|T>>>12),T=y+(I^A^N)+x[5]+4294588738&4294967295,y=I+(T<<4&4294967295|T>>>28),T=N+(y^I^A)+x[8]+2272392833&4294967295,N=y+(T<<11&4294967295|T>>>21),T=A+(N^y^I)+x[11]+1839030562&4294967295,A=N+(T<<16&4294967295|T>>>16),T=I+(A^N^y)+x[14]+4259657740&4294967295,I=A+(T<<23&4294967295|T>>>9),T=y+(I^A^N)+x[1]+2763975236&4294967295,y=I+(T<<4&4294967295|T>>>28),T=N+(y^I^A)+x[4]+1272893353&4294967295,N=y+(T<<11&4294967295|T>>>21),T=A+(N^y^I)+x[7]+4139469664&4294967295,A=N+(T<<16&4294967295|T>>>16),T=I+(A^N^y)+x[10]+3200236656&4294967295,I=A+(T<<23&4294967295|T>>>9),T=y+(I^A^N)+x[13]+681279174&4294967295,y=I+(T<<4&4294967295|T>>>28),T=N+(y^I^A)+x[0]+3936430074&4294967295,N=y+(T<<11&4294967295|T>>>21),T=A+(N^y^I)+x[3]+3572445317&4294967295,A=N+(T<<16&4294967295|T>>>16),T=I+(A^N^y)+x[6]+76029189&4294967295,I=A+(T<<23&4294967295|T>>>9),T=y+(I^A^N)+x[9]+3654602809&4294967295,y=I+(T<<4&4294967295|T>>>28),T=N+(y^I^A)+x[12]+3873151461&4294967295,N=y+(T<<11&4294967295|T>>>21),T=A+(N^y^I)+x[15]+530742520&4294967295,A=N+(T<<16&4294967295|T>>>16),T=I+(A^N^y)+x[2]+3299628645&4294967295,I=A+(T<<23&4294967295|T>>>9),T=y+(A^(I|~N))+x[0]+4096336452&4294967295,y=I+(T<<6&4294967295|T>>>26),T=N+(I^(y|~A))+x[7]+1126891415&4294967295,N=y+(T<<10&4294967295|T>>>22),T=A+(y^(N|~I))+x[14]+2878612391&4294967295,A=N+(T<<15&4294967295|T>>>17),T=I+(N^(A|~y))+x[5]+4237533241&4294967295,I=A+(T<<21&4294967295|T>>>11),T=y+(A^(I|~N))+x[12]+1700485571&4294967295,y=I+(T<<6&4294967295|T>>>26),T=N+(I^(y|~A))+x[3]+2399980690&4294967295,N=y+(T<<10&4294967295|T>>>22),T=A+(y^(N|~I))+x[10]+4293915773&4294967295,A=N+(T<<15&4294967295|T>>>17),T=I+(N^(A|~y))+x[1]+2240044497&4294967295,I=A+(T<<21&4294967295|T>>>11),T=y+(A^(I|~N))+x[8]+1873313359&4294967295,y=I+(T<<6&4294967295|T>>>26),T=N+(I^(y|~A))+x[15]+4264355552&4294967295,N=y+(T<<10&4294967295|T>>>22),T=A+(y^(N|~I))+x[6]+2734768916&4294967295,A=N+(T<<15&4294967295|T>>>17),T=I+(N^(A|~y))+x[13]+1309151649&4294967295,I=A+(T<<21&4294967295|T>>>11),T=y+(A^(I|~N))+x[4]+4149444226&4294967295,y=I+(T<<6&4294967295|T>>>26),T=N+(I^(y|~A))+x[11]+3174756917&4294967295,N=y+(T<<10&4294967295|T>>>22),T=A+(y^(N|~I))+x[2]+718787259&4294967295,A=N+(T<<15&4294967295|T>>>17),T=I+(N^(A|~y))+x[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,v.g[2]=v.g[2]+A&4294967295,v.g[3]=v.g[3]+N&4294967295}r.prototype.v=function(v,y){y===void 0&&(y=v.length);const I=y-this.blockSize,x=this.C;let A=this.h,N=0;for(;N<y;){if(A==0)for(;N<=I;)i(this,v,N),N+=this.blockSize;if(typeof v=="string"){for(;N<y;)if(x[A++]=v.charCodeAt(N++),A==this.blockSize){i(this,x),A=0;break}}else for(;N<y;)if(x[A++]=v[N++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=y},r.prototype.A=function(){var v=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;y=this.o*8;for(var I=v.length-8;I<v.length;++I)v[I]=y&255,y/=256;for(this.v(v),v=Array(16),y=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)v[y++]=this.g[I]>>>x&255;return v};function s(v,y){var I=l;return Object.prototype.hasOwnProperty.call(I,v)?I[v]:I[v]=y(v)}function a(v,y){this.h=y;const I=[];let x=!0;for(let A=v.length-1;A>=0;A--){const N=v[A]|0;x&&N==y||(I[A]=N,x=!1)}this.g=I}var l={};function u(v){return-128<=v&&v<128?s(v,function(y){return new a([y|0],y<0?-1:0)}):new a([v|0],v<0?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return g;if(v<0)return M(h(-v));const y=[];let I=1;for(let x=0;v>=I;x++)y[x]=v/I|0,I*=4294967296;return new a(y,0)}function f(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return M(f(v.substring(1),y));if(v.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=h(Math.pow(y,8));let x=g;for(let N=0;N<v.length;N+=8){var A=Math.min(8,v.length-N);const T=parseInt(v.substring(N,N+A),y);A<8?(A=h(Math.pow(y,A)),x=x.j(A).add(h(T))):(x=x.j(I),x=x.add(h(T)))}return x}var g=u(0),w=u(1),C=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-M(this).m();let v=0,y=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);v+=(x>=0?x:4294967296+x)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(b(this))return"0";if(D(this))return"-"+M(this).toString(v);const y=h(Math.pow(v,6));var I=this;let x="";for(;;){const A=U(I,y).g;I=E(I,A.j(y));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(v);if(I=A,b(I))return N+x;for(;N.length<6;)N="0"+N;x=N+x}},t.i=function(v){return v<0?0:v<this.g.length?this.g[v]:this.h};function b(v){if(v.h!=0)return!1;for(let y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function D(v){return v.h==-1}t.l=function(v){return v=E(this,v),D(v)?-1:b(v)?0:1};function M(v){const y=v.g.length,I=[];for(let x=0;x<y;x++)I[x]=~v.g[x];return new a(I,~v.h).add(w)}t.abs=function(){return D(this)?M(this):this},t.add=function(v){const y=Math.max(this.g.length,v.g.length),I=[];let x=0;for(let A=0;A<=y;A++){let N=x+(this.i(A)&65535)+(v.i(A)&65535),T=(N>>>16)+(this.i(A)>>>16)+(v.i(A)>>>16);x=T>>>16,N&=65535,T&=65535,I[A]=T<<16|N}return new a(I,I[I.length-1]&-2147483648?-1:0)};function E(v,y){return v.add(M(y))}t.j=function(v){if(b(this)||b(v))return g;if(D(this))return D(v)?M(this).j(M(v)):M(M(this).j(v));if(D(v))return M(this.j(M(v)));if(this.l(C)<0&&v.l(C)<0)return h(this.m()*v.m());const y=this.g.length+v.g.length,I=[];for(var x=0;x<2*y;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let A=0;A<v.g.length;A++){const N=this.i(x)>>>16,T=this.i(x)&65535,me=v.i(A)>>>16,rt=v.i(A)&65535;I[2*x+2*A]+=T*rt,_(I,2*x+2*A),I[2*x+2*A+1]+=N*rt,_(I,2*x+2*A+1),I[2*x+2*A+1]+=T*me,_(I,2*x+2*A+1),I[2*x+2*A+2]+=N*me,_(I,2*x+2*A+2)}for(v=0;v<y;v++)I[v]=I[2*v+1]<<16|I[2*v];for(v=y;v<2*y;v++)I[v]=0;return new a(I,0)};function _(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function S(v,y){this.g=v,this.h=y}function U(v,y){if(b(y))throw Error("division by zero");if(b(v))return new S(g,g);if(D(v))return y=U(M(v),y),new S(M(y.g),M(y.h));if(D(y))return y=U(v,M(y)),new S(M(y.g),y.h);if(v.g.length>30){if(D(v)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var I=w,x=y;x.l(v)<=0;)I=P(I),x=P(x);var A=V(I,1),N=V(x,1);for(x=V(x,2),I=V(I,2);!b(x);){var T=N.add(x);T.l(v)<=0&&(A=A.add(I),N=T),x=V(x,1),I=V(I,1)}return y=E(v,A.j(y)),new S(A,y)}for(A=g;v.l(y)>=0;){for(I=Math.max(1,Math.floor(v.m()/y.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),N=h(I),T=N.j(y);D(T)||T.l(v)>0;)I-=x,N=h(I),T=N.j(y);b(N)&&(N=w),A=A.add(N),v=E(v,T)}return new S(A,v)}t.B=function(v){return U(this,v).h},t.and=function(v){const y=Math.max(this.g.length,v.g.length),I=[];for(let x=0;x<y;x++)I[x]=this.i(x)&v.i(x);return new a(I,this.h&v.h)},t.or=function(v){const y=Math.max(this.g.length,v.g.length),I=[];for(let x=0;x<y;x++)I[x]=this.i(x)|v.i(x);return new a(I,this.h|v.h)},t.xor=function(v){const y=Math.max(this.g.length,v.g.length),I=[];for(let x=0;x<y;x++)I[x]=this.i(x)^v.i(x);return new a(I,this.h^v.h)};function P(v){const y=v.g.length+1,I=[];for(let x=0;x<y;x++)I[x]=v.i(x)<<1|v.i(x-1)>>>31;return new a(I,v.h)}function V(v,y){const I=y>>5;y%=32;const x=v.g.length-I,A=[];for(let N=0;N<x;N++)A[N]=y>0?v.i(N+I)>>>y|v.i(N+I+1)<<32-y:v.i(N+I);return new a(A,v.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,h1=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Bn=a}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d1,is,f1,Zo,_c,p1,m1,g1;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mo=="object"&&Mo];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,c){if(c)e:{var d=r;o=o.split(".");for(var m=0;m<o.length-1;m++){var R=o[m];if(!(R in d))break e;d=d[R]}o=o[o.length-1],m=d[o],c=c(m),c!=m&&c!=null&&e(d,o,{configurable:!0,writable:!0,value:c})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(c){var d=[],m;for(m in c)Object.prototype.hasOwnProperty.call(c,m)&&d.push([m,c[m]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,d){return o.call.apply(o.bind,arguments)}function h(o,c,d){return h=u,h.apply(null,arguments)}function f(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),o.apply(this,m)}}function g(o,c){function d(){}d.prototype=c.prototype,o.Z=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(m,R,k){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return c.prototype[R].apply(m,B)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function C(o){const c=o.length;if(c>0){const d=Array(c);for(let m=0;m<c;m++)d[m]=o[m];return d}return[]}function b(o,c){for(let m=1;m<arguments.length;m++){const R=arguments[m];var d=typeof R;if(d=d!="object"?d:R?Array.isArray(R)?"array":d:"null",d=="array"||d=="object"&&typeof R.length=="number"){d=o.length||0;const k=R.length||0;o.length=d+k;for(let B=0;B<k;B++)o[d+B]=R[B]}else o.push(R)}}class D{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function M(o){a.setTimeout(()=>{throw o},0)}function E(){var o=v;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class _{constructor(){this.h=this.g=null}add(c,d){const m=S.get();m.set(c,d),this.h?this.h.next=m:this.g=m,this.h=m}}var S=new D(()=>new U,o=>o.reset());class U{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let P,V=!1,v=new _,y=()=>{const o=Promise.resolve(void 0);P=()=>{o.then(I)}};function I(){for(var o;o=E();){try{o.h.call(o.g)}catch(d){M(d)}var c=S;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}V=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,c),a.removeEventListener("test",d,c)}catch{}return o}();function T(o){return/^[\s\xa0]*$/.test(o)}function me(o,c){A.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}g(me,A),me.prototype.init=function(o,c){const d=this.type=o.type,m=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var rt="closure_listenable_"+(Math.random()*1e6|0),nn=0;function At(o,c,d,m,R){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!m,this.ha=R,this.key=++nn,this.da=this.fa=!1}function z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function q(o,c,d){for(const m in o)c.call(d,o[m],m,o)}function W(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function K(o){const c={};for(const d in o)c[d]=o[d];return c}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(o,c){let d,m;for(let R=1;R<arguments.length;R++){m=arguments[R];for(d in m)o[d]=m[d];for(let k=0;k<F.length;k++)d=F[k],Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}}function le(o){this.src=o,this.g={},this.h=0}le.prototype.add=function(o,c,d,m,R){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const B=_e(o,c,m,R);return B>-1?(c=o[B],d||(c.fa=!1)):(c=new At(c,this.src,k,!!m,R),c.fa=d,o.push(c)),c};function he(o,c){const d=c.type;if(d in o.g){var m=o.g[d],R=Array.prototype.indexOf.call(m,c,void 0),k;(k=R>=0)&&Array.prototype.splice.call(m,R,1),k&&(z(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function _e(o,c,d,m){for(let R=0;R<o.length;++R){const k=o[R];if(!k.da&&k.listener==c&&k.capture==!!d&&k.ha==m)return R}return-1}var it="closure_lm_"+(Math.random()*1e6|0),yt={};function vd(o,c,d,m,R){if(Array.isArray(c)){for(let k=0;k<c.length;k++)vd(o,c[k],d,m,R);return null}return d=Td(d),o&&o[rt]?o.J(c,d,l(m)?!!m.capture:!1,R):Bw(o,c,d,!1,m,R)}function Bw(o,c,d,m,R,k){if(!c)throw Error("Invalid event type");const B=l(R)?!!R.capture:!!R;let ee=xl(o);if(ee||(o[it]=ee=new le(o)),d=ee.add(c,d,m,B,k),d.proxy)return d;if(m=Ww(),d.proxy=m,m.src=o,m.listener=d,o.addEventListener)N||(R=B),R===void 0&&(R=!1),o.addEventListener(c.toString(),m,R);else if(o.attachEvent)o.attachEvent(_d(c.toString()),m);else if(o.addListener&&o.removeListener)o.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Ww(){function o(d){return c.call(o.src,o.listener,d)}const c=zw;return o}function Id(o,c,d,m,R){if(Array.isArray(c))for(var k=0;k<c.length;k++)Id(o,c[k],d,m,R);else m=l(m)?!!m.capture:!!m,d=Td(d),o&&o[rt]?(o=o.i,k=String(c).toString(),k in o.g&&(c=o.g[k],d=_e(c,d,m,R),d>-1&&(z(c[d]),Array.prototype.splice.call(c,d,1),c.length==0&&(delete o.g[k],o.h--)))):o&&(o=xl(o))&&(c=o.g[c.toString()],o=-1,c&&(o=_e(c,d,m,R)),(d=o>-1?c[o]:null)&&Tl(d))}function Tl(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[rt])he(c.i,o);else{var d=o.type,m=o.proxy;c.removeEventListener?c.removeEventListener(d,m,o.capture):c.detachEvent?c.detachEvent(_d(d),m):c.addListener&&c.removeListener&&c.removeListener(m),(d=xl(c))?(he(d,o),d.h==0&&(d.src=null,c[it]=null)):z(o)}}}function _d(o){return o in yt?yt[o]:yt[o]="on"+o}function zw(o,c){if(o.da)o=!0;else{c=new me(c,this);const d=o.listener,m=o.ha||o.src;o.fa&&Tl(o),o=d.call(m,c)}return o}function xl(o){return o=o[it],o instanceof le?o:null}var El="__closure_events_fn_"+(Math.random()*1e9>>>0);function Td(o){return typeof o=="function"?o:(o[El]||(o[El]=function(c){return o.handleEvent(c)}),o[El])}function Ke(){x.call(this),this.i=new le(this),this.M=this,this.G=null}g(Ke,x),Ke.prototype[rt]=!0,Ke.prototype.removeEventListener=function(o,c,d,m){Id(this,o,c,d,m)};function st(o,c){var d,m=o.G;if(m)for(d=[];m;m=m.G)d.push(m);if(o=o.M,m=c.type||c,typeof c=="string")c=new A(c,o);else if(c instanceof A)c.target=c.target||o;else{var R=c;c=new A(m,o),G(c,R)}R=!0;let k,B;if(d)for(B=d.length-1;B>=0;B--)k=c.g=d[B],R=so(k,m,!0,c)&&R;if(k=c.g=o,R=so(k,m,!0,c)&&R,R=so(k,m,!1,c)&&R,d)for(B=0;B<d.length;B++)k=c.g=d[B],R=so(k,m,!1,c)&&R}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const d=o.g[c];for(let m=0;m<d.length;m++)z(d[m]);delete o.g[c],o.h--}}this.G=null},Ke.prototype.J=function(o,c,d,m){return this.i.add(String(o),c,!1,d,m)},Ke.prototype.K=function(o,c,d,m){return this.i.add(String(o),c,!0,d,m)};function so(o,c,d,m){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let R=!0;for(let k=0;k<c.length;++k){const B=c[k];if(B&&!B.da&&B.capture==d){const ee=B.listener,Ve=B.ha||B.src;B.fa&&he(o.i,B),R=ee.call(Ve,m)!==!1&&R}}return R&&!m.defaultPrevented}function Qw(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function xd(o){o.g=Qw(()=>{o.g=null,o.i&&(o.i=!1,xd(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Hw extends x{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:xd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(o){x.call(this),this.h=o,this.g={}}g(Pi,x);var Ed=[];function Ad(o){q(o.g,function(c,d){this.g.hasOwnProperty(d)&&Tl(c)},o),o.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),Ad(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Al=a.JSON.stringify,$w=a.JSON.parse,Gw=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Sd(){}function Cd(){}var bi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sl(){A.call(this,"d")}g(Sl,A);function Cl(){A.call(this,"c")}g(Cl,A);var rr={},Nd=null;function oo(){return Nd=Nd||new Ke}rr.Ia="serverreachability";function Rd(o){A.call(this,rr.Ia,o)}g(Rd,A);function ki(o){const c=oo();st(c,new Rd(c))}rr.STAT_EVENT="statevent";function Pd(o,c){A.call(this,rr.STAT_EVENT,o),this.stat=c}g(Pd,A);function ot(o){const c=oo();st(c,new Pd(c,o))}rr.Ja="timingevent";function bd(o,c){A.call(this,rr.Ja,o),this.size=c}g(bd,A);function Di(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function Vi(){this.g=!0}Vi.prototype.ua=function(){this.g=!1};function Kw(o,c,d,m,R,k){o.info(function(){if(o.g)if(k){var B="",ee=k.split("&");for(let de=0;de<ee.length;de++){var Ve=ee[de].split("=");if(Ve.length>1){const Le=Ve[0];Ve=Ve[1];const zt=Le.split("_");B=zt.length>=2&&zt[1]=="type"?B+(Le+"="+Ve+"&"):B+(Le+"=redacted&")}}}else B=null;else B=k;return"XMLHTTP REQ ("+m+") [attempt "+R+"]: "+c+`
`+d+`
`+B})}function Xw(o,c,d,m,R,k,B){o.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+R+"]: "+c+`
`+d+`
`+k+" "+B})}function Pr(o,c,d,m){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Jw(o,d)+(m?" "+m:"")})}function Yw(o,c){o.info(function(){return"TIMEOUT: "+c})}Vi.prototype.info=function(){};function Jw(o,c){if(!o.g)return c;if(!c)return null;try{const k=JSON.parse(c);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var d=k[o];if(!(d.length<2)){var m=d[1];if(Array.isArray(m)&&!(m.length<1)){var R=m[0];if(R!="noop"&&R!="stop"&&R!="close")for(let B=1;B<m.length;B++)m[B]=""}}}}return Al(k)}catch{return c}}var ao={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dd;function Nl(){}g(Nl,Sd),Nl.prototype.g=function(){return new XMLHttpRequest},Dd=new Nl;function Mi(o){return encodeURIComponent(String(o))}function Zw(o){var c=1;o=o.split(":");const d=[];for(;c>0&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function wn(o,c,d,m){this.j=o,this.i=c,this.l=d,this.S=m||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vd}function Vd(){this.i=null,this.g="",this.h=!1}var Md={},Rl={};function Pl(o,c,d){o.M=1,o.A=uo(Wt(c)),o.u=d,o.R=!0,Ud(o,null)}function Ud(o,c){o.F=Date.now(),lo(o),o.B=Wt(o.A);var d=o.B,m=o.S;Array.isArray(m)||(m=[String(m)]),Kd(d.i,"t",m),o.C=0,d=o.j.L,o.h=new Vd,o.g=pf(o.j,d?c:null,!o.u),o.P>0&&(o.O=new Hw(h(o.Y,o,o.g),o.P)),c=o.V,d=o.g,m=o.ba;var R="readystatechange";Array.isArray(R)||(R&&(Ed[0]=R.toString()),R=Ed);for(let k=0;k<R.length;k++){const B=vd(d,R[k],m||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=o.J?K(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),ki(),Kw(o.i,o.v,o.B,o.l,o.S,o.u)}wn.prototype.ba=function(o){o=o.target;const c=this.O;c&&_n(o)==3?c.j():this.Y(o)},wn.prototype.Y=function(o){try{if(o==this.g)e:{const ee=_n(this.g),Ve=this.g.ya(),de=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||nf(this.g)))){this.K||ee!=4||Ve==7||(Ve==8||de<=0?ki(3):ki(2)),bl(this);var c=this.g.ca();this.X=c;var d=ev(this);if(this.o=c==200,Xw(this.i,this.v,this.B,this.l,this.S,ee,c),this.o){if(this.U&&!this.L){t:{if(this.g){var m,R=this.g;if((m=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(m)){var k=m;break t}}k=null}if(o=k)Pr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kl(this,o);else{this.o=!1,this.m=3,ot(12),ir(this),Ui(this);break e}}if(this.R){o=!0;let Le;for(;!this.K&&this.C<d.length;)if(Le=tv(this,d),Le==Rl){ee==4&&(this.m=4,ot(14),o=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Md){this.m=4,ot(15),Pr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Pr(this.i,this.l,Le,null),kl(this,Le);if(Od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||d.length!=0||this.h.h||(this.m=1,ot(16),o=!1),this.o=this.o&&o,!o)Pr(this.i,this.l,d,"[Invalid Chunked Response]"),ir(this),Ui(this);else if(d.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),jl(B),B.P=!0,ot(11))}}else Pr(this.i,this.l,d,null),kl(this,d);ee==4&&ir(this),this.o&&!this.K&&(ee==4?cf(this.j,this):(this.o=!1,lo(this)))}else mv(this.g),c==400&&d.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),ir(this),Ui(this)}}}catch{}finally{}};function ev(o){if(!Od(o))return o.g.la();const c=nf(o.g);if(c==="")return"";let d="";const m=c.length,R=_n(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return ir(o),Ui(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<m;k++)o.h.h=!0,d+=o.h.i.decode(c[k],{stream:!(R&&k==m-1)});return c.length=0,o.h.g+=d,o.C=0,o.h.g}function Od(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function tv(o,c){var d=o.C,m=c.indexOf(`
`,d);return m==-1?Rl:(d=Number(c.substring(d,m)),isNaN(d)?Md:(m+=1,m+d>c.length?Rl:(c=c.slice(m,m+d),o.C=m+d,c)))}wn.prototype.cancel=function(){this.K=!0,ir(this)};function lo(o){o.T=Date.now()+o.H,Ld(o,o.H)}function Ld(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Di(h(o.aa,o),c)}function bl(o){o.D&&(a.clearTimeout(o.D),o.D=null)}wn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Yw(this.i,this.B),this.M!=2&&(ki(),ot(17)),ir(this),this.m=2,Ui(this)):Ld(this,this.T-o)};function Ui(o){o.j.I==0||o.K||cf(o.j,o)}function ir(o){bl(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,Ad(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function kl(o,c){try{var d=o.j;if(d.I!=0&&(d.g==o||Dl(d.h,o))){if(!o.L&&Dl(d.h,o)&&d.I==3){try{var m=d.Ba.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var R=m;if(R[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)mo(d),fo(d);else break e;ql(d),ot(18)}}else d.xa=R[1],0<d.xa-d.K&&R[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Di(h(d.Va,d),6e3));Fd(d.h)<=1&&d.ta&&(d.ta=void 0)}else or(d,11)}else if((o.L||d.g==o)&&mo(d),!T(c))for(R=d.Ba.g.parse(c),c=0;c<R.length;c++){let de=R[c];const Le=de[0];if(!(Le<=d.K))if(d.K=Le,de=de[1],d.I==2)if(de[0]=="c"){d.M=de[1],d.ba=de[2];const zt=de[3];zt!=null&&(d.ka=zt,d.j.info("VER="+d.ka));const ar=de[4];ar!=null&&(d.za=ar,d.j.info("SVER="+d.za));const Tn=de[5];Tn!=null&&typeof Tn=="number"&&Tn>0&&(m=1.5*Tn,d.O=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const xn=o.g;if(xn){const yo=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var k=m.h;k.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Vl(k,k.h),k.h=null))}if(m.G){const Fl=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(m.wa=Fl,ge(m.J,m.G,Fl))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),m=d;var B=o;if(m.na=ff(m,m.L?m.ba:null,m.W),B.L){Bd(m.h,B);var ee=B,Ve=m.O;Ve&&(ee.H=Ve),ee.D&&(bl(ee),lo(ee)),m.g=B}else lf(m);d.i.length>0&&po(d)}else de[0]!="stop"&&de[0]!="close"||or(d,7);else d.I==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?or(d,7):Ll(d):de[0]!="noop"&&d.l&&d.l.qa(de),d.A=0)}}ki(4)}catch{}}var nv=class{constructor(o,c){this.g=o,this.map=c}};function qd(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Fd(o){return o.h?1:o.g?o.g.size:0}function Dl(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Vl(o,c){o.g?o.g.add(c):o.h=c}function Bd(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}qd.prototype.cancel=function(){if(this.i=Wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Wd(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.G);return c}return C(o.i)}var zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rv(o,c){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const m=o[d].indexOf("=");let R,k=null;m>=0?(R=o[d].substring(0,m),k=o[d].substring(m+1)):R=o[d],c(R,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function vn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof vn?(this.l=o.l,Oi(this,o.j),this.o=o.o,this.g=o.g,Li(this,o.u),this.h=o.h,Ml(this,Xd(o.i)),this.m=o.m):o&&(c=String(o).match(zd))?(this.l=!1,Oi(this,c[1]||"",!0),this.o=qi(c[2]||""),this.g=qi(c[3]||"",!0),Li(this,c[4]),this.h=qi(c[5]||"",!0),Ml(this,c[6]||"",!0),this.m=qi(c[7]||"")):(this.l=!1,this.i=new Fi(null,this.l))}vn.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(ji(c,Qd,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(ji(c,Qd,!0),"@"),o.push(Mi(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(ji(d,d.charAt(0)=="/"?ov:sv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",ji(d,lv)),o.join("")},vn.prototype.resolve=function(o){const c=Wt(this);let d=!!o.j;d?Oi(c,o.j):d=!!o.o,d?c.o=o.o:d=!!o.g,d?c.g=o.g:d=o.u!=null;var m=o.h;if(d)Li(c,o.u);else if(d=!!o.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var R=c.h.lastIndexOf("/");R!=-1&&(m=c.h.slice(0,R+1)+m)}if(R=m,R==".."||R==".")m="";else if(R.indexOf("./")!=-1||R.indexOf("/.")!=-1){m=R.lastIndexOf("/",0)==0,R=R.split("/");const k=[];for(let B=0;B<R.length;){const ee=R[B++];ee=="."?m&&B==R.length&&k.push(""):ee==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),m&&B==R.length&&k.push("")):(k.push(ee),m=!0)}m=k.join("/")}else m=R}return d?c.h=m:d=o.i.toString()!=="",d?Ml(c,Xd(o.i)):d=!!o.m,d&&(c.m=o.m),c};function Wt(o){return new vn(o)}function Oi(o,c,d){o.j=d?qi(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Li(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function Ml(o,c,d){c instanceof Fi?(o.i=c,uv(o.i,o.l)):(d||(c=ji(c,av)),o.i=new Fi(c,o.l))}function ge(o,c,d){o.i.set(c,d)}function uo(o){return ge(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function qi(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ji(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,iv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function iv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Qd=/[#\/\?@]/g,sv=/[#\?:]/g,ov=/[#\?]/g,av=/[#\?@]/g,lv=/#/g;function Fi(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function sr(o){o.g||(o.g=new Map,o.h=0,o.i&&rv(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Fi.prototype,t.add=function(o,c){sr(this),this.i=null,o=br(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function Hd(o,c){sr(o),c=br(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function $d(o,c){return sr(o),c=br(o,c),o.g.has(c)}t.forEach=function(o,c){sr(this),this.g.forEach(function(d,m){d.forEach(function(R){o.call(c,R,m,this)},this)},this)};function Gd(o,c){sr(o);let d=[];if(typeof c=="string")$d(o,c)&&(d=d.concat(o.g.get(br(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)d=d.concat(o[c]);return d}t.set=function(o,c){return sr(this),this.i=null,o=br(this,o),$d(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=Gd(this,o),o.length>0?String(o[0]):c):c};function Kd(o,c,d){Hd(o,c),d.length>0&&(o.i=null,o.g.set(br(o,c),C(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let m=0;m<c.length;m++){var d=c[m];const R=Mi(d);d=Gd(this,d);for(let k=0;k<d.length;k++){let B=R;d[k]!==""&&(B+="="+Mi(d[k])),o.push(B)}}return this.i=o.join("&")};function Xd(o){const c=new Fi;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function br(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function uv(o,c){c&&!o.j&&(sr(o),o.i=null,o.g.forEach(function(d,m){const R=m.toLowerCase();m!=R&&(Hd(this,m),Kd(this,R,d))},o)),o.j=c}function cv(o,c){const d=new Vi;if(a.Image){const m=new Image;m.onload=f(In,d,"TestLoadImage: loaded",!0,c,m),m.onerror=f(In,d,"TestLoadImage: error",!1,c,m),m.onabort=f(In,d,"TestLoadImage: abort",!1,c,m),m.ontimeout=f(In,d,"TestLoadImage: timeout",!1,c,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=o}else c(!1)}function hv(o,c){const d=new Vi,m=new AbortController,R=setTimeout(()=>{m.abort(),In(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:m.signal}).then(k=>{clearTimeout(R),k.ok?In(d,"TestPingServer: ok",!0,c):In(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(R),In(d,"TestPingServer: error",!1,c)})}function In(o,c,d,m,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),m(d)}catch{}}function dv(){this.g=new Gw}function Ul(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Ul,Sd),Ul.prototype.g=function(){return new co(this.i,this.h)};function co(o,c){Ke.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(co,Ke),t=co.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,Wi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yd(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yd(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Bi(this):Wi(this),this.readyState==3&&Yd(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,Bi(this))},t.Na=function(o){this.g&&(this.response=o,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Wi(o)}t.setRequestHeader=function(o,c){this.A.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function Wi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Jd(o){let c="";return q(o,function(d,m){c+=m,c+=":",c+=d,c+=`\r
`}),c}function Ol(o,c,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=Jd(d),typeof o=="string"?d!=null&&Mi(d):ge(o,c,d))}function Se(o){Ke.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Se,Ke);var fv=/^https?$/i,pv=["POST","PUT"];t=Se.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,c,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dd.g(),this.g.onreadystatechange=w(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(k){Zd(this,k);return}if(o=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var R in m)d.set(R,m[R]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const k of m.keys())d.set(k,m.get(k));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(k=>k.toLowerCase()=="content-type"),R=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(pv,c,void 0)>=0)||m||R||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,B]of d)this.g.setRequestHeader(k,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){Zd(this,k)}};function Zd(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,ef(o),ho(o)}function ef(o){o.A||(o.A=!0,st(o,"complete"),st(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,st(this,"complete"),st(this,"abort"),ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ho(this,!0)),Se.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tf(this):this.Xa())},t.Xa=function(){tf(this)};function tf(o){if(o.h&&typeof s<"u"){if(o.v&&_n(o)==4)setTimeout(o.Ca.bind(o),0);else if(st(o,"readystatechange"),_n(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=k===0){let B=String(o.D).match(zd)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),m=!fv.test(B?B.toLowerCase():"")}d=m}if(d)st(o,"complete"),st(o,"success");else{o.o=6;try{var R=_n(o)>2?o.g.statusText:""}catch{R=""}o.l=R+" ["+o.ca()+"]",ef(o)}}finally{ho(o)}}}}function ho(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,c||st(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}t.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),$w(c)}};function nf(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function mv(o){const c={};o=(o.g&&_n(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<o.length;m++){if(T(o[m]))continue;var d=Zw(o[m]);const R=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const k=c[R]||[];c[R]=k,k.push(d)}W(c,function(m){return m.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function rf(o){this.za=0,this.i=[],this.j=new Vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zi("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zi("baseRetryDelayMs",5e3,o),this.Za=zi("retryDelaySeedMs",1e4,o),this.Ta=zi("forwardChannelMaxRetries",2,o),this.va=zi("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qd(o&&o.concurrentRequestLimit),this.Ba=new dv,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rf.prototype,t.ka=8,t.I=1,t.connect=function(o,c,d,m){ot(0),this.W=o,this.H=c||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.J=ff(this,null,this.W),po(this)};function Ll(o){if(sf(o),o.I==3){var c=o.V++,d=Wt(o.J);if(ge(d,"SID",o.M),ge(d,"RID",c),ge(d,"TYPE","terminate"),Qi(o,d),c=new wn(o,o.j,c),c.M=2,c.A=uo(Wt(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=c.A,d=!0),d||(c.g=pf(c.j,null),c.g.ea(c.A)),c.F=Date.now(),lo(c)}df(o)}function fo(o){o.g&&(jl(o),o.g.cancel(),o.g=null)}function sf(o){fo(o),o.v&&(a.clearTimeout(o.v),o.v=null),mo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function po(o){if(!jd(o.h)&&!o.m){o.m=!0;var c=o.Ea;P||y(),V||(P(),V=!0),v.add(c,o),o.D=0}}function gv(o,c){return Fd(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Di(h(o.Ea,o,c),hf(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const R=new wn(this,this.j,o);let k=this.o;if(this.U&&(k?(k=K(k),G(k,this.U)):k=this.U),this.u!==null||this.R||(R.J=k,k=null),this.S)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,c>4096){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=af(this,R,c),d=Wt(this.J),ge(d,"RID",o),ge(d,"CVER",22),this.G&&ge(d,"X-HTTP-Session-Id",this.G),Qi(this,d),k&&(this.R?c="headers="+Mi(Jd(k))+"&"+c:this.u&&Ol(d,this.u,k)),Vl(this.h,R),this.Ra&&ge(d,"TYPE","init"),this.S?(ge(d,"$req",c),ge(d,"SID","null"),R.U=!0,Pl(R,d,null)):Pl(R,d,c),this.I=2}}else this.I==3&&(o?of(this,o):this.i.length==0||jd(this.h)||of(this))};function of(o,c){var d;c?d=c.l:d=o.V++;const m=Wt(o.J);ge(m,"SID",o.M),ge(m,"RID",d),ge(m,"AID",o.K),Qi(o,m),o.u&&o.o&&Ol(m,o.u,o.o),d=new wn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),c&&(o.i=c.G.concat(o.i)),c=af(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Vl(o.h,d),Pl(d,m,c)}function Qi(o,c){o.H&&q(o.H,function(d,m){ge(c,m,d)}),o.l&&q({},function(d,m){ge(c,m,d)})}function af(o,c,d){d=Math.min(o.i.length,d);const m=o.l?h(o.l.Ka,o.l,o):null;e:{var R=o.i;let ee=-1;for(;;){const Ve=["count="+d];ee==-1?d>0?(ee=R[0].g,Ve.push("ofs="+ee)):ee=0:Ve.push("ofs="+ee);let de=!0;for(let Le=0;Le<d;Le++){var k=R[Le].g;const zt=R[Le].map;if(k-=ee,k<0)ee=Math.max(0,R[Le].g-100),de=!1;else try{k="req"+k+"_"||"";try{var B=zt instanceof Map?zt:Object.entries(zt);for(const[ar,Tn]of B){let xn=Tn;l(Tn)&&(xn=Al(Tn)),Ve.push(k+ar+"="+encodeURIComponent(xn))}}catch(ar){throw Ve.push(k+"type="+encodeURIComponent("_badmap")),ar}}catch{m&&m(zt)}}if(de){B=Ve.join("&");break e}}B=void 0}return o=o.i.splice(0,d),c.G=o,B}function lf(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;P||y(),V||(P(),V=!0),v.add(c,o),o.A=0}}function ql(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Di(h(o.Da,o),hf(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,uf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Di(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),fo(this),uf(this))};function jl(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function uf(o){o.g=new wn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=Wt(o.na);ge(c,"RID","rpc"),ge(c,"SID",o.M),ge(c,"AID",o.K),ge(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&ge(c,"TO",o.ia),ge(c,"TYPE","xmlhttp"),Qi(o,c),o.u&&o.o&&Ol(c,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=uo(Wt(c)),d.u=null,d.R=!0,Ud(d,o)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),ql(this),ot(19))};function mo(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function cf(o,c){var d=null;if(o.g==c){mo(o),jl(o),o.g=null;var m=2}else if(Dl(o.h,c))d=c.G,Bd(o.h,c),m=1;else return;if(o.I!=0){if(c.o)if(m==1){d=c.u?c.u.length:0,c=Date.now()-c.F;var R=o.D;m=oo(),st(m,new bd(m,d)),po(o)}else lf(o);else if(R=c.m,R==3||R==0&&c.X>0||!(m==1&&gv(o,c)||m==2&&ql(o)))switch(d&&d.length>0&&(c=o.h,c.i=c.i.concat(d)),R){case 1:or(o,5);break;case 4:or(o,10);break;case 3:or(o,6);break;default:or(o,2)}}}function hf(o,c){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*c}function or(o,c){if(o.j.info("Error code "+c),c==2){var d=h(o.bb,o),m=o.Ua;const R=!m;m=new vn(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oi(m,"https"),uo(m),R?cv(m.toString(),d):hv(m.toString(),d)}else ot(2);o.I=0,o.l&&o.l.pa(c),df(o),sf(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function df(o){if(o.I=0,o.ja=[],o.l){const c=Wd(o.h);(c.length!=0||o.i.length!=0)&&(b(o.ja,c),b(o.ja,o.i),o.h.i.length=0,C(o.i),o.i.length=0),o.l.oa()}}function ff(o,c,d){var m=d instanceof vn?Wt(d):new vn(d);if(m.g!="")c&&(m.g=c+"."+m.g),Li(m,m.u);else{var R=a.location;m=R.protocol,c=c?c+"."+R.hostname:R.hostname,R=+R.port;const k=new vn(null);m&&Oi(k,m),c&&(k.g=c),R&&Li(k,R),d&&(k.h=d),m=k}return d=o.G,c=o.wa,d&&c&&ge(m,d,c),ge(m,"VER",o.ka),Qi(o,m),m}function pf(o,c,d){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Se(new Ul({ab:d})):new Se(o.ma),c.Fa(o.L),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mf(){}t=mf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function go(){}go.prototype.g=function(o,c){return new wt(o,c)};function wt(o,c){Ke.call(this),this.g=new rf(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!T(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new kr(this)}g(wt,Ke),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Ll(this.g)},wt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Al(o),o=d);c.i.push(new nv(c.Ya++,o)),c.I==3&&po(c)},wt.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,wt.Z.N.call(this)};function gf(o){Sl.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}g(gf,Sl);function yf(){Cl.call(this),this.status=1}g(yf,Cl);function kr(o){this.g=o}g(kr,mf),kr.prototype.ra=function(){st(this.g,"a")},kr.prototype.qa=function(o){st(this.g,new gf(o))},kr.prototype.pa=function(o){st(this.g,new yf)},kr.prototype.oa=function(){st(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,g1=function(){return new go},m1=function(){return oo()},p1=rr,_c={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Zo=ao,kd.COMPLETE="complete",f1=kd,Cd.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,is=Cd,Se.prototype.listenOnce=Se.prototype.K,Se.prototype.getLastError=Se.prototype.Ha,Se.prototype.getLastErrorCode=Se.prototype.ya,Se.prototype.getStatus=Se.prototype.ca,Se.prototype.getResponseJson=Se.prototype.La,Se.prototype.getResponseText=Se.prototype.la,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Fa,d1=Se}).apply(typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore",Fp="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new s1("@firebase/firestore");function Vr(){return Tr.logLevel}function H(t,...e){if(Tr.logLevel<=oe.DEBUG){const n=e.map(Vh);Tr.debug(`Firestore (${Ai}): ${t}`,...n)}}function mn(t,...e){if(Tr.logLevel<=oe.ERROR){const n=e.map(Vh);Tr.error(`Firestore (${Ai}): ${t}`,...n)}}function mi(t,...e){if(Tr.logLevel<=oe.WARN){const n=e.map(Vh);Tr.warn(`Firestore (${Ai}): ${t}`,...n)}}function Vh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,y1(t,r,n)}function y1(t,e,n){let r=`FIRESTORE (${Ai}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mn(r),new Error(r)}function ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||y1(e,i,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class QT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HT{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Wn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new w1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class $T{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GT{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $T(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=XT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Tc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return wu(i)===wu(s)?re(i,s):wu(i)?1:-1}return re(t.length,e.length)}const YT=55296,JT=57343;function wu(t){const e=t.charCodeAt(0);return e>=YT&&e<=JT}function gi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="__name__";class $t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $t.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=$t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const r=$t.isNumericId(e),i=$t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$t.extractNumericId(e).compare($t.extractNumericId(n)):Tc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bn.fromString(e.substring(4,e.length-2))}}class fe extends $t{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const ZT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends $t{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return ZT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wp}static keyField(){return new Qe([Wp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(fe.fromString(e))}static fromName(e){return new X(fe.fromString(e).popFirst(5))}static empty(){return new X(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){if(!n)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ex(t,e,n,r){if(e===!0&&r===!0)throw new Q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zp(t){if(!X.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qp(t){if(X.isDocumentKey(t))throw new Q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function I1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ul(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Da(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ul(t);throw new Q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tx(t,e){if(e<=0)throw new Q(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t,e){const n={typeString:t};return e&&(n.value=e),n}function eo(t,e){if(!I1(t))throw new Q(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Q(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-62135596800,$p=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$p);return new we(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hp)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$p}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eo(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:De("string",we._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new we(0,0))}static max(){return new J(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=-1;function nx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new $n(i,X.empty(),e)}function rx(t){return new $n(t.readTime,t.key,Fs)}class $n{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $n(J.min(),X.empty(),Fs)}static max(){return new $n(J.max(),X.empty(),Fs)}}function ix(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==sx)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++l,l===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ax(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ci(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function hl(t){return t==null}function Va(t){return t===0&&1/t==-1/0}function lx(t){return typeof t=="number"&&Number.isInteger(t)&&!Va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function ux(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gp(e)),e=cx(t.get(n),e);return Gp(e)}function cx(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _1:n+="";break;default:n+=s}}return n}function Gp(t){return t+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uo(this.root,e,this.comparator,!0)}}class Uo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=s??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xp(this.data.getIterator())}getIteratorFrom(e){return new Xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class Xp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new Oe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x1("Invalid base64 string: "+s):s}}(e);return new Ge(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ge(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=hx.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="server_timestamp",A1="__type__",S1="__previous_value__",C1="__local_write_time__";function Oh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[A1])==null?void 0:r.stringValue)===E1}function dl(t){const e=t.mapValue.fields[S1];return Oh(e)?dl(e):e}function Bs(t){const e=Gn(t.mapValue.fields[C1].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,i,s,a,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Ma="(default)";class Ws{constructor(e,n){this.projectId=e,this.database=n||Ma}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database===Ma}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__type__",fx="__max__",Oo={mapValue:{}},R1="__vector__",Ua="value";function Xn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oh(t)?4:mx(t)?9007199254740991:px(t)?10:11:Y(28295,{value:t})}function tn(t,e){if(t===e)return!0;const n=Xn(t);if(n!==Xn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bs(t).isEqual(Bs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Gn(i.timestampValue),l=Gn(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kn(i.bytesValue).isEqual(Kn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ne(i.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ne(i.integerValue)===Ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ne(i.doubleValue),l=Ne(s.doubleValue);return a===l?Va(a)===Va(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Kp(a)!==Kp(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!tn(a[u],l[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function zs(t,e){return(t.values||[]).find(n=>tn(n,e))!==void 0}function yi(t,e){if(t===e)return 0;const n=Xn(t),r=Xn(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Ne(s.integerValue||s.doubleValue),u=Ne(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Yp(t.timestampValue,e.timestampValue);case 4:return Yp(Bs(t),Bs(e));case 5:return Tc(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Kn(s),u=Kn(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=re(l[h],u[h]);if(f!==0)return f}return re(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=re(Ne(s.latitude),Ne(a.latitude));return l!==0?l:re(Ne(s.longitude),Ne(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Jp(t.arrayValue,e.arrayValue);case 10:return function(s,a){var w,C,b,D;const l=s.fields||{},u=a.fields||{},h=(w=l[Ua])==null?void 0:w.arrayValue,f=(C=u[Ua])==null?void 0:C.arrayValue,g=re(((b=h==null?void 0:h.values)==null?void 0:b.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return g!==0?g:Jp(h,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Oo.mapValue&&a===Oo.mapValue)return 0;if(s===Oo.mapValue)return 1;if(a===Oo.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const w=Tc(u[g],f[g]);if(w!==0)return w;const C=yi(l[u[g]],h[f[g]]);if(C!==0)return C}return re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function Yp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Gn(t),r=Gn(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Jp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=yi(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function wi(t){return xc(t)}function xc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${xc(n.fields[a])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function ea(t){switch(Xn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dl(t);return e?16+ea(e):16;case 5:return 2*t.stringValue.length;case 6:return Kn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ea(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Sr(r.fields,(s,a)=>{i+=s.length+ea(a)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function Zp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ec(t){return!!t&&"integerValue"in t}function Lh(t){return!!t&&"arrayValue"in t}function em(t){return!!t&&"nullValue"in t}function tm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ta(t){return!!t&&"mapValue"in t}function px(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[N1])==null?void 0:r.stringValue)===R1}function ys(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Sr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ys(t.arrayValue.values[n]);return e}return{...t}}function mx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ta(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ys(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ys(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ta(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ta(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nt(ys(this.value))}}function P1(t){const e=[];return Sr(t.fields,(n,r)=>{const i=new Qe([n]);if(ta(r)){const s=P1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new tt(e,0,J.min(),J.min(),J.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new tt(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new tt(e,2,n,J.min(),J.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,J.min(),J.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.position=e,this.inclusive=n}}function nm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(a.referenceValue),n.key):r=yi(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function gx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{}class ke extends b1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wx(e,n,r):n==="array-contains"?new _x(e,r):n==="in"?new Tx(e,r):n==="not-in"?new xx(e,r):n==="array-contains-any"?new Ex(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vx(e,r):new Ix(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yi(n,this.value)):n!==null&&Xn(this.value)===Xn(n)&&this.matchesComparison(yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bt extends b1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bt(e,n)}matches(e){return k1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k1(t){return t.op==="and"}function D1(t){return yx(t)&&k1(t)}function yx(t){for(const e of t.filters)if(e instanceof Bt)return!1;return!0}function Ac(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+wi(t.value);if(D1(t))return t.filters.map(e=>Ac(e)).join(",");{const e=t.filters.map(n=>Ac(n)).join(",");return`${t.op}(${e})`}}function V1(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&tn(r.value,i.value)}(t,e):t instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&V1(a,i.filters[l]),!0):!1}(t,e):void Y(19439)}function M1(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${wi(n.value)}`}(t):t instanceof Bt?function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"}(t):"Filter"}class wx extends ke{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class vx extends ke{constructor(e,n){super(e,"in",n),this.keys=U1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ix extends ke{constructor(e,n){super(e,"not-in",n),this.keys=U1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function U1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class _x extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&zs(n.arrayValue,this.value)}}class Tx extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zs(this.value.arrayValue,n)}}class xx extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zs(this.value.arrayValue,n)}}class Ex extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function im(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Ax(t,e,n,r,i,s,a)}function qh(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ac(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),hl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wi(r)).join(",")),e.Te=n}return e.Te}function jh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rm(t.startAt,e.startAt)&&rm(t.endAt,e.endAt)}function Sc(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sx(t,e,n,r,i,s,a,l){return new Ni(t,e,n,r,i,s,a,l)}function O1(t){return new Ni(t)}function sm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L1(t){return t.collectionGroup!==null}function ws(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Oe(Qe.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qs(s,r))}),n.has(Qe.keyField().canonicalString())||e.Ie.push(new Qs(Qe.keyField(),r))}return e.Ie}function Yt(t){const e=Z(t);return e.Ee||(e.Ee=Cx(e,ws(t))),e.Ee}function Cx(t,e){if(t.limitType==="F")return im(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qs(i.field,s)});const n=t.endAt?new Oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oa(t.startAt.position,t.startAt.inclusive):null;return im(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cc(t,e){const n=t.filters.concat([e]);return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function La(t,e,n){return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fl(t,e){return jh(Yt(t),Yt(e))&&t.limitType===e.limitType}function q1(t){return`${qh(Yt(t))}|lt:${t.limitType}`}function Mr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>M1(i)).join(", ")}]`),hl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wi(i)).join(",")),`Target(${r})`}(Yt(t))}; limitType=${t.limitType})`}function pl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ws(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const h=nm(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,ws(r),i)||r.endAt&&!function(a,l,u){const h=nm(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,ws(r),i))}(t,e)}function Nx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j1(t){return(e,n)=>{let r=!1;for(const i of ws(t)){const s=Rx(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Rx(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?yi(u,h):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Ae(X.comparator);function gn(){return Px}const F1=new Ae(X.comparator);function ss(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=F1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pr(){return vs()}function W1(){return vs()}function vs(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}const bx=new Ae(X.comparator),kx=new Oe(X.comparator);function ie(...t){let e=kx;for(const n of t)e=e.add(n);return e}const Dx=new Oe(re);function Vx(){return Dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function z1(t){return{integerValue:""+t}}function Mx(t,e){return lx(e)?z1(e):Fh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this._=void 0}}function Ux(t,e,n){return t instanceof Hs?function(i,s){const a={fields:{[A1]:{stringValue:E1},[C1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Oh(s)&&(s=dl(s)),s&&(a.fields[S1]=s),{mapValue:a}}(n,e):t instanceof $s?H1(t,e):t instanceof Gs?$1(t,e):function(i,s){const a=Q1(i,s),l=om(a)+om(i.Ae);return Ec(a)&&Ec(i.Ae)?z1(l):Fh(i.serializer,l)}(t,e)}function Ox(t,e,n){return t instanceof $s?H1(t,e):t instanceof Gs?$1(t,e):n}function Q1(t,e){return t instanceof qa?function(r){return Ec(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hs extends ml{}class $s extends ml{constructor(e){super(),this.elements=e}}function H1(t,e){const n=G1(e);for(const r of t.elements)n.some(i=>tn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gs extends ml{constructor(e){super(),this.elements=e}}function $1(t,e){let n=G1(e);for(const r of t.elements)n=n.filter(i=>!tn(i,r));return{arrayValue:{values:n}}}class qa extends ml{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function om(t){return Ne(t.integerValue||t.doubleValue)}function G1(t){return Lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.field=e,this.transform=n}}function qx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $s&&i instanceof $s||r instanceof Gs&&i instanceof Gs?gi(r.elements,i.elements,tn):r instanceof qa&&i instanceof qa?tn(r.Ae,i.Ae):r instanceof Hs&&i instanceof Hs}(t.transform,e.transform)}class jx{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function na(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gl{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y1(t.key,un.none()):new to(t.key,t.data,un.none());{const n=t.data,r=Nt.empty();let i=new Oe(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Nr(t.key,r,new Lt(i.toArray()),un.none())}}function Fx(t,e,n){t instanceof to?function(i,s,a){const l=i.value.clone(),u=lm(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(i,s,a){if(!na(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=lm(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(X1(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Is(t,e,n,r){return t instanceof to?function(s,a,l,u){if(!na(s.precondition,a))return l;const h=s.value.clone(),f=um(s.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nr?function(s,a,l,u){if(!na(s.precondition,a))return l;const h=um(s.fieldTransforms,u,a),f=a.data;return f.setAll(X1(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,a,l){return na(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Bx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Q1(r.transform,i||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,s))}return n||null}function am(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gi(r,i,(s,a)=>qx(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class to extends gl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nr extends gl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function X1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lm(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Ox(a,l,n[i]))}return r}function um(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Ux(s,a,e))}return r}class Y1 extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx extends gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Fx(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Is(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Is(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=W1();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=K1(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>am(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>am(n,r))}}class Bh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return bx}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Bh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,se;function $x(t){switch(t){case O.OK:return Y(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function J1(t){if(t===void 0)return mn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Pe.OK:return O.OK;case Pe.CANCELLED:return O.CANCELLED;case Pe.UNKNOWN:return O.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return O.INTERNAL;case Pe.UNAVAILABLE:return O.UNAVAILABLE;case Pe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Pe.NOT_FOUND:return O.NOT_FOUND;case Pe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Pe.ABORTED:return O.ABORTED;case Pe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Pe.DATA_LOSS:return O.DATA_LOSS;default:return Y(39323,{code:t})}}(se=Pe||(Pe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Bn([4294967295,4294967295],0);function cm(t){const e=Gx().encode(t),n=new h1;return n.update(e),new Uint8Array(n.digest())}function hm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bn([n,r],0),new Bn([i,s],0)]}class Wh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new os(`Invalid padding: ${n}`);if(r<0)throw new os(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new os(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new os(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bn.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Bn.fromNumber(r)));return i.compare(Kx)===1&&(i=new Bn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cm(e),[r,i]=hm(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Wh(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=cm(e),[r,i]=hm(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class os extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yl(J.min(),i,new Ae(re),gn(),ie())}}class no{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new no(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Z1{constructor(e,n){this.targetId=e,this.Ce=n}}class ew{constructor(e,n,r=Ge.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dm{constructor(){this.ve=0,this.Fe=fm(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new no(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=fm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Xx{constructor(e){this.Ge=e,this.ze=new Map,this.je=gn(),this.Je=Lo(),this.He=Lo(),this.Ye=new Ae(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Sc(s))if(r===0){const a=new X(s.path);this.et(n,a,tt.newNoDocument(a,J.min()))}else ue(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Kn(r).toUint8Array()}catch(u){if(u instanceof x1)return mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Wh(a,i,s)}catch(u){return mi(u instanceof os?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Sc(l.target)){const u=new X(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,tt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=ie();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new yl(e,n,this.Ye,this.je,r);return this.je=gn(),this.Je=Lo(),this.He=Lo(),this.Ye=new Ae(re),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Oe(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Oe(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dm),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lo(){return new Ae(X.comparator)}function fm(){return new Ae(X.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class e2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nc(t,e){return t.useProto3Json||hl(e)?e:{value:e}}function ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function t2(t,e){return ja(t,e.toTimestamp())}function Jt(t){return ue(!!t,49232),J.fromTimestamp(function(n){const r=Gn(n);return new we(r.seconds,r.nanos)}(t))}function zh(t,e){return Rc(t,e).canonicalString()}function Rc(t,e){const n=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nw(t){const e=fe.fromString(t);return ue(aw(e),10190,{key:e.toString()}),e}function Pc(t,e){return zh(t.databaseId,e.path)}function vu(t,e){const n=nw(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(iw(n))}function rw(t,e){return zh(t.databaseId,e)}function n2(t){const e=nw(t);return e.length===4?fe.emptyPath():iw(e)}function bc(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iw(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pm(t,e,n){return{name:Pc(t,e),fields:n.value.mapValue.fields}}function r2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(ue(f===void 0||typeof f=="string",58123),Ge.fromBase64String(f||"")):(ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ge.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?O.UNKNOWN:J1(h.code);return new Q(f,h.message||"")}(a);n=new ew(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vu(t,r.document.name),s=Jt(r.document.updateTime),a=r.document.createTime?Jt(r.document.createTime):J.min(),l=new Nt({mapValue:{fields:r.document.fields}}),u=tt.newFoundDocument(i,s,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new ra(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vu(t,r.document),s=r.readTime?Jt(r.readTime):J.min(),a=tt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ra([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vu(t,r.document),s=r.removedTargetIds||[];n=new ra([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Hx(i,s),l=r.targetId;n=new Z1(l,a)}}return n}function i2(t,e){let n;if(e instanceof to)n={update:pm(t,e.key,e.value)};else if(e instanceof Y1)n={delete:Pc(t,e.key)};else if(e instanceof Nr)n={update:pm(t,e.key,e.data),updateMask:f2(e.fieldMask)};else{if(!(e instanceof Wx))return Y(16599,{Vt:e.type});n={verify:Pc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Hs)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $s)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qa)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Y(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:t2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function s2(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Jt(i.updateTime):Jt(s);return a.isEqual(J.min())&&(a=Jt(s)),new jx(a,i.transformResults||[])}(n,e))):[]}function o2(t,e){return{documents:[rw(t,e.path)]}}function a2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rw(t,i);const s=function(h){if(h.length!==0)return ow(Bt.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(f=>function(w){return{field:Ur(w.field),direction:c2(w.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Nc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function l2(t){let e=n2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){const w=sw(g);return w instanceof Bt&&D1(w)?w.getFilters():[w]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(w=>function(b){return new Qs(Or(b.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(g){let w;return w=typeof g=="object"?g.value:g,hl(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(g){const w=!!g.before,C=g.values||[];return new Oa(C,w)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const w=!g.before,C=g.values||[];return new Oa(C,w)}(n.endAt)),Sx(e,i,a,s,l,"F",u,h)}function u2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Or(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Or(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Or(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Or(n.unaryFilter.field);return ke.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Or(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bt.create(n.compositeFilter.filters.map(r=>sw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function c2(t){return Yx[t]}function h2(t){return Jx[t]}function d2(t){return Zx[t]}function Ur(t){return{fieldPath:t.canonicalString()}}function Or(t){return Qe.fromServerFormat(t.fieldPath)}function ow(t){return t instanceof ke?function(n){if(n.op==="=="){if(tm(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NAN"}};if(em(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tm(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NAN"}};if(em(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(n.field),op:h2(n.op),value:n.value}}}(t):t instanceof Bt?function(n){const r=n.getFilters().map(i=>ow(i));return r.length===1?r[0]:{compositeFilter:{op:d2(n.op),filters:r}}}(t):Y(54877,{filter:t})}function f2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,i,s=J.min(),a=J.min(),l=Ge.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.yt=e}}function m2(t){const e=l2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?La(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Cn=new y2}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve($n.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class y2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class ht{static withCacheSize(e){return new ht(e,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ht.DEFAULT_COLLECTION_PERCENTILE=10,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ht.DEFAULT=new ht(lw,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ht.DISABLED=new ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vi(0)}static cr(){return new vi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="LruGarbageCollector",w2=1048576;function ym([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class v2{constructor(e){this.Ir=e,this.buffer=new Oe(ym),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ym(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(gm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ci(n)?H(gm,"Ignoring IndexedDB error during garbage collection: ",n):await Si(n)}await this.Vr(3e5)})}}class _2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(cl.ce);const r=new v2(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(mm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,l=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Vr()<=oe.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function T2(t,e){return new _2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Is(r.mutation,i,Lt.empty(),we.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=pr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=ss();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=gn();const a=vs(),l=function(){return vs()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Nr)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Is(f.mutation,h,f.mutation.getFieldMask(),we.now())):a.set(h.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>l.set(h,new E2(f,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=vs();let i=new Ae((a,l)=>a-l),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Lt.empty();f=l.applyToLocalView(h,f),r.set(u,f);const g=(i.get(l.batchId)||ie()).add(u);i=i.insert(l.batchId,g)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,g=W1();f.forEach(w=>{if(!s.has(w)){const C=K1(n.get(w),r.get(w));C!==null&&g.set(w,C),s=s.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return L.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(pr());let l=Fs,u=s;return a.next(h=>L.forEach(h,(f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(w=>{u=u.insert(f,w)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ie())).next(f=>({batchId:l,changes:B1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=ss();return this.indexManager.getCollectionParents(e,s).next(l=>L.forEach(l,u=>{const h=function(g,w){return new Ni(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,w)=>{a=a.insert(g,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,tt.newInvalidDocument(f)))});let l=ss();return a.forEach((u,h)=>{const f=s.get(u);f!==void 0&&Is(f.mutation,h,Lt.empty(),we.now()),pl(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:m2(i.bundledQuery),readTime:Jt(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.overlays=new Ae(X.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=pr(),s=n.length+1,a=new X(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=pr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=pr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return L.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Qx(n,r));let s=this.qr.get(n);s===void 0&&(s=ie(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.Qr=new Oe(qe.$r),this.Ur=new Oe(qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new qe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new fe([])),r=new qe(n,e),i=new qe(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new fe([])),r=new qe(n,e),i=new qe(n,e+1);let s=ie();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new qe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(qe.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zx(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new qe(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Uh:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const l=this.Xr(a.Yr);s.push(l)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(re);return n.forEach(i=>{const s=new qe(i,0),a=new qe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{r=r.add(l.Yr)})}),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const a=new qe(new X(s),0);let l=new Oe(re);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Yr)),!0)},a),L.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new qe(n,0),i=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.ri=e,this.docs=function(){return new Ae(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const a=n.path,l=new X(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||ix(rx(f),r)<=0||(i.has(f.key)||pl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ii(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b2(this)}getSize(e){return L.resolve(this.size)}}class b2 extends x2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.persistence=e,this.si=new Cr(n=>qh(n),jh),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new Qh,this.targetCount=0,this.ai=vi.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.ui={},this.overlays={},this.ci=new cl(0),this.li=!1,this.li=!0,this.hi=new N2,this.referenceDelegate=e(this),this.Pi=new k2(this),this.indexManager=new g2,this.remoteDocumentCache=function(i){return new P2(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new p2(n),this.Ii=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new R2(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new D2(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return L.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class D2 extends ox{constructor(e){super(),this.currentSequenceNumber=e}}class Hh{constructor(e){this.persistence=e,this.Ri=new Qh,this.Vi=null}static mi(e){return new Hh(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fa{constructor(e,n){this.persistence=e,this.pi=new Cr(r=>ux(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=T2(this,n)}static mi(e,n){return new Fa(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return L.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(l=>{l||(r++,s.removeEntry(a,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ea(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $h(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return S_()?8:ax(E_())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new V2;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Vr()<=oe.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Mr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(Vr()<=oe.DEBUG&&H("QueryEngine","Query:",Mr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Vr()<=oe.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Mr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yt(n))):L.resolve())}ys(e,n){if(sm(n))return L.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=La(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ie(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,a,u.readTime)?this.ys(e,La(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,i){return sm(n)||i.isEqual(J.min())?L.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?L.resolve(null):(Vr()<=oe.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mr(n)),this.vs(e,a,n,nx(i,Fs)).next(l=>l))})}Ds(e,n){let r=new Oe(j1(e));return n.forEach((i,s)=>{pl(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Vr()<=oe.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Mr(n)),this.ps.getDocumentsMatchingQuery(e,n,$n.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="LocalStore",U2=3e8;class O2{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ae(re),this.xs=new Cr(s=>qh(s),jh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function L2(t,e,n,r){return new O2(t,e,n,r)}async function cw(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=ie();for(const h of i){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function q2(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const g=h.batch,w=g.keys();let C=L.resolve();return w.forEach(b=>{C=C.next(()=>f.getEntry(u,b)).next(D=>{const M=h.docVersions.get(b);ue(M!==null,48541),D.version.compareTo(M)<0&&(g.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ie();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hw(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function j2(t,e){const n=Z(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((f,g)=>{const w=i.get(g);if(!w)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,g)));let C=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?C=C.withResumeToken(Ge.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,r)),i=i.insert(g,C),function(D,M,E){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=U2?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(w,C,f)&&l.push(n.Pi.updateTargetData(s,C))});let u=gn(),h=ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(F2(s,a,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!r.isEqual(J.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return L.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ms=i,s))}function F2(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=gn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):H(Gh,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:a,qs:i}})}function B2(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W2(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new bn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function kc(t,e,n){const r=Z(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ci(a))throw a;H(Gh,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function wm(t,e,n){const r=Z(t);let i=J.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const g=Z(u),w=g.xs.get(f);return w!==void 0?L.resolve(g.Ms.get(w)):g.Pi.getTargetData(h,f)}(r,a,Yt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:J.min(),n?s:ie())).next(l=>(z2(r,Nx(e),l),{documents:l,Qs:s})))}function z2(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class vm{constructor(){this.activeTargetIds=Vx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q2{constructor(){this.Mo=new vm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="ConnectivityMonitor";class _m{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(Im,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(Im,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo=null;function Dc(){return qo===null?qo=function(){return 268435456+Math.round(2147483648*Math.random())}():qo++,"0x"+qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="RestConnection",$2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ma?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=Dc(),l=this.zo(e,n.toUriEncodedString());H(Iu,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(l),f=kh(h);return this.Jo(e,l,u,r,f).then(g=>(H(Iu,`Received RPC '${e}' ${a}: `,g),g),g=>{throw mi(Iu,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",r),g})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ai}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=$2[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class X2 extends G2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=Dc();return new Promise((l,u)=>{const h=new d1;h.setWithCredentials(!0),h.listenOnce(f1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Zo.NO_ERROR:const g=h.getResponseJson();H(Je,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Zo.TIMEOUT:H(Je,`RPC '${e}' ${a} timed out`),u(new Q(O.DEADLINE_EXCEEDED,"Request time out"));break;case Zo.HTTP_ERROR:const w=h.getStatus();if(H(Je,`RPC '${e}' ${a} failed with status:`,w,"response text:",h.getResponseText()),w>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);const b=C==null?void 0:C.error;if(b&&b.status&&b.message){const D=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(_)>=0?_:O.UNKNOWN}(b.status);u(new Q(D,b.message))}else u(new Q(O.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Q(O.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(Je,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);H(Je,`RPC '${e}' ${a} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=Dc(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=g1(),l=m1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");H(Je,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=a.createWebChannel(f,u);this.I_(g);let w=!1,C=!1;const b=new K2({Yo:M=>{C?H(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(w||(H(Je,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),H(Je,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},Zo:()=>g.close()}),D=(M,E,_)=>{M.listen(E,S=>{try{_(S)}catch(U){setTimeout(()=>{throw U},0)}})};return D(g,is.EventType.OPEN,()=>{C||(H(Je,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),D(g,is.EventType.CLOSE,()=>{C||(C=!0,H(Je,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(g))}),D(g,is.EventType.ERROR,M=>{C||(C=!0,mi(Je,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),b.a_(new Q(O.UNAVAILABLE,"The operation could not be completed")))}),D(g,is.EventType.MESSAGE,M=>{var E;if(!C){const _=M.data[0];ue(!!_,16349);const S=_,U=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(U){H(Je,`RPC '${e}' stream ${i} received error:`,U);const P=U.status;let V=function(I){const x=Pe[I];if(x!==void 0)return J1(x)}(P),v=U.message;V===void 0&&(V=O.INTERNAL,v="Unknown error status: "+P+" with message "+U.message),C=!0,b.a_(new Q(V,v)),g.close()}else H(Je,`RPC '${e}' stream ${i} received:`,_),b.u_(_)}}),D(l,p1.STAT_EVENT,M=>{M.stat===_c.PROXY?H(Je,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===_c.NOPROXY&&H(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function _u(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){return new e2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="PersistentStream";class fw{constructor(e,n,r,i,s,a,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(Tm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(Tm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y2 extends fw{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r2(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?Jt(a.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=bc(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Sc(u)?{documents:o2(s,u)}:{query:a2(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=tw(s,a.resumeToken);const h=Nc(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(J.min())>0){l.readTime=ja(s,a.snapshotVersion.toTimestamp());const h=Nc(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=u2(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=bc(this.serializer),n.removeTarget=e,this.q_(n)}}class J2 extends fw{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=s2(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bc(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>i2(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{}class eE extends Z2{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Rc(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(O.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Rc(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(O.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mn(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="RemoteStore";class nE{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Rr(this)&&(H(xr,"Restarting streams for network reachability change."),await async function(u){const h=Z(u);h.Ea.add(4),await ro(h),h.Ra.set("Unknown"),h.Ea.delete(4),await vl(h)}(this))})}),this.Ra=new tE(r,i)}}async function vl(t){if(Rr(t))for(const e of t.da)await e(!0)}async function ro(t){for(const e of t.da)await e(!1)}function pw(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jh(n)?Yh(n):Ri(n).O_()&&Xh(n,e))}function Kh(t,e){const n=Z(t),r=Ri(n);n.Ia.delete(e),r.O_()&&mw(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rr(n)&&n.Ra.set("Unknown"))}function Xh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ri(t).Y_(e)}function mw(t,e){t.Va.Ue(e),Ri(t).Z_(e)}function Yh(t){t.Va=new Xx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ri(t).start(),t.Ra.ua()}function Jh(t){return Rr(t)&&!Ri(t).x_()&&t.Ia.size>0}function Rr(t){return Z(t).Ea.size===0}function gw(t){t.Va=void 0}async function rE(t){t.Ra.set("Online")}async function iE(t){t.Ia.forEach((e,n)=>{Xh(t,e)})}async function sE(t,e){gw(t),Jh(t)?(t.Ra.ha(e),Yh(t)):t.Ra.set("Unknown")}async function oE(t,e,n){if(t.Ra.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){H(xr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ba(t,r)}else if(e instanceof ra?t.Va.Ze(e):e instanceof Z1?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await hw(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Ge.EMPTY_BYTE_STRING,f.snapshotVersion)),mw(s,u);const g=new bn(f.target,u,h,f.sequenceNumber);Xh(s,g)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){H(xr,"Failed to raise snapshot:",r),await Ba(t,r)}}async function Ba(t,e,n){if(!Ci(e))throw e;t.Ea.add(1),await ro(t),t.Ra.set("Offline"),n||(n=()=>hw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(xr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vl(t)})}function yw(t,e){return e().catch(n=>Ba(t,n,e))}async function Il(t){const e=Z(t),n=Yn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Uh;for(;aE(e);)try{const i=await B2(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,lE(e,i)}catch(i){await Ba(e,i)}ww(e)&&vw(e)}function aE(t){return Rr(t)&&t.Ta.length<10}function lE(t,e){t.Ta.push(e);const n=Yn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ww(t){return Rr(t)&&!Yn(t).x_()&&t.Ta.length>0}function vw(t){Yn(t).start()}async function uE(t){Yn(t).ra()}async function cE(t){const e=Yn(t);for(const n of t.Ta)e.ea(n.mutations)}async function hE(t,e,n){const r=t.Ta.shift(),i=Bh.from(r,e,n);await yw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Il(t)}async function dE(t,e){e&&Yn(t).X_&&await async function(r,i){if(function(a){return $x(a)&&a!==O.ABORTED}(i.code)){const s=r.Ta.shift();Yn(r).B_(),await yw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Il(r)}}(t,e),ww(t)&&vw(t)}async function xm(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),H(xr,"RemoteStore received new credentials");const r=Rr(n);n.Ea.add(3),await ro(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vl(n)}async function fE(t,e){const n=Z(t);e?(n.Ea.delete(2),await vl(n)):e||(n.Ea.add(2),await ro(n),n.Ra.set("Unknown"))}function Ri(t){return t.ma||(t.ma=function(n,r,i){const s=Z(n);return s.sa(),new Y2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:rE.bind(null,t),t_:iE.bind(null,t),r_:sE.bind(null,t),H_:oE.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Jh(t)?Yh(t):t.Ra.set("Unknown")):(await t.ma.stop(),gw(t))})),t.ma}function Yn(t){return t.fa||(t.fa=function(n,r,i){const s=Z(n);return s.sa(),new J2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:uE.bind(null,t),r_:dE.bind(null,t),ta:cE.bind(null,t),na:hE.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Il(t)):(await t.fa.stop(),t.Ta.length>0&&(H(xr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Zh(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(t,e){if(mn("AsyncQueue",`${e}: ${t}`),Ci(t))return new Q(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{static emptySet(e){return new ri(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=ss(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ri;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.ga=new Ae(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ii{constructor(e,n,r,i,s,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ii(e,n,ri.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class mE{constructor(){this.queries=Am(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Z(n),s=i.queries;i.queries=Am(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new Q(O.ABORTED,"Firestore shutting down"))}}function Am(){return new Cr(t=>q1(t),fl)}async function gE(t,e){const n=Z(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new pE,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=ed(a,`Initialization of query '${Mr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&td(n)}async function yE(t,e){const n=Z(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wE(t,e){const n=Z(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(i)&&(r=!0);a.wa=i}}r&&td(n)}function vE(t,e,n){const r=Z(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function td(t){t.Ca.forEach(e=>{e.next()})}var Vc,Sm;(Sm=Vc||(Vc={})).Ma="default",Sm.Cache="cache";class IE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ii(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ii.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class _w{constructor(e){this.key=e}}class _E{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=j1(e),this.tu=new ri(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Em,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{const w=i.get(f),C=pl(this.query,g)?g:null,b=!!w&&this.mutatedKeys.has(w.key),D=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;w&&C?w.data.isEqual(C.data)?b!==D&&(r.track({type:3,doc:C}),M=!0):this.su(w,C)||(r.track({type:2,doc:C}),M=!0,(u&&this.eu(C,u)>0||h&&this.eu(C,h)<0)&&(l=!0)):!w&&C?(r.track({type:0,doc:C}),M=!0):w&&!C&&(r.track({type:1,doc:w}),M=!0,(u||h)&&(l=!0)),M&&(C?(a=a.add(C),s=D?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,g)=>function(C,b){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:M})}};return D(C)-D(b)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Ii(this.query,e.tu,s,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Em,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _w(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Iw(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ii.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const nd="SyncEngine";class TE{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xE{constructor(e){this.key=e,this.hu=!1}}class EE{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Cr(l=>q1(l),fl),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(X.comparator),this.Au=new Map,this.Ru=new Qh,this.Vu={},this.mu=new Map,this.fu=vi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AE(t,e,n=!0){const r=Cw(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Tw(r,e,n,!0),i}async function SE(t,e){const n=Cw(t);await Tw(n,e,!0,!1)}async function Tw(t,e,n,r){const i=await W2(t.localStore,Yt(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await CE(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&pw(t.remoteStore,i),l}async function CE(t,e,n,r,i){t.pu=(g,w,C)=>async function(D,M,E,_){let S=M.view.ru(E);S.Cs&&(S=await wm(D.localStore,M.query,!1).then(({documents:v})=>M.view.ru(v,S)));const U=_&&_.targetChanges.get(M.targetId),P=_&&_.targetMismatches.get(M.targetId)!=null,V=M.view.applyChanges(S,D.isPrimaryClient,U,P);return Nm(D,M.targetId,V.au),V.snapshot}(t,g,w,C);const s=await wm(t.localStore,e,!0),a=new _E(e,s.Qs),l=a.ru(s.documents),u=no.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,u);Nm(t,n,h.au);const f=new TE(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function NE(t,e,n){const r=Z(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!fl(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kh(r.remoteStore,i.targetId),Mc(r,i.targetId)}).catch(Si)):(Mc(r,i.targetId),await kc(r.localStore,i.targetId,!0))}async function RE(t,e){const n=Z(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kh(n.remoteStore,r.targetId))}async function PE(t,e,n){const r=OE(t);try{const i=await function(a,l){const u=Z(a),h=we.now(),f=l.reduce((C,b)=>C.add(b.key),ie());let g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let b=gn(),D=ie();return u.Ns.getEntries(C,f).next(M=>{b=M,b.forEach((E,_)=>{_.isValidDocument()||(D=D.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,b)).next(M=>{g=M;const E=[];for(const _ of l){const S=Bx(_,g.get(_.key).overlayedDocument);S!=null&&E.push(new Nr(_.key,S,P1(S.value.mapValue),un.exists(!0)))}return u.mutationQueue.addMutationBatch(C,h,E,l)}).next(M=>{w=M;const E=M.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(C,M.batchId,E)})}).then(()=>({batchId:w.batchId,changes:B1(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new Ae(re)),h=h.insert(l,u),a.Vu[a.currentUser.toKey()]=h}(r,i.batchId,n),await io(r,i.changes),await Il(r.remoteStore)}catch(i){const s=ed(i,"Failed to persist write");n.reject(s)}}async function xw(t,e){const n=Z(t);try{const r=await j2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?ue(a.hu,14607):i.removedDocuments.size>0&&(ue(a.hu,42227),a.hu=!1))}),await io(n,r,e)}catch(r){await Si(r)}}function Cm(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let h=!1;u.queries.forEach((f,g)=>{for(const w of g.Sa)w.va(l)&&(h=!0)}),h&&td(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bE(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Ae(X.comparator);a=a.insert(s,tt.newNoDocument(s,J.min()));const l=ie().add(s),u=new yl(J.min(),new Map,new Ae(re),a,l);await xw(r,u),r.du=r.du.remove(s),r.Au.delete(e),rd(r)}else await kc(r.localStore,e,!1).then(()=>Mc(r,e,n)).catch(Si)}async function kE(t,e){const n=Z(t),r=e.batch.batchId;try{const i=await q2(n.localStore,e);Aw(n,r,null),Ew(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await io(n,i)}catch(i){await Si(i)}}async function DE(t,e,n){const r=Z(t);try{const i=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(ue(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);Aw(r,e,n),Ew(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await io(r,i)}catch(i){await Si(i)}}function Ew(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Aw(t,e,n){const r=Z(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Mc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Sw(t,r)})}function Sw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rd(t))}function Nm(t,e,n){for(const r of n)r instanceof Iw?(t.Ru.addReference(r.key,e),VE(t,r)):r instanceof _w?(H(nd,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Sw(t,r.key)):Y(19791,{wu:r})}function VE(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(nd,"New document in limbo: "+n),t.Eu.add(r),rd(t))}function rd(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(fe.fromString(e)),r=t.fu.next();t.Au.set(r,new xE(n)),t.du=t.du.insert(n,r),pw(t.remoteStore,new bn(Yt(O1(n.path)),r,"TargetPurposeLimboResolution",cl.ce))}}async function io(t,e,n){const r=Z(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{a.push(r.pu(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=$h.As(u.targetId,h);s.push(g)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(u,h){const f=Z(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,w=>L.forEach(w.Es,C=>f.persistence.referenceDelegate.addReference(g,w.targetId,C)).next(()=>L.forEach(w.ds,C=>f.persistence.referenceDelegate.removeReference(g,w.targetId,C)))))}catch(g){if(!Ci(g))throw g;H(Gh,"Failed to update sequence numbers: "+g)}for(const g of h){const w=g.targetId;if(!g.fromCache){const C=f.Ms.get(w),b=C.snapshotVersion,D=C.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(w,D)}}}(r.localStore,s))}async function ME(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){H(nd,"User change. New user:",e.toKey());const r=await cw(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new Q(O.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await io(n,r.Ls)}}function UE(t,e){const n=Z(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let i=ie();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function Cw(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bE.bind(null,e),e.Pu.H_=wE.bind(null,e.eventManager),e.Pu.yu=vE.bind(null,e.eventManager),e}function OE(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DE.bind(null,e),e}class Wa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return L2(this.persistence,new M2,e.initialUser,this.serializer)}Cu(e){return new uw(Hh.mi,this.serializer)}Du(e){return new Q2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wa.provider={build:()=>new Wa};class LE extends Wa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof Fa,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ht.withCacheSize(this.cacheSizeBytes):ht.DEFAULT;return new uw(r=>Fa.mi(r,n),this.serializer)}}class Uc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ME.bind(null,this.syncEngine),await fE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mE}()}createDatastore(e){const n=wl(e.databaseInfo.databaseId),r=function(s){return new X2(s)}(e.databaseInfo);return function(s,a,l,u){return new eE(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new nE(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Cm(this.syncEngine,n,0),function(){return _m.v()?new _m:new H2}())}createSyncEngine(e,n){return function(i,s,a,l,u,h,f){const g=new EE(i,s,a,l,u,h);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Z(i);H(xr,"RemoteStore shutting down."),s.Ea.add(5),await ro(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Uc.provider={build:()=>new Uc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn="FirestoreClient";class jE{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=Mh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{H(Jn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H(Jn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ed(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tu(t,e){t.asyncQueue.verifyOperationInProgress(),H(Jn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Rm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FE(t);H(Jn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xm(e.remoteStore,i)),t._onlineComponents=e}async function FE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Jn,"Using user provided OfflineComponentProvider");try{await Tu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),await Tu(t,new Wa)}}else H(Jn,"Using default OfflineComponentProvider"),await Tu(t,new LE(void 0));return t._offlineComponents}async function Nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Jn,"Using user provided OnlineComponentProvider"),await Rm(t,t._uninitializedComponentsProvider._online)):(H(Jn,"Using default OnlineComponentProvider"),await Rm(t,new Uc))),t._onlineComponents}function BE(t){return Nw(t).then(e=>e.syncEngine)}async function WE(t){const e=await Nw(t),n=e.eventManager;return n.onListen=AE.bind(null,e.syncEngine),n.onUnlisten=NE.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SE.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RE.bind(null,e.syncEngine),n}function zE(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const f=new qE({next:w=>{f.Nu(),a.enqueueAndForget(()=>yE(s,g)),w.fromCache&&u.source==="server"?h.reject(new Q(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),g=new IE(l,f,{includeMetadataChanges:!0,qa:!0});return gE(s,g)}(await WE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firestore.googleapis.com",bm=!0;class km{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=bm}else this.host=e.host,this.ssl=e.ssl??bm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w2)throw new Q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ex("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rw(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _l{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zT;switch(r.type){case"firstParty":return new GT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pm.get(n);r&&(H("ComponentProvider","Removing Datastore"),Pm.delete(n),r.terminate())}(this),Promise.resolve()}}function QE(t,e,n,r={}){var h;t=Da(t,_l);const i=kh(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(v_(`https://${l}`),x_("Firestore",!0)),s.host!==Pw&&s.host!==l&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!Pa(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Ze.MOCK_USER;else{f=I_(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ze(w)}t._authCredentials=new QT(new w1(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class Fe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fe(this.firestore,e,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eo(n,Fe._jsonSchema))return new Fe(e,r||null,new X(fe.fromString(n.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:De("string",Fe._jsonSchemaVersion),referencePath:De("string")};class zn extends nr{constructor(e,n,r){super(e,n,O1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fe(this.firestore,null,new X(e))}withConverter(e){return new zn(this.firestore,e,this._path)}}function za(t,e,...n){if(t=pi(t),v1("collection","path",e),t instanceof _l){const r=fe.fromString(e,...n);return Qp(r),new zn(t,null,r)}{if(!(t instanceof Fe||t instanceof zn))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Qp(r),new zn(t.firestore,null,r)}}function HE(t,e,...n){if(t=pi(t),arguments.length===1&&(e=Mh.newId()),v1("doc","path",e),t instanceof _l){const r=fe.fromString(e,...n);return zp(r),new Fe(t,null,new X(r))}{if(!(t instanceof Fe||t instanceof zn))throw new Q(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return zp(r),new Fe(t.firestore,t instanceof zn?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="AsyncQueue";class Vm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const r=_u();r&&H(Dm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=_u();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_u();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ci(e))throw e;H(Dm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,mn("INTERNAL UNHANDLED ERROR: ",Mm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Zh.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:Mm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Mm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class id extends _l{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Vm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vm(e),this._firestoreClient=void 0,await e}}}function $E(t,e){const n=typeof t=="object"?t:DT(),r=typeof t=="string"?t:Ma,i=NT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=y_("firestore");s&&QE(i,...s)}return i}function bw(t){if(t._terminated)throw new Q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GE(t),t._firestoreClient}function GE(t){var r,i,s;const e=t._freezeSettings(),n=function(l,u,h,f){return new dx(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Rw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jE(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rt(Ge.fromBase64String(e))}catch(n){throw new Q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rt(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eo(e,Rt._jsonSchema))return Rt.fromBase64String(e.bytes)}}Rt._jsonSchemaVersion="firestore/bytes/1.0",Rt._jsonSchema={type:De("string",Rt._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zt._jsonSchemaVersion}}static fromJSON(e){if(eo(e,Zt._jsonSchema))return new Zt(e.latitude,e.longitude)}}Zt._jsonSchemaVersion="firestore/geoPoint/1.0",Zt._jsonSchema={type:De("string",Zt._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:en._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eo(e,en._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new en(e.vectorValues);throw new Q(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}en._jsonSchemaVersion="firestore/vectorValue/1.0",en._jsonSchema={type:De("string",en._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=/^__.*__$/;class XE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new to(e,this.data,n,this.fieldTransforms)}}function kw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class ad{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ad({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qa(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kw(this.Ac)&&KE.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YE{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wl(e)}Cc(e,n,r,i=!1){return new ad({Ac:e,methodName:n,Dc:r,path:Qe.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dw(t){const e=t._freezeSettings(),n=wl(t._databaseId);return new YE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JE(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Uw("Data must be an object, but it was:",a,r);const l=Vw(r,a);let u,h;if(s.merge)u=new Lt(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const w=eA(e,g,n);if(!a.contains(w))throw new Q(O.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nA(f,w)||f.push(w)}u=new Lt(f),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new XE(new Nt(l),u,h)}class ld extends od{_toFieldTransform(e){return new Lx(e.path,new Hs)}isEqual(e){return e instanceof ld}}function ZE(t,e,n,r=!1){return ud(n,t.Cc(r?4:3,e))}function ud(t,e){if(Mw(t=pi(t)))return Uw("Unsupported field value:",e,t),Vw(t,e);if(t instanceof od)return function(r,i){if(!kw(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=ud(l,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=we.fromDate(r);return{timestampValue:ja(i.serializer,s)}}if(r instanceof we){const s=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ja(i.serializer,s)}}if(r instanceof Zt)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rt)return{bytesValue:tw(i.serializer,r._byteString)};if(r instanceof Fe){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zh(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof en)return function(a,l){return{mapValue:{fields:{[N1]:{stringValue:R1},[Ua]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Fh(l.serializer,h)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ul(r)}`)}(t,e)}function Vw(t,e){const n={};return T1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(t,(r,i)=>{const s=ud(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Zt||t instanceof Rt||t instanceof Fe||t instanceof od||t instanceof en)}function Uw(t,e,n){if(!Mw(n)||!I1(n)){const r=ul(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function eA(t,e,n){if((e=pi(e))instanceof sd)return e._internalPath;if(typeof e=="string")return Ow(t,e);throw Qa("Field path arguments must be of type string or ",t,!1,void 0,n)}const tA=new RegExp("[~\\*/\\[\\]]");function Ow(t,e,n){if(e.search(tA)>=0)throw Qa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw Qa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qa(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Q(O.INVALID_ARGUMENT,l+t+u)}function nA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rA extends Lw{data(){return super.data()}}function cd(t,e){return typeof e=="string"?Ow(t,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hd{}class dd extends hd{}function Um(t,e,...n){let r=[];e instanceof hd&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof pd).length,l=s.filter(u=>u instanceof fd).length;if(a>1||a>0&&l>0)throw new Q(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fd extends dd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fd(e,n,r)}_apply(e){const n=this._parse(e);return qw(e._query,n),new nr(e.firestore,e.converter,Cc(e._query,n))}_parse(e){const n=Dw(e.firestore);return function(s,a,l,u,h,f,g){let w;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Q(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jm(g,f);const b=[];for(const D of g)b.push(qm(u,s,D));w={arrayValue:{values:b}}}else w=qm(u,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jm(g,f),w=ZE(l,a,g,f==="in"||f==="not-in");return ke.create(h,f,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pd extends hd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)qw(a,u),a=Cc(a,u)}(e._query,n),new nr(e.firestore,e.converter,Cc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class md extends dd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new md(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Q(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qs(s,a)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Ni(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Om(t,e="asc"){const n=e,r=cd("orderBy",t);return md._create(r,n)}class gd extends dd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gd(e,n,r)}_apply(e){return new nr(e.firestore,e.converter,La(e._query,this._limit,this._limitType))}}function Lm(t){return tx("limit",t),gd._create("limit",t,"F")}function qm(t,e,n){if(typeof(n=pi(n))=="string"){if(n==="")throw new Q(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L1(e)&&n.indexOf("/")!==-1)throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!X.isDocumentKey(r))throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zp(t,new X(r))}if(n instanceof Fe)return Zp(t,n._key);throw new Q(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ul(n)}.`)}function jm(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qw(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sA{convertValue(e,n="none"){switch(Xn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ua].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>Ne(a.doubleValue));return new en(n)}convertGeoPoint(e){return new Zt(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bs(e));default:return null}}convertTimestamp(e){const n=Gn(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);ue(aw(r),9688,{name:e});const i=new Ws(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ii extends Lw{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ia(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ii._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ii._jsonSchemaVersion="firestore/documentSnapshot/1.0",ii._jsonSchema={type:De("string",ii._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ia extends ii{data(e={}){return super.data(e)}}class si{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ia(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ia(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:aA(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=si._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}si._jsonSchemaVersion="firestore/querySnapshot/1.0",si._jsonSchema={type:De("string",si._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class lA extends sA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function Fm(t){t=Da(t,nr);const e=Da(t.firestore,id),n=bw(e),r=new lA(e);return iA(t._query),zE(n,t._query).then(i=>new si(e,r,t,i))}function yd(t,e){const n=Da(t.firestore,id),r=HE(t),i=oA(t.converter,e);return uA(n,[JE(Dw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function uA(t,e){return function(r,i){const s=new Wn;return r.asyncQueue.enqueueAndForget(async()=>PE(await BE(r),i,s)),s.promise}(bw(t),e)}function _s(){return new ld("serverTimestamp")}(function(e,n=!0){(function(i){Ai=i})(kT),ka(new qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new id(new HT(r.getProvider("auth-internal")),new KT(a,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(h.options.projectId,f)}(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ni(jp,Fp,e),ni(jp,Fp,"esm2020")})();var cA="firebase",hA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(cA,hA,"app");const dA={apiKey:"AIzaSyBszM1xZWmnQwoMP2HNAKUuZlChNukiO9I",authDomain:"quiz-app-1970f.firebaseapp.com",projectId:"quiz-app-1970f",storageBucket:"quiz-app-1970f.firebasestorage.app",messagingSenderId:"137440929946",appId:"1:137440929946:web:9c5d1caf66843f8ca61723",measurementId:"G-GN0T5SQQNY"},fA=l1(dA),Ha=$E(fA),pA=za(Ha,"visits"),jw=za(Ha,"quiz_events"),mA=()=>{const[t,e]=te.useState([]),[n,r]=te.useState([]),[i,s]=te.useState(!0),[a,l]=te.useState(null),[u,h]=te.useState("overview"),[f,g]=te.useState({totalUsers:0,newUsersToday:0,returningUsers:0,averageScore:0,totalQuizTime:0,peakUsageHour:0,completionRate:0,mostPopularUnit:"",averageQuestionsPerSession:0,deviceBreakdown:{desktop:0,mobile:0,tablet:0},browserBreakdown:{},locationBreakdown:{},dailyActivity:[],hourlyActivity:[]}),[w,C]=te.useState(!1),[b,D]=te.useState(""),M="Carino16",E=(P,V)=>{var K;const v=new Date;v.setHours(0,0,0,0);const y=new Set(P.map(F=>F.visitorId)),I=new Set(P.filter(F=>F.firstVisit.toDate()>=v).map(F=>F.visitorId)),x=V.filter(F=>F.eventType==="quiz_complete"),A=x.length>0?x.reduce((F,G)=>F+(G.score||0),0)/x.length:0,N={desktop:0,mobile:0,tablet:0},T={},me={};P.forEach(F=>{const G=F.userAgent.toLowerCase();if(G.includes("mobile")?N.mobile++:G.includes("tablet")?N.tablet++:N.desktop++,G.includes("chrome")?T.Chrome=(T.Chrome||0)+1:G.includes("firefox")?T.Firefox=(T.Firefox||0)+1:G.includes("safari")?T.Safari=(T.Safari||0)+1:G.includes("edge")&&(T.Edge=(T.Edge||0)+1),F.location&&F.location.country){const le=F.location.city?`${F.location.city}, ${F.location.country}`:F.location.country;me[le]=(me[le]||0)+1}else me.Unknown=(me.Unknown||0)+1});const rt=Array.from({length:24},(F,G)=>({hour:G,activity:0}));V.forEach(F=>{const G=F.timestamp.toDate().getHours();rt[G].activity++});const nn=rt.reduce((F,G)=>G.activity>F.activity?G:F).hour,At=Array.from({length:7},(F,G)=>{const le=new Date;le.setDate(le.getDate()-G),le.setHours(0,0,0,0);const he=new Date(le);he.setDate(he.getDate()+1);const _e=P.filter(yt=>yt.firstVisit.toDate()>=le&&yt.firstVisit.toDate()<he).length,it=V.filter(yt=>yt.timestamp.toDate()>=le&&yt.timestamp.toDate()<he).length;return{date:le.toLocaleDateString(),visits:_e,quizzes:it}}).reverse(),z=V.filter(F=>F.eventType==="quiz_complete").reduce((F,G)=>(F[G.unit]||(F[G.unit]={count:0,avgScore:0,totalScore:0}),F[G.unit].count++,F[G.unit].totalScore+=G.score||0,F[G.unit].avgScore=F[G.unit].totalScore/F[G.unit].count,F),{}),q=((K=Object.entries(z).sort(([,F],[,G])=>G.count-F.count)[0])==null?void 0:K[0])||"",W=V.length>0?x.length/V.filter(F=>F.eventType==="quiz_start").length*100:0;g({totalUsers:y.size,newUsersToday:I.size,returningUsers:y.size-I.size,averageScore:Math.round(A),totalQuizTime:0,peakUsageHour:nn,completionRate:Math.round(W),mostPopularUnit:q,averageQuestionsPerSession:x.length>0?x.reduce((F,G)=>F+(G.totalQuestions||0),0)/x.length:0,deviceBreakdown:N,browserBreakdown:T,locationBreakdown:me,dailyActivity:At,hourlyActivity:rt})};te.useEffect(()=>{if(!w)return;(async()=>{try{const V=Um(za(Ha,"visits"),Om("trackedAt","desc"),Lm(50)),y=(await Fm(V)).docs.map(N=>N.data());e(y);const I=Um(za(Ha,"quiz_events"),Om("timestamp","desc"),Lm(100)),A=(await Fm(I)).docs.map(N=>N.data());r(A),E(y,A),s(!1)}catch(V){l("Failed to fetch analytics data"),s(!1),console.error("Error fetching analytics:",V)}})()},[w]);const _=P=>{P.preventDefault(),b===M?C(!0):l("Invalid password")};if(!w)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Admin Login"}),p.jsxs("form",{onSubmit:_,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Password"}),p.jsx("input",{type:"password",value:b,onChange:P=>D(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password"})]}),a&&p.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:a}),p.jsx("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Login"})]})]})});if(i)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600",children:"Loading analytics data..."})]})});const S=n.filter(P=>P.eventType==="quiz_complete").length,U=n.filter(P=>P.eventType==="quiz_complete").reduce((P,V)=>(P[V.unit]||(P[V.unit]={count:0,avgScore:0,totalScore:0}),P[V.unit].count++,P[V.unit].totalScore+=V.score||0,P[V.unit].avgScore=P[V.unit].totalScore/P[V.unit].count,P),{});return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-4",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),p.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Logout"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-blue-600",children:"Total Users"}),p.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f.totalUsers}),p.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["+",f.newUsersToday," today"]})]}),p.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-green-600",children:"Avg Score"}),p.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[f.averageScore,"%"]}),p.jsx("p",{className:"text-xs text-green-500 mt-1",children:"Across all units"})]}),p.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-purple-600",children:"Completion Rate"}),p.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[f.completionRate,"%"]}),p.jsxs("p",{className:"text-xs text-purple-500 mt-1",children:[S," completed"]})]}),p.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-orange-600",children:"Peak Hour"}),p.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[f.peakUsageHour,":00"]}),p.jsx("p",{className:"text-xs text-orange-500 mt-1",children:"Most active time"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[p.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-indigo-600",children:"Most Popular Unit"}),p.jsx("p",{className:"text-xl font-bold text-indigo-900",children:f.mostPopularUnit||"N/A"})]}),p.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-teal-600",children:"Returning Users"}),p.jsx("p",{className:"text-xl font-bold text-teal-900",children:f.returningUsers})]}),p.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"text-sm font-medium text-pink-600",children:"Avg Questions/Session"}),p.jsx("p",{className:"text-xl font-bold text-pink-900",children:Math.round(f.averageQuestionsPerSession)})]})]}),p.jsxs("div",{className:"flex space-x-1 mb-6",children:[p.jsx("button",{onClick:()=>h("overview"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="overview"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Overview"}),p.jsx("button",{onClick:()=>h("visits"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="visits"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Visitor Data"}),p.jsx("button",{onClick:()=>h("quiz"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="quiz"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Quiz Events"}),p.jsx("button",{onClick:()=>h("insights"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="insights"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Insights"})]}),u==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Activity (Last 7 Days)"}),p.jsx("div",{className:"space-y-2",children:f.dailyActivity.map((P,V)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:P.date}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),p.jsxs("span",{className:"text-sm",children:[P.visits," visits"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),p.jsxs("span",{className:"text-sm",children:[P.quizzes," quizzes"]})]})]})]},V))})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Device Breakdown"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Desktop"}),p.jsx("span",{className:"text-sm font-medium",children:f.deviceBreakdown.desktop})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Mobile"}),p.jsx("span",{className:"text-sm font-medium",children:f.deviceBreakdown.mobile})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Tablet"}),p.jsx("span",{className:"text-sm font-medium",children:f.deviceBreakdown.tablet})]})]})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Browser Breakdown"}),p.jsx("div",{className:"space-y-2",children:Object.entries(f.browserBreakdown).map(([P,V])=>p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:P}),p.jsx("span",{className:"text-sm font-medium",children:V})]},P))})]})]})]}),u==="insights"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Peak Usage Hours"}),p.jsx("div",{className:"grid grid-cols-6 gap-2",children:f.hourlyActivity.map(P=>p.jsxs("div",{className:"text-center",title:`${P.hour}:00 - ${P.activity} activities`,children:[p.jsx("div",{className:"h-16 bg-blue-500 rounded-t",style:{height:`${Math.max(16,P.activity/Math.max(...f.hourlyActivity.map(V=>V.activity))*64)}px`}}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[P.hour,"h"]})]},P.hour))})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Location Breakdown"}),p.jsx("div",{className:"space-y-3",children:Object.entries(f.locationBreakdown).sort(([,P],[,V])=>V-P).slice(0,10).map(([P,V])=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:P}),p.jsxs("div",{className:"text-sm text-gray-500",children:[V," visitors"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"font-medium",children:[Math.round(V/f.totalUsers*100),"%"]}),p.jsx("div",{className:"text-sm text-gray-500",children:"of total"})]})]},P))})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Unit Performance"}),p.jsx("div",{className:"space-y-3",children:Object.entries(U).map(([P,V])=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:P}),p.jsxs("div",{className:"text-sm text-gray-500",children:[V.count," attempts"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"font-medium",children:[V.avgScore.toFixed(1),"%"]}),p.jsx("div",{className:"text-sm text-gray-500",children:"avg score"})]})]},P))})]}),p.jsxs("div",{className:"bg-white p-6 rounded-lg border lg:col-span-2",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Engagement Insights"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.newUsersToday}),p.jsx("div",{className:"text-sm text-blue-500",children:"New Users Today"})]}),p.jsxs("div",{className:"text-center p-4 bg-green-50 rounded",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.returningUsers}),p.jsx("div",{className:"text-sm text-green-500",children:"Returning Users"})]}),p.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.round(f.averageQuestionsPerSession)}),p.jsx("div",{className:"text-sm text-purple-500",children:"Avg Questions/Session"})]})]})]})]}),u==="visits"&&p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Visitors"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visitor ID"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Browser & OS"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Screen"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Visit"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((P,V)=>{var v,y,I,x,A,N;return p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.visitorId}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium capitalize",children:((v=P.deviceInfo)==null?void 0:v.deviceType)||"Unknown"}),p.jsx("div",{className:"text-xs text-gray-400",children:((y=P.deviceInfo)==null?void 0:y.deviceName)||"Unknown Device"})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:((I=P.deviceInfo)==null?void 0:I.browser)||"Unknown"}),p.jsx("div",{className:"text-xs text-gray-400",children:((x=P.deviceInfo)==null?void 0:x.os)||"Unknown OS"})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((A=P.deviceInfo)==null?void 0:A.screenResolution)||"Unknown"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.location?`${P.location.city}, ${P.location.country}`:"Unknown"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((N=P.location)==null?void 0:N.ip)||"Unknown"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.firstVisit.toDate().toLocaleString()})]},V)})})]})})]}),u==="quiz"&&p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quiz Statistics by Unit"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:Object.entries(U).map(([P,V])=>p.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:P}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Completions: ",V.count]}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Avg Score: ",V.avgScore.toFixed(1),"%"]})]},P))}),p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Quiz Events"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Type"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((P,V)=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P.eventType==="quiz_start"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:P.eventType})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.unit}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.score?`${P.score}%`:"-"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P.timestamp.toDate().toLocaleString()})]},V))})]})})]})]})})})},oi={VISITOR_ID:"visitor_id",FIRST_VISIT:"first_visit",HAS_TRACKED_VISIT:"has_tracked_visit"},wd=()=>{let t=localStorage.getItem(oi.VISITOR_ID);return t||(t="visitor_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(oi.VISITOR_ID,t),localStorage.setItem(oi.FIRST_VISIT,new Date().toISOString())),t},gA=()=>!localStorage.getItem(oi.HAS_TRACKED_VISIT),yA=()=>{localStorage.setItem(oi.HAS_TRACKED_VISIT,"true")},wA=()=>{localStorage.setItem("has_location_tracked","true")},vA=()=>{const t=navigator.userAgent,e=navigator.platform,n=navigator.vendor||"";console.log("User Agent:",t),console.log("Platform:",e);let r="desktop";/mobile|android|iphone|ipad|phone/i.test(t)?r="mobile":/tablet|ipad/i.test(t)&&(r="tablet");let i="Unknown";t.includes("Chrome")?i="Chrome":t.includes("Firefox")?i="Firefox":t.includes("Safari")&&!t.includes("Chrome")?i="Safari":t.includes("Edge")?i="Edge":t.includes("Opera")&&(i="Opera");let s="Unknown";t.includes("Windows")?s="Windows":t.includes("Mac")?s="macOS":t.includes("Linux")?s="Linux":t.includes("Android")?s="Android":(t.includes("iOS")||t.includes("iPhone")||t.includes("iPad"))&&(s="iOS");let a="Unknown";if(t.includes("iPhone")){const h=t.match(/iPhone OS (\d+_\d+)/);h&&(a=`iPhone (iOS ${h[1].replace("_",".")})`)}else if(t.includes("iPad")){const h=t.match(/iPad OS (\d+_\d+)/);h&&(a=`iPad (iOS ${h[1].replace("_",".")})`)}else if(t.includes("Android")){const h=t.match(/Android (\d+\.\d+)/);h&&(a=`Android Device (${h[1]})`)}else if(t.includes("Windows")){const h=t.match(/Windows NT (\d+\.\d+)/);h&&(a=`Windows (${h[1]})`)}const l=`${screen.width}x${screen.height}`,u={deviceType:r,browser:i,os:s,deviceName:a,platform:e,vendor:n,screenResolution:l,userAgent:t};return console.log("Device Info:",u),u},IA=async()=>{try{const t=await fetch("https://ipapi.co/json/");if(!t.ok)return null;const e=await t.json();return{country:e.country_name||"Unknown",city:e.city||"Unknown",ip:e.ip||"Unknown"}}catch(t){return console.error("Error fetching location:",t),null}},_A=async()=>{const t=wd(),e=localStorage.getItem(oi.FIRST_VISIT),n=await IA(),r=vA();try{await yd(pA,{visitorId:t,firstVisit:e?new Date(e):_s(),trackedAt:_s(),userAgent:navigator.userAgent,referrer:document.referrer||"direct",deviceInfo:r,location:n||null,timestamp:_s()}),gA()&&yA(),wA(),console.log("Visitor tracked with device info and location:",{deviceInfo:r,location:n})}catch(i){console.error("Error tracking visitor:",i)}},TA=async t=>{try{const e=wd();await yd(jw,{visitorId:e,eventType:"quiz_start",unit:t,timestamp:_s(),sessionId:Fw()}),console.log("Quiz start tracked:",t)}catch(e){console.error("Error tracking quiz start:",e)}},Bm=async(t,e,n,r)=>{try{const i=wd();await yd(jw,{visitorId:i,eventType:"quiz_complete",unit:t,totalQuestions:e,correctAnswers:n,score:r,percentage:Math.round(n/e*100),timestamp:_s(),sessionId:Fw()}),console.log("Quiz completion tracked:",{unit:t,score:r})}catch(i){console.error("Error tracking quiz completion:",i)}},Fw=()=>{let t=sessionStorage.getItem("quiz_session_id");return t||(t="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),sessionStorage.setItem("quiz_session_id",t)),t},xA=async()=>{await _A()};function EA(){var z;const[t,e]=te.useState({stage:"chapterSelect"}),[n,r]=te.useState([]),[i,s]=te.useState([]),[a,l]=te.useState([]),[u,h]=te.useState([]),[f,g]=te.useState(!1),[w,C]=te.useState(!0),[b,D]=te.useState(null),[M,E]=te.useState(!0),[_,S]=te.useState(!1);te.useEffect(()=>{try{const q=YI;if(!Array.isArray(q)||q.length===0)throw new Error("No questions found");r(q);const W=new Map;q.forEach(G=>{W.set(G.chapter,(W.get(G.chapter)||0)+1)});const K=Array.from(W.entries()).map(([G])=>({id:G,name:G,description:`${W.get(G)} questions`}));s(K);const F=q.map(G=>({questionId:G.id,status:"unanswered"}));h(F),console.log("Loaded chapters:",K),console.log("Loaded questions:",q),C(!1)}catch(q){D(q instanceof Error?q.message:"Failed to load questions"),C(!1)}},[]),te.useEffect(()=>{xA().catch(console.error)},[]),te.useEffect(()=>{const q=W=>{W.ctrlKey&&W.shiftKey&&W.key==="A"&&(W.preventDefault(),S(K=>!K))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[]);const U=q=>{console.log("Selected chapter:",q);const W=n.filter(F=>F.chapter===q);if(W.length===0){alert(`No questions found for ${q}. Please try another chapter.`);return}l([]);const K=n.map(F=>({questionId:F.id,status:(F.chapter===q,"unanswered")}));h(K),console.log(`Found ${W.length} questions for ${q}`),TA(q).catch(console.error),e({stage:"exam",chapter:q,currentQuestionIndex:0})},P=(q,W)=>{if(t.stage!=="exam")return;const K=n.filter(he=>he.chapter===t.chapter),F=K[t.currentQuestionIndex],G={questionId:F.id,selectedIndex:q,isCorrect:W,correctIndex:F.answerIndex};if(l(he=>[...he,G]),h(he=>{const _e=[...he],it=n.findIndex(yt=>yt.id===F.id);return it!==-1&&(_e[it]={questionId:F.id,status:"answered"}),_e}),t.currentQuestionIndex===K.length-1){const he=[...a,G].filter(yt=>yt.isCorrect).length,_e=K.length,it={totalQuestions:_e,correctAnswers:he,wrongAnswers:_e-he,score:Math.round(he/_e*100),chapter:t.chapter,percentage:Math.round(he/_e*100),completedAt:Date.now()};Bm(t.chapter,_e,he,Math.round(he/_e*100)).catch(console.error),e({stage:"result",results:it})}},V=()=>{if(t.stage!=="exam")return;const q=n.filter(F=>F.chapter===t.chapter),W=q[t.currentQuestionIndex];h(F=>{const G=[...F],le=n.findIndex(he=>he.id===W.id);return le!==-1&&(G[le]={...G[le],status:"skipped"}),G});const K=t.currentQuestionIndex+1;K<q.length&&e({...t,currentQuestionIndex:K})},v=()=>{t.stage!=="exam"||t.currentQuestionIndex<=0||e({...t,currentQuestionIndex:t.currentQuestionIndex-1})},y=()=>{if(t.stage!=="exam")return;const q=n.filter(K=>K.chapter===t.chapter),W=t.currentQuestionIndex+1;W<q.length&&e({...t,currentQuestionIndex:W})},I=()=>{g(!0)},x=()=>{if(g(!1),t.stage==="exam"){const q=t,W=n.filter(le=>le.chapter===q.chapter),K=a.filter(le=>le.isCorrect).length,F=W.length,G={totalQuestions:F,correctAnswers:K,wrongAnswers:F-K,score:Math.round(K/F*100),chapter:q.chapter,percentage:Math.round(K/F*100),completedAt:Date.now()};Bm(q.chapter,F,K,Math.round(K/F*100)).catch(console.error),e({stage:"result",results:G})}},A=()=>{g(!1)},N=()=>{l([]),h(n.map(q=>({questionId:q.id,status:"unanswered"}))),e({stage:"chapterSelect"})},T=()=>{if(t.stage==="chapterSelect")return[];if(t.stage!=="exam"&&t.stage!=="result")return[];const q=t.chapter,W=n.filter(K=>K.chapter===q);return console.log("Chapter:",q),console.log("Total questions:",n.length),console.log("Filtered questions:",W.length),W},me=()=>{const q=a.filter(G=>G.isCorrect).length,W=a.length,K=W-q,F=W>0?Math.round(q/W*100):0;return{totalQuestions:W,correctAnswers:q,wrongAnswers:K,score:F,chapter:t.stage==="exam"?t.chapter:"",percentage:F,completedAt:Date.now()}};if(w)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 font-medium",children:"Loading questions..."})]})});if(b)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-100 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[p.jsx("div",{className:"text-red-600 text-5xl mb-4 text-center",children:""}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Error Loading Exam"}),p.jsx("p",{className:"text-gray-600 mb-6 text-center",children:b}),p.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Please ensure ",p.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"questions.json"})," exists in the public folder."]})]})});const rt=a.filter(q=>q.isCorrect).length,nn=a.filter(q=>!q.isCorrect).length,At=T();return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[M&&p.jsx(o_,{onStart:()=>E(!1)}),_?p.jsx(mA,{}):p.jsxs(p.Fragment,{children:[p.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 text-white px-4 py-2 rounded-lg z-50",children:"Skip to main content"}),t.stage==="chapterSelect"&&p.jsx(ZI,{chapters:i,onSelectChapter:U}),t.stage==="exam"&&p.jsxs("div",{className:"min-h-screen flex flex-col p-4 sm:p-6 lg:p-8",children:[p.jsxs("div",{className:"w-full max-w-3xl mx-auto mb-4 flex justify-between items-center",children:[p.jsx("button",{onClick:()=>e({stage:"chapterSelect"}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium","aria-label":"Back to chapters",children:" Back"}),p.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t.chapter}),p.jsx("button",{onClick:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Quit exam",children:"Quit Exam"})]}),p.jsx("main",{id:"main-content",className:"flex-1 flex flex-col items-center",children:p.jsx("div",{className:"w-full max-w-3xl",children:At.length>0?p.jsxs(p.Fragment,{children:[p.jsx(t_,{current:t.currentQuestionIndex+1,total:At.length,correct:rt,wrong:nn}),p.jsx(i_,{questionStates:u.filter((q,W)=>n[W].chapter===t.chapter),currentQuestionIndex:t.currentQuestionIndex,onNavigateToQuestion:q=>{e(W=>({...W,currentQuestionIndex:q}))},userAnswers:a.filter(q=>{const W=n.find(K=>K.id===q.questionId);return(W==null?void 0:W.chapter)===t.chapter})}),p.jsx(e_,{question:At[t.currentQuestionIndex],questionNumber:t.currentQuestionIndex+1,totalQuestions:At.length,onSubmitAnswer:P,onNext:y,onPrevious:v,onSkip:V,isAnswered:((z=u[t.currentQuestionIndex])==null?void 0:z.status)==="answered"})]}):p.jsxs("div",{className:"text-center py-20",children:[p.jsx("p",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No questions available"}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["No questions found for ",t.chapter]}),p.jsx("button",{onClick:()=>e({stage:"chapterSelect"}),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Return to Chapters"})]})})})]}),t.stage==="result"&&p.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:p.jsx("main",{id:"main-content",children:p.jsx(n_,{results:me(),onRestart:N})})}),f&&p.jsx(r_,{onConfirm:x,onCancel:A})]}),!_&&t.stage==="chapterSelect"&&p.jsx("button",{onClick:()=>S(!0),className:"fixed bottom-6 right-6 w-12 h-12 bg-gray-800 hover:bg-gray-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110 z-50",title:"Admin Dashboard",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})})]})}xu.createRoot(document.getElementById("root")).render(p.jsx(Dv.StrictMode,{children:p.jsx(EA,{})}));
